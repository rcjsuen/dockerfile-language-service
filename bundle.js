(()=>{var e={1026:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(7506),a=n(8661),i="dockerfile";monaco.editor.defineTheme("custom",{base:"vs",inherit:!0,colors:{},rules:[{token:"keyword",foreground:"450640"},{token:"comment",foreground:"EA19D5"},{token:"parameter",foreground:"1C7E5C"},{token:"property",foreground:"4930CE"},{token:"namespace",foreground:"CE4930"},{token:"class",foreground:"CE3049",fontStyle:"underline"},{token:"macro",foreground:"6ED5D5"},{token:"string",foreground:"4E11F8"},{token:"variable",foreground:"7F7F30"},{token:"operator",foreground:"6ED5D5"},{token:"modifier",foreground:"10107F"}]}),monaco.editor.defineTheme("custom-dark",{base:"vs-dark",inherit:!0,colors:{},rules:[{token:"keyword",foreground:"C586C0"},{token:"comment",foreground:"6A9955"},{token:"parameter",foreground:"9CFEDC"},{token:"property",foreground:"C9B04E"},{token:"namespace",foreground:"4EC9B0"},{token:"class",foreground:"4EB0C9",fontStyle:"underline"},{token:"macro",foreground:"EE5555"},{token:"string",foreground:"CE9178"},{token:"variable",foreground:"FFFFB0"},{token:"operator",foreground:"EE5555"},{token:"modifier",foreground:"9090FF"}]});var s=monaco.editor.create(document.getElementById("container"),{language:i,value:'FROM node:alpine\nCOPY lib /docker-langserver/lib\nCOPY bin /docker-langserver/bin\nCOPY package.json /docker-langserver/package.json\nWORKDIR /docker-langserver/\nRUN npm install --production && \\\n    chmod +x /docker-langserver/bin/docker-langserver\nENTRYPOINT [ "/docker-langserver/bin/docker-langserver" ]',lightbulb:{enabled:!0},"semanticHighlighting.enabled":!0,formatOnType:!0,theme:"custom-dark"}).getModel(),o=s.uri,c={uri:o.toString()},u=r.DockerfileLanguageServiceFactory.createLanguageService();function g(e){return{tabSize:e.tabSize,insertSpaces:e.insertSpaces}}function l(e){return{start:{line:e.startLineNumber-1,character:e.startColumn-1},end:{line:e.endLineNumber-1,character:e.endColumn-1}}}function h(e,t){return{line:e-1,character:t-1}}function d(e){return{startLineNumber:e.start.line+1,startColumn:e.start.character+1,endLineNumber:e.end.line+1,endColumn:e.end.character+1}}function m(e){return{range:d(e.range),text:e.newText}}function f(e){return e.map(m)}function p(e){return{label:e.label,documentation:{value:e.documentation}}}function _(e){return{documentation:{value:e.documentation},label:e.label,parameters:e.parameters?e.parameters.map(p):[]}}function v(e){return{edits:e.map((function(e){return{edit:e,resource:o}}))}}function A(e){return{label:(e=u.resolveCompletionItem(e)).label,documentation:{value:e.documentation},range:e.textEdit?d(e.textEdit.range):void 0,kind:e.kind+1,insertText:e.textEdit?e.textEdit.newText:e.insertText,insertTextRules:e.insertTextFormat===a.InsertTextFormat.Snippet?monaco.languages.CompletionItemInsertTextRule.InsertAsSnippet:void 0}}u.setCapabilities({completion:{completionItem:{snippetSupport:!0}}}),s.onDidChangeContent((function(){var e=u.validate(s.getValue()).map((function(e){var t=d(e.range);return{code:void 0!==e.code?e.code.toString():void 0,severity:1===e.severity?monaco.MarkerSeverity.Error:monaco.MarkerSeverity.Warning,startLineNumber:t.startLineNumber,startColumn:t.startColumn,endLineNumber:t.endLineNumber,endColumn:t.endColumn,message:e.message,source:e.source,tags:e.tags}}));monaco.editor.setModelMarkers(s,i,e)})),monaco.languages.registerDocumentSemanticTokensProvider(i,{getLegend:function(){var e=[],t=[];return e.push(a.SemanticTokenTypes.keyword),e.push(a.SemanticTokenTypes.comment),e.push(a.SemanticTokenTypes.parameter),e.push(a.SemanticTokenTypes.property),e.push(a.SemanticTokenTypes.namespace),e.push(a.SemanticTokenTypes.class),e.push(a.SemanticTokenTypes.macro),e.push(a.SemanticTokenTypes.string),e.push(a.SemanticTokenTypes.variable),e.push(a.SemanticTokenTypes.operator),e.push(a.SemanticTokenTypes.modifier),t.push(a.SemanticTokenModifiers.declaration),t.push(a.SemanticTokenModifiers.definition),t.push(a.SemanticTokenModifiers.deprecated),{tokenModifiers:t,tokenTypes:e}},provideDocumentSemanticTokens:function(e){return u.computeSemanticTokens(e.getValue())},releaseDocumentSemanticTokens:function(){}}),monaco.languages.registerCodeActionProvider(i,{provideCodeActions:function(e,t,n){for(var r=[],a=0,i=u.computeCodeActions(c,l(t),function(e){return{diagnostics:e.markers.map((function(e){var t=l(e);return{code:Number(e.code),range:t}}))}}(n));a<i.length;a++){var o=i[a],g=o.arguments?o.arguments:[],h=u.computeCommandEdits(s.getValue(),o.command,g);r.push({title:o.title,edit:v(f(h))})}return{actions:r,dispose:function(){}}}}),monaco.languages.registerCompletionItemProvider(i,{triggerCharacters:["="," ","$","-"],provideCompletionItems:function(e,t){var n=h(t.lineNumber,t.column),r=u.computeCompletionItems(e.getValue(),n);return r.then?r.then((function(e){return{incomplete:!1,suggestions:e.map(A)}})):{incomplete:!1,suggestions:r.map(A)}}}),monaco.languages.registerDefinitionProvider(i,{provideDefinition:function(e,t){var n=u.computeDefinition(c,e.getValue(),h(t.lineNumber,t.column));return n?{range:d(n.range),uri:o}:null}}),monaco.languages.registerDocumentHighlightProvider(i,{provideDocumentHighlights:function(e,t){return u.computeHighlightRanges(e.getValue(),h(t.lineNumber,t.column)).map((function(e){return{kind:e.kind?e.kind-1:void 0,range:d(e.range)}}))}}),monaco.languages.registerHoverProvider(i,{provideHover:function(e,t){var n=u.computeHover(e.getValue(),h(t.lineNumber,t.column));return null===n?null:function(e){return{contents:[{value:e.contents}],range:void 0===e.range?void 0:d(e.range)}}(n)}}),monaco.languages.registerDocumentSymbolProvider(i,{provideDocumentSymbols:function(e){return u.computeSymbols(c,e.getValue()).map((function(e){return{name:e.name,range:d(e.location.range),kind:e.kind-1}}))}}),monaco.languages.registerSignatureHelpProvider(i,{signatureHelpTriggerCharacters:[" ","-","=","[",","],provideSignatureHelp:function(e,t){var n=u.computeSignatureHelp(e.getValue(),h(t.lineNumber,t.column));return{dispose:function(){},value:{activeParameter:void 0!==n.activeParameter?n.activeParameter:void 0,activeSignature:void 0!==n.activeSignature?n.activeSignature:void 0,signatures:n.signatures.map(_)}}}}),monaco.languages.registerRenameProvider(i,{provideRenameEdits:function(e,t,n){return v(f(u.computeRename(c,e.getValue(),h(t.lineNumber,t.column),n)))}}),monaco.languages.registerLinkProvider(i,{provideLinks:function(e){return{links:u.computeLinks(e.getValue()).map((function(e){return function(e){return{range:d(e.range),url:e.target}}(u.resolveLink(e))}))}}}),monaco.languages.registerDocumentFormattingEditProvider(i,{provideDocumentFormattingEdits:function(e,t){return f(u.format(e.getValue(),g(t)))}}),monaco.languages.registerDocumentRangeFormattingEditProvider(i,{provideDocumentRangeFormattingEdits:function(e,t,n){return f(u.formatRange(e.getValue(),l(t),g(n)))}}),monaco.languages.registerOnTypeFormattingEditProvider(i,{autoFormatTriggerCharacters:["`","\\"],provideOnTypeFormattingEdits:function(e,t,n,r){return f(u.formatOnType(e.getValue(),h(t.lineNumber,t.column),n,g(r)))}})},2447:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.Argument=void 0,t.Argument=class{constructor(e,t){this.value=e,this.range=t}toString(){return this.value}getRange(){return this.range}getValue(){return this.value}isAfter(e){return!(this.range.end.line<e.line)&&(this.range.start.line>e.line||this.range.start.character>e.character)}isBefore(e){return this.range.start.line<e.line||!(this.range.end.line>e.line)&&this.range.end.character<e.character}}},2179:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.Comment=void 0;const r=n(8661),a=n(7119),i=n(8707);class s extends a.Line{constructor(e,t){super(e,t)}toString(){const e=this.getContent();return e?"# "+e:"#"}getContent(){let e=this.getContentRange();return null===e?"":this.document.getText().substring(this.document.offsetAt(e.start),this.document.offsetAt(e.end))}getContentRange(){let e=this.getRange();const t=this.document.offsetAt(e.start);let n=this.document.getText().substring(t,this.document.offsetAt(e.end)),a=-1,s=-1;for(let e=1;e<n.length;e++)if(!i.Util.isWhitespace(n.charAt(e))){a=e;break}if(-1===a)return null;for(let e=n.length-1;e>=1;e--)if(!i.Util.isWhitespace(n.charAt(e))){s=e+1;break}return r.Range.create(this.document.positionAt(t+a),this.document.positionAt(t+s))}}t.Comment=s},1513:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.Dockerfile=void 0;const r=n(8661),a=n(243),i=n(791),s=n(8654),o=n(8707),c=n(243);class u extends i.ImageTemplate{constructor(e){super(),this.initialInstructions=new i.ImageTemplate,this.buildStages=[],this.directives=[],this.foundFrom=!1,this.document=e}getEscapeCharacter(){for(const e of this.directives)if(e.getDirective()===a.Directive.escape){const t=e.getValue();if("\\"===t||"`"===t)return t}return"\\"}getInitialARGs(){return this.initialInstructions.getARGs()}getContainingImage(e){let t=r.Range.create(r.Position.create(0,0),this.document.positionAt(this.document.getText().length));if(!o.Util.isInsideRange(e,t))return null;if((this.initialInstructions.getComments().length>0||this.initialInstructions.getInstructions().length>0)&&o.Util.isInsideRange(e,this.initialInstructions.getRange()))return this.initialInstructions;for(const t of this.buildStages)if(o.Util.isInsideRange(e,t.getRange()))return t;return this}addInstruction(e){e.getKeyword()===c.Keyword.FROM?(this.currentBuildStage=new i.ImageTemplate,this.buildStages.push(this.currentBuildStage),this.foundFrom=!0):this.foundFrom||this.initialInstructions.addInstruction(e),this.foundFrom&&this.currentBuildStage.addInstruction(e),super.addInstruction(e)}setDirectives(e){this.directives=e}getDirective(){return 0===this.directives.length?null:this.directives[0]}getDirectives(){return this.directives}resolveVariable(e,t){for(let n of this.getFROMs()){let r=n.getRange();if(r.start.line<=t&&t<=r.end.line){let n=new i.ImageTemplate;for(let e of this.initialInstructions.getARGs())n.addInstruction(e);return n.resolveVariable(e,t)}}let n=this.getContainingImage(r.Position.create(t,0));if(null===n)return;let a=n.resolveVariable(e,t);if(null===a){let n=new i.ImageTemplate;for(let e of this.initialInstructions.getARGs())n.addInstruction(e);return n.resolveVariable(e,t)}return a}getAvailableVariables(e){if(this.getInstructionAt(e)instanceof s.From){let e=[];for(let t of this.getInitialARGs()){let n=t.getProperty();n&&e.push(n.getName())}return e}let t=this.getContainingImage(r.Position.create(e,0));return t?t.getAvailableVariables(e):[]}getParentStage(e){const t=e.getFROM(),n=null===t?null:t.getImageName();if(null===n)return null;for(const e of this.getFROMs())if(e.getBuildStage()===n){const n=e.getRange();return n.start.line===t.getRange().start.line?null:this.getContainingImage(n.start)}return null}getStageHierarchy(e){const t=this.getContainingImage(r.Position.create(e,0));if(null===t)return[];const n=[t];let a=this.getParentStage(t);for(;null!==a;)n.splice(0,0,a),a=this.getParentStage(a);return n}getAvailableWorkingDirectories(e){const t=new Set;for(const n of this.getStageHierarchy(e))for(const r of n.getWORKDIRs())if(r.getRange().end.line<e){let e=r.getAbsolutePath();null!=e&&(e.endsWith("/")||(e+="/"),t.add(e))}return Array.from(t)}organizeComments(){const e=this.getComments();for(let t=0;t<e.length;t++)if(o.Util.isInsideRange(e[t].getRange().end,this.initialInstructions.getRange()))this.initialInstructions.addComment(e[t]);else for(const n of this.buildStages)o.Util.isInsideRange(e[t].getRange().start,n.getRange())&&n.addComment(e[t])}getRange(){const e=this.getComments(),t=this.getInstructions();let n=null;if(0===e.length)t.length>0&&(n=r.Range.create(t[0].getRange().start,t[t.length-1].getRange().end));else if(0===t.length)n=r.Range.create(e[0].getRange().start,e[e.length-1].getRange().end);else{const a=e[0].getRange().start,i=e[e.length-1].getRange().end,s=t[0].getRange().start,o=t[t.length-1].getRange().end;a.line<s.line?(i.line<o.line&&(n=r.Range.create(a,o)),n=r.Range.create(a,i)):n=i.line<o.line?r.Range.create(s,o):r.Range.create(s,i)}return null===n?0===this.directives.length?null:this.directives[0].getRange():0===this.directives.length?n:r.Range.create(this.directives[0].getRange().start,n.end)}}t.Dockerfile=u},1170:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.Flag=void 0;const r=n(8661),a=n(9571);t.Flag=class{constructor(e,t,n,r,a,i){if(this.options=[],this.range=t,this.name=n,this.nameRange=r,this.value=a,this.valueRange=i,null!==this.value){let t=e.offsetAt(i.start),n=-1,r=-1,s=!1;for(let i=0;i<a.length;i++)switch(a.charAt(i)){case"=":if(s=!0,-1===r){r=i+1;break}break;case",":this.options.push(this.createFlagOption(e,a,t,n,r,i)),n=-1,r=-1;break;default:-1===n&&(n=i)}s&&-1!==n&&this.options.push(this.createFlagOption(e,a,t,n,r,a.length))}}createFlagOption(e,t,n,i,s,o){const c=r.Range.create(e.positionAt(n+i),e.positionAt(n+o));return-1===s?new a.FlagOption(c,t.substring(i,o),c,null,null):new a.FlagOption(c,t.substring(i,s-1),r.Range.create(e.positionAt(n+i),e.positionAt(n+s-1)),t.substring(s,o),r.Range.create(e.positionAt(n+s),e.positionAt(n+o)))}toString(){return this.valueRange?"--"+this.name+"="+this.value:"--"+this.name}getRange(){return this.range}getName(){return this.name}getNameRange(){return this.nameRange}getValue(){return this.value}getValueRange(){return this.valueRange}getOption(e){for(const t of this.options)if(t.getName()===e)return t;return null}getOptions(){return this.options}hasOptions(){return this.options.length>0}}},9571:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.FlagOption=void 0,t.FlagOption=class{constructor(e,t,n,r,a){this.range=e,this.name=t,this.nameRange=n,this.value=r,this.valueRange=a}toString(){return null!==this.valueRange?this.name+"="+this.value:this.name}getRange(){return this.range}getName(){return this.name}getNameRange(){return this.nameRange}getValue(){return this.value}getValueRange(){return this.valueRange}}},8701:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.Heredoc=void 0,t.Heredoc=class{constructor(e,t,n,r,a){this.startRange=e,this.name=t,this.nameRange=n,this.contentRange=r,this.endRange=a}getName(){return this.name}getStartRange(){return this.startRange}getNameRange(){return this.nameRange}getContentRange(){return this.contentRange}getDelimiterRange(){return this.endRange}}},791:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.ImageTemplate=void 0;const r=n(8661),a=n(904),i=n(5450),s=n(4361),o=n(2474),c=n(5822),u=n(8654),g=n(3355),l=n(6319),h=n(8707),d=n(9377);t.ImageTemplate=class{constructor(){this.comments=[],this.instructions=[]}addComment(e){this.comments.push(e)}getComments(){return this.comments}addInstruction(e){this.instructions.push(e)}getInstructions(){return this.instructions}getInstructionAt(e){for(let t of this.instructions)if(h.Util.isInsideRange(r.Position.create(e,0),t.getRange()))return t;return null}getARGs(){let e=[];for(let t of this.instructions)t instanceof a.Arg&&e.push(t);return e}getCMDs(){let e=[];for(let t of this.instructions)t instanceof i.Cmd&&e.push(t);return e}getCOPYs(){let e=[];for(let t of this.instructions)t instanceof s.Copy&&e.push(t);return e}getENTRYPOINTs(){let e=[];for(let t of this.instructions)t instanceof c.Entrypoint&&e.push(t);return e}getENVs(){let e=[];for(let t of this.instructions)t instanceof o.Env&&e.push(t);return e}getFROM(){for(const e of this.instructions)if(e instanceof u.From)return e;return null}getFROMs(){let e=[];for(let t of this.instructions)t instanceof u.From&&e.push(t);return e}getHEALTHCHECKs(){let e=[];for(let t of this.instructions)t instanceof g.Healthcheck&&e.push(t);return e}getWORKDIRs(){const e=[];for(const t of this.instructions)t instanceof d.Workdir&&e.push(t);return e}getOnbuildTriggers(){let e=[];for(let t of this.instructions)if(t instanceof l.Onbuild){let n=t.getTriggerInstruction();n&&e.push(n)}return e}getAvailableVariables(e){const t=[];for(const n of this.getARGs())if(n.isBefore(e)){const e=n.getProperty();if(e){const n=e.getName();-1===t.indexOf(n)&&t.push(n)}}for(const n of this.getENVs())if(n.isBefore(e))for(const e of n.getProperties()){const n=e.getName();-1===t.indexOf(n)&&t.push(n)}return t}resolveVariable(e,t){let n=this.getENVs();for(let r=n.length-1;r>=0;r--)if(n[r].isBefore(t))for(let t of n[r].getProperties())if(t.getName()===e)return t.getValue();let r=this.getARGs();for(let n=r.length-1;n>=0;n--)if(r[n].isBefore(t)){let t=r[n].getProperty();if(t&&t.getName()===e)return t.getValue()}}getRange(){const e=this.getInstructions();if(0===e.length)return r.Range.create(0,0,0,0);const t=e[0].getRange().start,n=e[e.length-1].getRange().end;return r.Range.create(t,n)}contains(e){const t=this.getRange();return null!==t&&h.Util.isInsideRange(e,t)}}},9311:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.Instruction=void 0;const r=n(8661),a=n(8707),i=n(7119),s=n(2447),o=n(8155),c=n(243);class u extends i.Line{constructor(e,t,n,r,a,i){super(e,t),this.dockerfile=n,this.escapeChar=r,this.instruction=a,this.instructionRange=i}toString(){let e=this.getKeyword();for(let t of this.getRawArguments())e+=" ",e+=t.getValue();return e}getRangeContent(e){return null===e?null:this.document.getText().substring(this.document.offsetAt(e.start),this.document.offsetAt(e.end))}getInstructionRange(){return this.instructionRange}getInstruction(){return this.instruction}getKeyword(){return this.getInstruction().toUpperCase()}getArgumentsRange(){let e=this.getArguments();return 0===e.length?null:r.Range.create(e[0].getRange().start,e[e.length-1].getRange().end)}getArgumentsRanges(){let e=this.getArguments();if(0===e.length)return[];if(e[0].getRange().start.line===e[e.length-1].getRange().end.line)return[r.Range.create(e[0].getRange().start,e[e.length-1].getRange().end)];let t=[],n=-1,i=e[0].getRange().start,s=this.getInstructionRange(),o=this.document.offsetAt(i)-this.document.offsetAt(s.start),c=this.getTextContent().substring(o,this.document.offsetAt(e[e.length-1].getRange().end)-this.document.offsetAt(s.start)),u=this.document.offsetAt(s.start)+o,g=!1,l=!1;for(let e=0;e<c.length;e++){let s=c.charAt(e);if(s===this.escapeChar){let a=c.charAt(e+1);if(" "===a||"\t"===a)e:for(let a=e+2;a<c.length;a++)switch(c.charAt(a)){case" ":case"\t":continue;case"\r":a++;case"\n":null!==i&&t.push(r.Range.create(i,this.document.positionAt(u+n+1))),i=null,g=!0,l=!1,e=a;break e;default:break e}else"\r"===a?(null!==i&&(t.push(r.Range.create(i,this.document.positionAt(u+n+1))),i=null),g=!0,l=!1,e+=2):"\n"===a?(null!==i&&t.push(r.Range.create(i,this.document.positionAt(u+n+1))),i=null,g=!0,l=!1,e++):e++}else if(a.Util.isNewline(s))l&&(i=null,g=!0,l=!1);else if(!l){if(null===i){if("#"===s){l=!0;continue}let t=this.document.positionAt(u+e);0!==t.character&&(i=r.Position.create(t.line,0))}n=e}}return null===i?t.push(r.Range.create(this.document.positionAt(u+n),this.document.positionAt(u+n+1))):t.push(r.Range.create(i,this.document.positionAt(u+n+1))),t}getRawArgumentsContent(){let e=this.getArguments();return 0===e.length?null:this.getRangeContent(r.Range.create(e[0].getRange().start,e[e.length-1].getRange().end))}getArgumentsContent(){if(0===this.getArguments().length)return null;let e="",t=this.getArgumentsRanges(),n=this.document.getText();for(let r of t)e+=n.substring(this.document.offsetAt(r.start),this.document.offsetAt(r.end));return e}getArguments(){return this.getRawArguments()}getRawArguments(){let e=[],t=this.getInstructionRange(),n=this.document.offsetAt(t.end)-this.document.offsetAt(t.start),i=this.getTextContent().substring(n),o=this.document.offsetAt(t.start)+n,c=!1,u=!1,g=-1,l=!1,h=!1,d=-1,m="";for(let t=0;t<i.length;t++){let n=i.charAt(t);if(a.Util.isWhitespace(n)){if(h){l=!0,a.Util.isNewline(n)&&(l=!1,u&&(u=!1,c=!0));continue}-1!==g&&(-1===d?e.push(new s.Argument(m,r.Range.create(this.document.positionAt(o+g),this.document.positionAt(o+t)))):e.push(new s.Argument(m,r.Range.create(this.document.positionAt(o+g),this.document.positionAt(o+d)))),d=-1,m="",g=-1)}else if(n===this.escapeChar){let a=i.charAt(t+1);if(" "===a||"\t"===a)e:for(let e=t+2;e<i.length;e++)switch(i.charAt(e)){case" ":case"\t":continue;case"\r":e++;case"\n":u=!1,h=!0,c=!0,-1!==g&&(d=t),t=e;break e;default:d=t,-1===g&&(t=e-1);break e}else if("\r"===a)u=!1,h=!0,c=!0,-1!==g&&-1===d&&(d=t),t+=2;else if("\n"===a)u=!1,h=!0,c=!0,-1!==g&&-1===d&&(d=t),t++;else{if(l&&-1!==d&&(e.push(new s.Argument(m,r.Range.create(this.document.positionAt(o+g),this.document.positionAt(o+d)))),m="",g=-1),d=-1,l=!1,h=!1,"$"===a)m=m+n+a;else{if(""===a)break;m+=a}-1===g&&(g=t),t++}}else u||(c&&"#"===n?u=!0:(l&&-1!==d&&(e.push(new s.Argument(m,r.Range.create(this.document.positionAt(o+g),this.document.positionAt(o+d)))),m="",g=-1),l=!1,h=!1,d=-1,m+=n,-1===g&&(g=t)),c=!1)}return-1!==g&&(-1===d?e.push(new s.Argument(m,r.Range.create(this.document.positionAt(o+g),this.document.positionAt(o+i.length)))):e.push(new s.Argument(m,r.Range.create(this.document.positionAt(o+g),this.document.positionAt(o+d))))),e}getExpandedArguments(){let e=this.getArguments();for(let t=0;t<e.length;t++){const n=e[t].getRange();let r=this.document.offsetAt(n.start);const a=this.parseVariables(r,e[t].getValue()),i=[];let o=!1;for(let e of a){const t=this.dockerfile.resolveVariable(e.getName(),e.getNameRange().start.line);i.push(t),o=o||void 0!==t}if(o){let o="";for(let e=0;e<i.length;e++){const t=a[e].getRange(),n=this.document.offsetAt(t.start),s=this.document.offsetAt(t.end);i[e]?(o+=this.document.getText().substring(r,n),o+=i[e],r=s):(o+=this.document.getText().substring(r,s),r=s)}const c=this.document.offsetAt(n.end);c!==r&&(o+=this.document.getText().substring(r,c)),e[t]=new s.Argument(o,n)}}return e}getVariables(){const e=[],t=this.getRawArguments();for(const n of t){let t=n.getRange(),r=this.document.getText().substring(this.document.offsetAt(t.start),this.document.offsetAt(t.end));const a=this.parseVariables(this.document.offsetAt(n.getRange().start),r);for(const t of a)e.push(t)}return e}parseVariables(e,t){let n=[];e:for(let i=0;i<t.length;i++)switch(t.charAt(i)){case this.escapeChar:"$"===t.charAt(i+1)&&i++;break;case"$":if("{"===t.charAt(i+1)){let a="${",s="",c=-1,u="",g=-1,l=-1,h=-1;t:for(let d=i+2;d<t.length;d++){let m=t.charAt(d);switch(m){case this.escapeChar:for(let e=d+1;e<t.length;e++)switch(t.charAt(e)){case" ":case"\t":case"\r":continue;case"\n":d=e;continue t}break;case"}":a+="}";let f=null,p=null,_=-1!==h?u:null,v=null;-1===c?c=d:c+1===d?(f="",p=r.Range.create(this.document.positionAt(e+c+1),this.document.positionAt(e+c+1))):(-1===g?(g=h+1,l=h+1):l+=1,f=t.substring(h,h+1),p=r.Range.create(this.document.positionAt(e+h),this.document.positionAt(e+h+1)),v=r.Range.create(this.document.positionAt(e+g),this.document.positionAt(e+l)));let A=this.document.positionAt(e+i);n.push(new o.Variable(s,r.Range.create(this.document.positionAt(e+i+2),this.document.positionAt(e+c)),r.Range.create(A,this.document.positionAt(e+d+1)),f,p,_,v,void 0!==this.dockerfile.resolveVariable(s,A.line),this.isBuildVariable(s,A.line),a)),i=d;continue e;case":":-1===c?c=d:-1!==h?(-1===g?(g=d,l=d):l=d,u+=":"):h=d,a+=":";break;case"\n":case"\r":case" ":case"\t":break;default:-1===c?s+=m:-1!==h?(-1===g?(g=d,l=d):l=d,u+=m):h=d,a+=m}}break e}if(a.Util.isWhitespace(t.charAt(i+1))||i===t.length-1)continue;{let a="";t:for(let s=i+1;s<t.length;s++){let c=t.charAt(s);switch(c){case"\r":case"\n":case" ":case"\t":continue;case"$":case"'":case'"':let c=this.document.positionAt(e+i);n.push(new o.Variable(a,r.Range.create(this.document.positionAt(e+i+1),this.document.positionAt(e+s)),r.Range.create(c,this.document.positionAt(e+s)),null,null,null,null,void 0!==this.dockerfile.resolveVariable(a,c.line),this.isBuildVariable(a,c.line),"$"+a)),i=s-1;continue e;case this.escapeChar:for(let e=s+1;e<t.length;e++)switch(t.charAt(e)){case" ":case"\t":case"\r":continue;case"\n":s=e;continue t}let u=this.document.positionAt(e+i);n.push(new o.Variable(a,r.Range.create(this.document.positionAt(e+i+1),this.document.positionAt(e+s)),r.Range.create(u,this.document.positionAt(e+s)),null,null,null,null,void 0!==this.dockerfile.resolveVariable(a,u.line),this.isBuildVariable(a,u.line),"$"+a));break e}if(null===c.match(/^[a-z0-9_]+$/i)){let t=this.document.positionAt(e+i);n.push(new o.Variable(a,r.Range.create(this.document.positionAt(e+i+1),this.document.positionAt(e+s)),r.Range.create(t,this.document.positionAt(e+s)),null,null,null,null,void 0!==this.dockerfile.resolveVariable(a,t.line),this.isBuildVariable(a,t.line),"$"+a)),i=s-1;continue e}a+=c}let s=this.document.positionAt(e+i);n.push(new o.Variable(a,r.Range.create(this.document.positionAt(e+i+1),this.document.positionAt(e+t.length)),r.Range.create(s,this.document.positionAt(e+t.length)),null,null,null,null,void 0!==this.dockerfile.resolveVariable(a,s.line),this.isBuildVariable(a,s.line),"$"+a))}break e}return n}isBuildVariable(e,t){if(this.getKeyword()===c.Keyword.FROM){for(const t of this.dockerfile.getInitialARGs()){const n=t.getProperty();if(n&&e===n.getName())return!0}return}let n=this.dockerfile.getContainingImage(r.Position.create(t,0)),a=n.getENVs();for(let n=a.length-1;n>=0;n--)if(a[n].isBefore(t))for(let t of a[n].getProperties())if(t.getName()===e)return!1;let i=n.getARGs();for(let n=i.length-1;n>=0;n--)if(i[n].isBefore(t)){let t=i[n].getProperty();if(t&&t.getName()===e)return!0}}}t.Instruction=u},6581:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.Add=void 0;const r=n(4990);class a extends r.JSONInstruction{constructor(e,t,n,r,a,i){super(e,t,n,r,a,i)}stopSearchingForFlags(e){return-1===e.indexOf("--")}}t.Add=a},904:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.Arg=void 0;const r=n(8698),a=n(8535);class i extends a.PropertyInstruction{constructor(e,t,n,a,i,s){super(e,t,n,a,i,s),this.property=null;const o=this.getPropertyArguments();1===o.length?this.property=new r.Property(this.document,this.escapeChar,o[0]):this.property=null}getProperty(){return this.property}}t.Arg=i},5450:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.Cmd=void 0;const r=n(4990);class a extends r.JSONInstruction{constructor(e,t,n,r,a,i){super(e,t,n,r,a,i)}}t.Cmd=a},4361:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.Copy=void 0;const r=n(4990);class a extends r.JSONInstruction{constructor(e,t,n,r,a,i){super(e,t,n,r,a,i)}stopSearchingForFlags(e){return-1===e.indexOf("--")}getFromFlag(){let e=super.getFlags();return 1===e.length&&"from"===e[0].getName()?e[0]:null}}t.Copy=a},5822:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.Entrypoint=void 0;const r=n(4990);class a extends r.JSONInstruction{constructor(e,t,n,r,a,i){super(e,t,n,r,a,i)}}t.Entrypoint=a},2474:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.Env=void 0;const r=n(8535);class a extends r.PropertyInstruction{constructor(e,t,n,r,a,i){super(e,t,n,r,a,i)}getProperties(){return super.getProperties()}}t.Env=a},8654:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.From=void 0;const r=n(8661),a=n(8514);class i extends a.ModifiableInstruction{constructor(e,t,n,r,a,i){super(e,t,n,r,a,i)}stopSearchingForFlags(e){return-1===e.indexOf("--")}getImage(){return this.getRangeContent(this.getImageRange())}getImageName(){return this.getRangeContent(this.getImageNameRange())}getImageNameRange(){let e=this.getImageRange();if(e){let t=this.getRegistryRange();t&&(e.start=this.document.positionAt(this.document.offsetAt(t.end)+1));let n=this.getImageTagRange(),r=this.getImageDigestRange();return null===n?null!==r&&(e.end=this.document.positionAt(this.document.offsetAt(r.start)-1)):e.end=this.document.positionAt(this.document.offsetAt(n.start)-1),e}return null}getImageRange(){let e=this.getArguments();return 0!==e.length?e[0].getRange():null}getImageTag(){return this.getRangeContent(this.getImageTagRange())}getImageTagRange(){const e=this.getImageRange();if(e&&null===this.getImageDigestRange()){let t=this.getRangeContent(e),n=this.lastIndexOf(this.document.offsetAt(e.start),t,":");if(n>t.indexOf("/"))return r.Range.create(e.start.line,e.start.character+n+1,e.end.line,e.end.character)}return null}getImageDigest(){return this.getRangeContent(this.getImageDigestRange())}getImageDigestRange(){let e=this.getImageRange();if(e){let t=this.getRangeContent(e),n=this.lastIndexOf(this.document.offsetAt(e.start),t,"@");if(-1!==n)return r.Range.create(e.start.line,e.start.character+n+1,e.end.line,e.end.character)}return null}indexOf(e,t,n){let r=t.indexOf(n);const a=this.getVariables();for(let i=0;i<a.length;i++){const s=e+r,o=a[i].getRange();if(this.document.offsetAt(o.start)<s&&s<this.document.offsetAt(o.end)){const a=this.document.offsetAt(o.end)-e,s=t.substring(a).indexOf(n);if(-1===s)return-1;r=s+a,i=-1}}return r}lastIndexOf(e,t,n){let r=t.lastIndexOf(n);const a=this.getVariables();for(let i=0;i<a.length;i++){const s=e+r,o=a[i].getRange();if(this.document.offsetAt(o.start)<s&&s<this.document.offsetAt(o.end)){if(r=t.substring(0,r).lastIndexOf(n),-1===r)return-1;i=-1}}return r}getRegistry(){return this.getRangeContent(this.getRegistryRange())}getRegistryRange(){const e=this.getImageRange();if(e){const t=this.getImageTagRange(),n=this.getImageDigestRange();null===t?null!==n&&(e.end=this.document.positionAt(this.document.offsetAt(n.start)-1)):e.end=this.document.positionAt(this.document.offsetAt(t.start)-1);const a=this.getRangeContent(e),i=this.document.offsetAt(e.start),s=this.indexOf(i,a,":"),o=this.indexOf(i,a,"."),c=this.indexOf(i,a,"/");if(-1!==s||-1!==o)return r.Range.create(e.start,this.document.positionAt(i+c));if("localhost"===a.substring(0,c))return r.Range.create(e.start,this.document.positionAt(i+c))}return null}getBuildStage(){let e=this.getBuildStageRange();return null===e?null:this.getRangeContent(e)}getBuildStageRange(){let e=this.getArguments();return e.length>2&&"AS"===e[1].getValue().toUpperCase()?e[2].getRange():null}getPlatformFlag(){let e=super.getFlags();return 1===e.length&&"platform"===e[0].getName()?e[0]:null}}t.From=i},3355:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.Healthcheck=void 0;const r=n(8514);class a extends r.ModifiableInstruction{constructor(e,t,n,r,a,i){super(e,t,n,r,a,i)}stopSearchingForFlags(e){return"CMD"===(e=e.toUpperCase())||"NONE"===e}getSubcommand(){let e=this.getArguments();return 0!==e.length?e[0]:null}}t.Healthcheck=a},938:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.Label=void 0;const r=n(8535),a=n(8707);class i extends r.PropertyInstruction{constructor(e,t,n,r,a,i){super(e,t,n,r,a,i)}getVariables(){const e=super.getVariables(),t=this.getProperties();for(const n of t){const t=n.getUnescapedValue();if(null!==t&&t.length>2&&"'"===t.charAt(0)&&"'"===t.charAt(t.length-1)){const t=n.getValueRange();for(let n=0;n<e.length;n++)a.Util.isInsideRange(e[n].getRange().start,t)&&(e.splice(n,1),n--)}}return e}getProperties(){return super.getProperties()}}t.Label=i},6319:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.Onbuild=void 0;const r=n(8661),a=n(668),i=n(9311);class s extends i.Instruction{constructor(e,t,n,r,a,i){super(e,t,n,r,a,i)}getTrigger(){let e=this.getTriggerWord();return null===e?null:e.toUpperCase()}getTriggerWord(){return this.getRangeContent(this.getTriggerRange())}getTriggerRange(){let e=this.getArguments();return e.length>0?e[0].getRange():null}getTriggerInstruction(){let e=this.getTriggerRange();if(null===e)return null;let t=this.getArguments();return a.Parser.createInstruction(this.document,this.dockerfile,this.escapeChar,r.Range.create(t[0].getRange().start,this.getRange().end),this.getTriggerWord(),e)}}t.Onbuild=s},3062:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.Run=void 0;const r=n(8661),a=n(8701),i=n(4990);class s extends i.JSONInstruction{constructor(e,t,n,r,a,i){super(e,t,n,r,a,i)}stopSearchingForFlags(e){return-1===e.indexOf("--")}createSingleLineHeredocs(e){const t=[];for(const n of e)if(n.getValue().startsWith("<<")){const e=n.getRange(),r=this.getNameRange(e),i=this.getName(r);t.push(new a.Heredoc(e,i,r,null,null))}return t}getName(e){const t=this.document.getText(e);let n=!1,r="";e:for(let e=0;e<t.length;e++){const a=t.charAt(e);switch(a){case this.escapeChar:n=!0;for(let n=e+1;n<t.length;n++)switch(t.charAt(n)){case" ":case"\t":break;case"\r":e=n+1;continue e;case"\n":e=n;continue e;default:r+=t.charAt(n),e=n;continue e}break;case"#":if(n)for(let n=e+1;n<t.length;n++)switch(t.charAt(n)){case"\n":e=n;continue e}case" ":case"\t":case"\r":case"\n":if(n)break;default:r+=a}}return r}getNameRange(e){const t=this.document.getText(e);let n=!1,a=!1,i=-1,s=-1,o=!1,c=null;e:for(let e=0;e<t.length;e++){const r=t.charAt(e);switch(r){case'"':case"'":if(c===r)break e;c=r;continue;case this.escapeChar:for(let n=e+1;n<t.length;n++)switch(t.charAt(n)){case"\n":o=!0,n=e;continue e}break;case" ":case"\t":case"\r":case"\n":break;case"<":n?a=!0:n=!0;break;case"-":if(a){a=!1;break}case"#":if(o)for(let n=e+1;n<t.length;n++)switch(t.charAt(n)){case"\n":e=n;continue e}default:if(-1===i&&(i=e),null!==c){s=e+1;break}break e}}if(-1===i)return r.Range.create(e.end,e.end);const u=this.document.positionAt(this.document.offsetAt(e.start)+i),g=null!==c?this.document.positionAt(this.document.offsetAt(e.start)+s):e.end;return r.Range.create(u,g)}getHeredocs(){const e=this.getArguments();if(0===e.length)return[];const t=[],n=this.getRange();if(n.start.line===n.end.line)return this.createSingleLineHeredocs(e);const i=[];let s=!1,o=!1,c=-1,u=-1,g=-1,l=0;const h=this.document.offsetAt(e[0].getRange().start),d=this.getRangeContent(r.Range.create(e[0].getRange().start,this.getRange().end));e:for(let n=0;n<d.length;n++)switch(d.charAt(n)){case this.escapeChar:o=!0;for(let e=n+1;e<d.length;e++)switch(d.charAt(e)){case" ":case"\t":break;case"\r":e++;case"\n":default:n=e;continue e}break;case"\r":break;case"\n":if(o)break;if(!s){const t=h+n;for(const n of e){if(!(this.document.offsetAt(n.getRange().start)<t))break;n.getValue().startsWith("<<")&&i.push(n)}s=!0,g=-1;continue e}{-1===c&&(c=n),u=n;const e=i[l],s=e.getRange(),o=this.getNameRange(s),d=this.getName(o),m=this.getDelimiterRange(e,d,r.Range.create(this.document.positionAt(h+g),this.document.positionAt(h+n)));if(null!==m){const e=r.Range.create(this.document.positionAt(h+c),this.document.positionAt(h+g-1));t.push(new a.Heredoc(s,d,o,e,m)),c=-1,l++}g=-1}break;case" ":case"\t":if(o)break;case"#":if(o)for(let e=n+1;e<d.length;e++)switch(d.charAt(e)){case"\n":n=e;continue e}default:o&&(o=!1),s&&(-1===c&&(c=n),-1===g&&(g=n))}if(!s)return this.createSingleLineHeredocs(e);{const e=i[l],s=e.getRange(),o=this.getNameRange(s),d=this.getName(o);let m=null;const f=this.getDelimiterRange(e,d,r.Range.create(this.document.positionAt(h+g),n.end));null===f?m=r.Range.create(this.document.positionAt(h+c),n.end):-1!==u&&(m=r.Range.create(this.document.positionAt(h+c),this.document.positionAt(h+u))),t.push(new a.Heredoc(s,d,o,m,f)),l++;for(let e=l;e<i.length;e++){const e=i[l].getRange(),n=this.getNameRange(e),r=this.getName(n);t.push(new a.Heredoc(e,r,n,null,null)),l++}}return t}getDelimiterRange(e,t,n){const a=this.document.getText(n);if(e.getValue().startsWith("<<-")){let e=0;for(;"\t"===a.charAt(e);)e++;return a.substring(e)===t?r.Range.create(r.Position.create(n.start.line,e),n.end):null}return a===t?n:null}}t.Run=s},978:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.Shell=void 0;const r=n(4990);class a extends r.JSONInstruction{constructor(e,t,n,r,a,i){super(e,t,n,r,a,i)}}t.Shell=a},2885:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.Stopsignal=void 0;const r=n(9311);class a extends r.Instruction{constructor(e,t,n,r,a,i){super(e,t,n,r,a,i)}}t.Stopsignal=a},7372:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.User=void 0;const r=n(9311);class a extends r.Instruction{constructor(e,t,n,r,a,i){super(e,t,n,r,a,i)}}t.User=a},3951:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.Volume=void 0;const r=n(4990);class a extends r.JSONInstruction{constructor(e,t,n,r,a,i){super(e,t,n,r,a,i)}}t.Volume=a},9377:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.Workdir=void 0;const r=n(9311);class a extends r.Instruction{constructor(e,t,n,r,a,i){super(e,t,n,r,a,i)}getPath(){return this.getArgumentsContent()}getAbsolutePath(){const e=this.getPath();if(null===e||e.startsWith("/"))return e;const t=this.getRange().start.line,n=this.dockerfile.getStageHierarchy(t);for(let r=n.length-1;r>=0;r--){const a=n[r].getWORKDIRs();for(let n=a.length-1;n>=0;n--)if(a[n].getRange().start.line<t){const t=a[n].getAbsolutePath();if(null==t)return;return t.endsWith("/")?t+e:t+"/"+e}}}}t.Workdir=a},4703:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.JSONArgument=void 0;const r=n(2447);class a extends r.Argument{constructor(e,t,n){super(e,t),this.jsonRange=n}getJSONRange(){return this.jsonRange}getJSONValue(){let e=super.getValue();return e=e.substring(1,e.length-1),e}}t.JSONArgument=a},4990:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.JSONInstruction=void 0;const r=n(8661),a=n(2447),i=n(4703),s=n(8514);class o extends s.ModifiableInstruction{constructor(e,t,n,s,o,c){super(e,t,n,s,o,c),this.openingBracket=null,this.closingBracket=null,this.jsonStrings=[];const u=this.getRawArgumentsContent();if(null===u)return;const g=this.getArguments();if(1===g.length&&"[]"===g[0].getValue()){let e=g[0].getRange();return this.openingBracket=new a.Argument("[",r.Range.create(e.start.line,e.start.character,e.start.line,e.start.character+1)),void(this.closingBracket=new a.Argument("]",r.Range.create(e.start.line,e.start.character+1,e.end.line,e.end.character)))}if(2===g.length&&"["===g[0].getValue()&&"]"===g[1].getValue())return this.openingBracket=g[0],void(this.closingBracket=g[1]);const l=e.offsetAt(this.getArgumentsRange().start);let h=-1,d="",m=!1,f="";e:for(let t=0;t<u.length;t++){let n=u.charAt(t);switch(n){case"[":if(""===d)this.openingBracket=new a.Argument("[",r.Range.create(e.positionAt(l+t),e.positionAt(l+t+1))),d="[";else{if(!m)break e;f+=n}break;case'"':if("["===d||","===d){h=t,m=!0,d='"',f+=n;continue}if('"'!==d)break e;if(!m)break e;f+=n,m=!1,this.jsonStrings.push(new i.JSONArgument(f,r.Range.create(e.positionAt(l+h),e.positionAt(l+t+1)),r.Range.create(e.positionAt(l+h+1),e.positionAt(l+t)))),f="";break;case",":if(m)f+=n;else{if('"'!==d)break e;d=","}break;case"]":if(m)f+=n;else if(""!==d){this.closingBracket=new a.Argument("]",r.Range.create(e.positionAt(l+t),e.positionAt(l+t+1)));break e}break;case" ":case"\t":break;case"\\":if(m)switch(u.charAt(t+1)){case'"':case"\\":f+=u.charAt(t+1),t++;continue;case" ":case"\t":t:for(let e=t+2;e<u.length;e++)switch(u.charAt(e)){case"\r":e++;case"\n":t=e;continue e;case" ":case"\t":break;default:break t}break;case"\r":t++;default:t++;continue}else t:for(let e=t+1;e<u.length;e++)switch(u.charAt(e)){case"\r":e++;case"\n":t=e;continue e;case" ":case"\t":break;default:break t}break e;default:if(!m)break e;f+=n}}}stopSearchingForFlags(e){return!0}getOpeningBracket(){return this.openingBracket}getJSONStrings(){return this.jsonStrings}getClosingBracket(){return this.closingBracket}}t.JSONInstruction=o},7119:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.Line=void 0,t.Line=class{constructor(e,t){this.document=e,this.range=t}getRange(){return this.range}getTextContent(){return this.document.getText().substring(this.document.offsetAt(this.range.start),this.document.offsetAt(this.range.end))}isAfter(e){return this.range.start.line>e.range.start.line}isBefore(e){return this.range.start.line<e}}},243:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.DockerfileParser=t.DefaultVariables=t.Directive=t.Keyword=t.Workdir=t.Volume=t.User=t.Stopsignal=t.Shell=t.Run=t.PropertyInstruction=t.Onbuild=t.ModifiableInstruction=t.Label=t.JSONInstruction=t.Heredoc=t.Healthcheck=t.From=t.Env=t.Entrypoint=t.Copy=t.Cmd=t.Arg=t.Add=t.Variable=t.Property=t.ParserDirective=t.Line=t.Instruction=t.Flag=t.Comment=t.JSONArgument=t.Argument=void 0;var r=n(2447);Object.defineProperty(t,"Argument",{enumerable:!0,get:function(){return r.Argument}});var a=n(4703);Object.defineProperty(t,"JSONArgument",{enumerable:!0,get:function(){return a.JSONArgument}});const i=n(2179);Object.defineProperty(t,"Comment",{enumerable:!0,get:function(){return i.Comment}});const s=n(668);var o=n(1170);Object.defineProperty(t,"Flag",{enumerable:!0,get:function(){return o.Flag}});const c=n(9311);Object.defineProperty(t,"Instruction",{enumerable:!0,get:function(){return c.Instruction}});var u=n(7119);Object.defineProperty(t,"Line",{enumerable:!0,get:function(){return u.Line}});const g=n(1745);Object.defineProperty(t,"ParserDirective",{enumerable:!0,get:function(){return g.ParserDirective}});var l=n(8698);Object.defineProperty(t,"Property",{enumerable:!0,get:function(){return l.Property}});var h=n(8155);Object.defineProperty(t,"Variable",{enumerable:!0,get:function(){return h.Variable}});var d=n(6581);Object.defineProperty(t,"Add",{enumerable:!0,get:function(){return d.Add}});const m=n(904);Object.defineProperty(t,"Arg",{enumerable:!0,get:function(){return m.Arg}});const f=n(5450);Object.defineProperty(t,"Cmd",{enumerable:!0,get:function(){return f.Cmd}});const p=n(4361);Object.defineProperty(t,"Copy",{enumerable:!0,get:function(){return p.Copy}});const _=n(5822);Object.defineProperty(t,"Entrypoint",{enumerable:!0,get:function(){return _.Entrypoint}});const v=n(2474);Object.defineProperty(t,"Env",{enumerable:!0,get:function(){return v.Env}});const A=n(8654);Object.defineProperty(t,"From",{enumerable:!0,get:function(){return A.From}});const R=n(3355);Object.defineProperty(t,"Healthcheck",{enumerable:!0,get:function(){return R.Healthcheck}});var S=n(8701);Object.defineProperty(t,"Heredoc",{enumerable:!0,get:function(){return S.Heredoc}});var k=n(4990);Object.defineProperty(t,"JSONInstruction",{enumerable:!0,get:function(){return k.JSONInstruction}});var b=n(938);Object.defineProperty(t,"Label",{enumerable:!0,get:function(){return b.Label}});var E=n(8514);Object.defineProperty(t,"ModifiableInstruction",{enumerable:!0,get:function(){return E.ModifiableInstruction}});var I=n(6319);Object.defineProperty(t,"Onbuild",{enumerable:!0,get:function(){return I.Onbuild}});var C=n(8535);Object.defineProperty(t,"PropertyInstruction",{enumerable:!0,get:function(){return C.PropertyInstruction}});var D=n(3062);Object.defineProperty(t,"Run",{enumerable:!0,get:function(){return D.Run}});var T=n(978);Object.defineProperty(t,"Shell",{enumerable:!0,get:function(){return T.Shell}});var N=n(2885);Object.defineProperty(t,"Stopsignal",{enumerable:!0,get:function(){return N.Stopsignal}});var P=n(7372);Object.defineProperty(t,"User",{enumerable:!0,get:function(){return P.User}});var y=n(3951);Object.defineProperty(t,"Volume",{enumerable:!0,get:function(){return y.Volume}});const O=n(9377);var M,L;Object.defineProperty(t,"Workdir",{enumerable:!0,get:function(){return O.Workdir}}),(L=t.Keyword||(t.Keyword={})).ADD="ADD",L.ARG="ARG",L.CMD="CMD",L.COPY="COPY",L.ENTRYPOINT="ENTRYPOINT",L.ENV="ENV",L.EXPOSE="EXPOSE",L.FROM="FROM",L.HEALTHCHECK="HEALTHCHECK",L.LABEL="LABEL",L.MAINTAINER="MAINTAINER",L.ONBUILD="ONBUILD",L.RUN="RUN",L.SHELL="SHELL",L.STOPSIGNAL="STOPSIGNAL",L.USER="USER",L.VOLUME="VOLUME",L.WORKDIR="WORKDIR",(M=t.Directive||(t.Directive={})).escape="escape",M.syntax="syntax",t.DefaultVariables=["FTP_PROXY","ftp_proxy","HTTP_PROXY","http_proxy","HTTPS_PROXY","https_proxy","NO_PROXY","no_proxy"],(t.DockerfileParser||(t.DockerfileParser={})).parse=function(e){return(new s.Parser).parse(e)}},8514:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.ModifiableInstruction=void 0;const r=n(8661),a=n(1170),i=n(9311);class s extends i.Instruction{constructor(e,t,n,r,a,i){super(e,t,n,r,a,i)}getFlags(){if(!this.flags){this.flags=[];for(let e of this.getArguments()){let t=e.getValue();if(this.stopSearchingForFlags(t))return this.flags;if(0===t.indexOf("--")){let n=e.getRange(),i=this.document.getText().substring(this.document.offsetAt(n.start),this.document.offsetAt(n.end)),s=t.indexOf("="),o=i.indexOf("="),c=!1,u=!1,g=-1;e:for(let e=0;e<i.length;e++)switch(i.charAt(e)){case"\\":case" ":case"\t":case"\r":case"\n":break;case"-":if(u){g=e;break e}c?u=!0:c=!0;break;default:g=e;break e}let l=this.document.positionAt(this.document.offsetAt(n.start)+g);if(-1===o)this.flags.push(new a.Flag(this.document,n,t.substring(2),r.Range.create(l,n.end),null,null));else if(o===t.length-1){let e=this.document.positionAt(this.document.offsetAt(n.start)+o);this.flags.push(new a.Flag(this.document,n,t.substring(2,o),r.Range.create(l,e),"",r.Range.create(n.end,n.end)))}else{let e=this.document.positionAt(this.document.offsetAt(n.start)+o);this.flags.push(new a.Flag(this.document,n,t.substring(2,s),r.Range.create(l,e),t.substring(s+1),r.Range.create(this.document.positionAt(this.document.offsetAt(n.start)+o+1),n.end)))}}}}return this.flags}getArguments(){const e=super.getArguments(),t=this.getFlags();if(0===t.length)return e;for(let n=0;n<t.length;n++)e.shift();return e}}t.ModifiableInstruction=s},668:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.Parser=void 0;const r=n(6813),a=n(8661),i=n(2179),s=n(1745),o=n(9311),c=n(6581),u=n(904),g=n(5450),l=n(4361),h=n(2474),d=n(5822),m=n(8654),f=n(3355),p=n(938),_=n(6319),v=n(3062),A=n(978),R=n(2885),S=n(9377),k=n(7372),b=n(3951),E=n(1513),I=n(243);class C{constructor(){this.escapeChar=null}static createInstruction(e,t,n,r,a,i){switch(a.toUpperCase()){case"ADD":return new c.Add(e,r,t,n,a,i);case"ARG":return new u.Arg(e,r,t,n,a,i);case"CMD":return new g.Cmd(e,r,t,n,a,i);case"COPY":return new l.Copy(e,r,t,n,a,i);case"ENTRYPOINT":return new d.Entrypoint(e,r,t,n,a,i);case"ENV":return new h.Env(e,r,t,n,a,i);case"FROM":return new m.From(e,r,t,n,a,i);case"HEALTHCHECK":return new f.Healthcheck(e,r,t,n,a,i);case"LABEL":return new p.Label(e,r,t,n,a,i);case"ONBUILD":return new _.Onbuild(e,r,t,n,a,i);case"RUN":return new v.Run(e,r,t,n,a,i);case"SHELL":return new A.Shell(e,r,t,n,a,i);case"STOPSIGNAL":return new R.Stopsignal(e,r,t,n,a,i);case"WORKDIR":return new S.Workdir(e,r,t,n,a,i);case"USER":return new k.User(e,r,t,n,a,i);case"VOLUME":return new b.Volume(e,r,t,n,a,i)}return new o.Instruction(e,r,t,n,a,i)}getParserDirectives(e,t){const n=[];this.escapeChar="";e:for(let r=0;r<t.length;r++)switch(t.charAt(r)){case" ":case"\t":break;case"\r":case"\n":break e;case"#":let i=-1,o=-1;for(let c=r+1;c<t.length;c++){let u=t.charAt(c);switch(u){case" ":case"\t":-1!==i&&-1===o&&(o=c);break;case"\r":case"\n":break e;case"=":let g=-1,l=-1;-1===o&&(o=c);let h=t.length;t:for(let e=c+1;e<t.length;e++)switch(u=t.charAt(e),u){case"\r":case"\n":-1!==g&&-1===l&&(l=e),h=e;break t;case"\t":case" ":-1!==g&&-1===l&&(l=e);continue;default:-1===g&&(g=e)}if(-1===i)break e;-1===g?(g=c+1,l=h):-1===l&&(l=t.length);const d=a.Range.create(e.positionAt(r),e.positionAt(h)),m=a.Range.create(e.positionAt(i),e.positionAt(o)),f=a.Range.create(e.positionAt(g),e.positionAt(l));n.push(new s.ParserDirective(e,d,m,f)),i=-1,r="\r"===t.charAt(l)?l+1:l;continue e;default:-1===i&&(i=c)}}break;default:break e}return n}parse(e){this.document=r.TextDocument.create("","",0,e),this.buffer=e;let t=new E.Dockerfile(this.document),n=this.getParserDirectives(this.document,this.buffer),i=0;this.escapeChar="\\",n.length>0&&(t.setDirectives(n),this.escapeChar=t.getEscapeCharacter(),i=this.document.offsetAt(a.Position.create(n.length,0)));for(let e=i;e<this.buffer.length;e++){const n=this.buffer.charAt(e);switch(n){case" ":case"\t":case"\r":case"\n":break;case"#":e=this.processComment(t,e);break;default:e=this.processInstruction(t,n,e)}}return t.organizeComments(),t}processInstruction(e,t,n){let r=t,a=-1,i=!1;e:for(let s=n+1;s<this.buffer.length;s++)switch(t=this.buffer.charAt(s)){case this.escapeChar:if(i=!0,"\r"===(t=this.buffer.charAt(s+1))||"\n"===t)-1===a&&(a=s),s++;else{if(" "===t||"\t"===t){for(let e=s+2;e<this.buffer.length;e++)switch(this.buffer.charAt(e)){case" ":case"\t":break;case"\r":case"\n":s=e;continue e;default:a=s+1,r+=this.escapeChar,s=e-2;continue e}a=s+1,r+=this.escapeChar;break e}a=s+1,r+=this.escapeChar,i=!1}break;case" ":case"\t":if(i){t:for(let e=s+1;e<this.buffer.length;e++)switch(this.buffer.charAt(e)){case" ":case"\t":break;case"\r":case"\n":s=e;continue e;default:break t}i=!1}return-1===a&&(a=s),s=this.processArguments(e,r,a,n,s),e.addInstruction(this.createInstruction(e,r,n,a,s)),s;case"\r":case"\n":if(i)continue;return-1===a&&(a=s),e.addInstruction(this.createInstruction(e,r,n,s,s)),s;case"#":if(i)continue;default:a=s+1,r+=t,i=!1}return-1===a&&(a=this.buffer.length),e.addInstruction(this.createInstruction(e,r,n,a,this.buffer.length)),this.buffer.length}parseHeredocName(e){return"-"===(e=e.substring(2)).charAt(0)&&(e=e.substring(1)),'"'===e.charAt(0)||"'"===e.charAt(0)?e.substring(1,e.length-1):e}processHeredocs(e,t){let n=e.getKeyword();if(n===I.Keyword.ONBUILD){if(null===(e=e.getTriggerInstruction()))return t;n=e.getKeyword()}if(n!==I.Keyword.ADD&&n!==I.Keyword.COPY&&n!==I.Keyword.RUN)return t;const r=[];for(const t of e.getArguments()){const e=t.getValue();e.startsWith("<<")&&e.length>2&&r.push(this.parseHeredocName(e))}if(r.length>0)for(const e of r)t=this.parseHeredoc(e,t);return t}processArguments(e,t,n,r,a){let i=!1;e:for(let s=a+1;s<this.buffer.length;s++)switch(this.buffer.charAt(s)){case"\r":case"\n":if(i)continue;return this.processHeredocs(this.createInstruction(e,t,r,n,s),s);case this.escapeChar:const a=this.buffer.charAt(s+1);if("\n"===a||"\r"===a)i=!0,s++;else if(" "===a||"\t"===a){for(let e=s+2;e<this.buffer.length;e++)switch(this.buffer.charAt(e)){case" ":case"\t":break;case"\r":case"\n":i=!0;default:s=e;continue e}return this.buffer.length}continue;case"#":if(i){s=this.processComment(e,s);continue e}break;case" ":case"\t":break;default:i&&(i=!1)}return this.buffer.length}processComment(e,t){let n=this.buffer.length;e:for(let e=t+1;e<this.buffer.length;e++)switch(this.buffer.charAt(e)){case"\r":case"\n":n=e;break e}const r=a.Range.create(this.document.positionAt(t),this.document.positionAt(n));return e.addComment(new i.Comment(this.document,r)),n}parseHeredoc(e,t){let n=-1,r=!0;for(let a=t;a<this.buffer.length;a++)switch(this.buffer.charAt(a)){case" ":case"\t":r=!1;break;case"\r":case"\n":if(-1!==n&&e===this.buffer.substring(n,a))return a;n=-1,r=!0;break;default:r&&(n=a,r=!1)}return this.buffer.length}createInstruction(e,t,n,r,i){const s=this.document.positionAt(n),o=a.Range.create(s,this.document.positionAt(r)),c=a.Range.create(s,this.document.positionAt(i));return C.createInstruction(this.document,e,this.escapeChar,c,t,o)}}t.Parser=C},1745:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.ParserDirective=void 0;const r=n(243),a=n(7119);class i extends a.Line{constructor(e,t,n,r){super(e,t),this.nameRange=n,this.valueRange=r}toString(){return"# "+this.getName()+"="+this.getValue()}getNameRange(){return this.nameRange}getValueRange(){return this.valueRange}getName(){return this.document.getText().substring(this.document.offsetAt(this.nameRange.start),this.document.offsetAt(this.nameRange.end))}getValue(){return this.document.getText().substring(this.document.offsetAt(this.valueRange.start),this.document.offsetAt(this.valueRange.end))}getDirective(){const e=r.Directive[this.getName().toLowerCase()];return void 0===e?null:e}}t.ParserDirective=i},8698:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.Property=void 0;const r=n(8661),a=n(8707);class i{constructor(e,t,n,a){this.assignmentOperatorRange=null,this.assignmentOperator=null,this.valueRange=null,this.value=null,this.document=e,this.escapeChar=t,this.nameRange=i.getNameRange(e,n);let s=e.getText().substring(e.offsetAt(this.nameRange.start),e.offsetAt(this.nameRange.end));if(this.name=i.getValue(s,t),a)this.valueRange=a.getRange(),s=e.getText().substring(e.offsetAt(this.valueRange.start),e.offsetAt(this.valueRange.end)),this.value=i.getValue(s,t),this.range=r.Range.create(this.nameRange.start,this.valueRange.end);else{let a=n.getRange();this.nameRange.start.line===a.start.line&&this.nameRange.start.character===a.start.character&&this.nameRange.end.line===a.end.line&&this.nameRange.end.character===a.end.character||(this.valueRange=i.getValueRange(e,n),s=e.getText().substring(e.offsetAt(this.valueRange.start),e.offsetAt(this.valueRange.end)),this.value=i.getValue(s,t),this.assignmentOperatorRange=r.Range.create(this.nameRange.end,this.valueRange.start),this.assignmentOperator="="),this.range=a}}getRange(){return this.range}getName(){return this.name}getNameRange(){return this.nameRange}getValue(){return this.value}getValueRange(){return this.valueRange}getAssignmentOperator(){return this.assignmentOperator}getAssignmentOperatorRange(){return this.assignmentOperatorRange}getUnescapedValue(){if(null===this.valueRange)return null;let e=!1,t="",n=this.document.getText().substring(this.document.offsetAt(this.valueRange.start),this.document.offsetAt(this.valueRange.end));e:for(let r=0;r<n.length;r++){let a=n.charAt(r);switch(a){case this.escapeChar:for(let i=r+1;i<n.length;i++)switch(n.charAt(i)){case"\r":i++;case"\n":e=!0,r=i;continue e;case" ":case"\t":break;default:t+=a;continue e}t+=a;break;case"\r":case"\n":break;case" ":case"\t":e||(t+=a);break;case"#":if(e)for(let e=r+1;e<n.length;e++)switch(n.charAt(e)){case"\r":e++;case"\n":r=e;continue e}else t+=a;break;default:t+=a,e=!1}}return t}static getNameRange(e,t){let n=t.getValue(),a=n.indexOf("=");if(-1!==a){let i=n.charAt(0),s=n.charAt(a-1);if('"'===i&&'"'===s||"'"===i&&"'"===s||'"'!==i&&"'"!==i)return r.Range.create(t.getRange().start,e.positionAt(e.offsetAt(t.getRange().start)+a))}return t.getRange()}static getValueRange(e,t){return r.Range.create(e.positionAt(e.offsetAt(t.getRange().start)+t.getValue().indexOf("=")+1),e.positionAt(e.offsetAt(t.getRange().end)))}static getValue(e,t){let n=!1;const r=a.Util.findLeadingNonWhitespace(e,t);0!==r&&"#"===e.charAt(r)&&(n=!0);let i=(e=e.substring(r)).charAt(0),s=e.charAt(e.length-1),o="'"===i||'"'===i,c="'"===i&&"'"===s,u=!1;if('"'===i)for(let n=1;n<e.length;n++)e.charAt(n)===t?n++:'"'===e.charAt(n)&&n===e.length-1&&(u=!0);(c||u)&&(e=e.substring(1,e.length-1));let g=-1,l="",h=0;e:for(let r=0;r<e.length;r++){let a=e.charAt(r);switch(a){case t:if(r+1===e.length){l+=t;break e}if(a=e.charAt(r+1)," "===a||"\t"===a)t:for(let i=r+2;i<e.length;i++){let s=e.charAt(i);switch(s){case" ":case"\t":break;case"\r":i++;case"\n":n=!0,r=i;continue e;default:if(!u&&!c&&!o){s===t?(l+=a,r+=1):(l=l+a+s,r=i);continue e}break t}}if(u){"\r"===a?(n=!0,r+=2):"\n"===a?(n=!0,r++):'"'!==a&&(a===t&&r++,l+=t);continue e}if(c||o){"\r"===a?(n=!0,r+=2):"\n"===a?(n=!0,r++):l+=t;continue e}a===t?(l+=t,r++):"\r"===a?(n=!0,r+=2):"\n"===a?(n=!0,r++,h=r):(l+=a,r++);break;case" ":case"\t":n&&-1===g&&(g=r),l+=a;break;case"\r":r++;case"\n":n&&-1!==g&&(l=l.substring(0,l.length-(r-g-1)),g=-1);break;case"#":if(n){-1!==g&&(l=l.substring(0,l.length-(r-g)),g=-1);t:for(let t=r+1;t<e.length;t++)switch(e.charAt(t)){case"\r":t++;case"\n":r=t;break t}continue e}default:n&&(n=!1,g=-1),l+=a}}return l}}t.Property=i},8535:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.PropertyInstruction=void 0;const r=n(8661),a=n(9311),i=n(8698),s=n(2447),o=n(8707);class c extends a.Instruction{constructor(e,t,n,r,a,i){super(e,t,n,r,a,i),this.properties=void 0}getProperties(){if(void 0===this.properties){let e=this.getPropertyArguments();if(0===e.length)this.properties=[];else if(1===e.length)this.properties=[new i.Property(this.document,this.escapeChar,e[0])];else if(2===e.length)-1===e[0].getValue().indexOf("=")?this.properties=[new i.Property(this.document,this.escapeChar,e[0],e[1])]:this.properties=[new i.Property(this.document,this.escapeChar,e[0]),new i.Property(this.document,this.escapeChar,e[1])];else if(-1===e[0].getValue().indexOf("=")){let t=this.document.getText(),n=e[1].getRange().start,a=e[e.length-1].getRange().end;t=t.substring(this.document.offsetAt(n),this.document.offsetAt(a)),this.properties=[new i.Property(this.document,this.escapeChar,e[0],new s.Argument(t,r.Range.create(e[1].getRange().start,e[e.length-1].getRange().end)))]}else{this.properties=[];for(let t=0;t<e.length;t++)this.properties.push(new i.Property(this.document,this.escapeChar,e[t]))}}return this.properties}findTrailingNonWhitespace(e){let t=e.length;e:for(let n=e.length-1;n>=0;n--)switch(e.charAt(n)){case" ":case"\t":continue;case"\n":"\r"===e.charAt(n-1)&&(n-=1);case"\r":t:for(let r=n-1;r>=0;r--)switch(e.charAt(r)){case" ":case"\t":case"\r":case"\n":case this.escapeChar:continue;default:t=r;break t}break e;default:t=n;break e}return t}getPropertyArguments(){const e=[];let t=this.getInstructionRange(),n=this.document.offsetAt(t.end),a=n-this.document.offsetAt(t.start),i=this.getTextContent(),c=i.substring(a),u=o.Util.findLeadingNonWhitespace(c,this.escapeChar);if(-1===u)return[];const g=this.document.positionAt(n+u);let l=t.start.line!==g.line,h=!1,d=-1,m=this.findTrailingNonWhitespace(c);i=c.substring(u,m+1);let f=l?-1:0,p=!1;e:for(let t=0;t<i.length;t++){let a=i.charAt(t);switch(a){case this.escapeChar:if(t+1===i.length){h=!0;break e}switch(l||(d=t),i.charAt(t+1)){case" ":case"\t":if(!o.Util.isWhitespace(i.charAt(t+2))){t+=1;continue e}t:for(let a=t+2;a<i.length;a++)switch(i.charAt(a)){case"\r":a++;case"\n":l=!0,t=a;continue e;case" ":case"\t":break;default:e.push(new s.Argument(i.substring(f,t),r.Range.create(this.document.positionAt(n+u+f),this.document.positionAt(n+u+t+2)))),f=a;break t}t=f-1;continue e;case"\r":t++;case"\n":l=!0,t+=1;continue e;case this.escapeChar:-1===f&&(f=t),t+=1;continue e;default:-1===f&&(f=t);continue e}case"'":case'"':p&&(this.createSpacedArgument(f,e,i,d,n,u),f=t,p=!1),-1===f&&(f=t);for(let o=t+1;o<i.length;o++)switch(i.charAt(o)){case a:if(" "!==i.charAt(o+1)&&""!==i.charAt(o+1)){t=o;continue e}e.push(new s.Argument(i.substring(f,o+1),r.Range.create(this.document.positionAt(n+u+f),this.document.positionAt(n+u+o+1)))),t=o,f=-1;continue e;case this.escapeChar:o++}break e;case" ":case"\t":l?-1!==f&&(p=!0):-1!==f&&(e.push(new s.Argument(i.substring(f,t),r.Range.create(this.document.positionAt(n+u+f),this.document.positionAt(n+u+t)))),f=-1);break;case"\r":t++;case"\n":p=!1;break;case"#":if(l){for(let e=t+1;e<i.length;e++)switch(i.charAt(e)){case"\r":e++;case"\n":t=e,p=!1;continue e}if(-1!==f){let t=i.substring(f,d);e.push(new s.Argument(t,r.Range.create(this.document.positionAt(n+u+f),this.document.positionAt(n+u+d)))),f=-1}break e}-1===f&&(f=t);break;default:if(p&&(this.createSpacedArgument(f,e,i,d,n,u),f=t,p=!1),l=!1,-1===f&&(f=t),"$"===a&&"{"===i.charAt(t+1)){let e=!1,n=!1,r=!1;for(let a=t+1;a<i.length;a++)switch(i.charAt(a)){case this.escapeChar:r=!0;break;case"\r":case"\n":break;case"'":e=!e,r=!1;break;case'"':n=!n,r=!1;break;case" ":case"\t":if(r||e||n)break;t=a-1;continue e;case"}":t=a;continue e;default:r=!1}break e}}}if(-1!==f&&f!==i.length){let t=h?i.length-1:i.length,a=i.substring(f,t);e.push(new s.Argument(a,r.Range.create(this.document.positionAt(n+u+f),this.document.positionAt(n+u+t))))}return e}createSpacedArgument(e,t,n,a,i,o){-1!==e&&t.push(new s.Argument(n.substring(e,a),r.Range.create(this.document.positionAt(i+o+e),this.document.positionAt(i+o+a))))}}t.PropertyInstruction=c},8707:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.Util=void 0;class n{static isWhitespace(e){return" "===e||"\t"===e||n.isNewline(e)}static isNewline(e){return"\r"===e||"\n"===e}static findLeadingNonWhitespace(e,t){e:for(let n=0;n<e.length;n++)switch(e.charAt(n)){case" ":case"\t":continue;case t:t:for(let t=n+1;t<e.length;t++)switch(e.charAt(t)){case" ":case"\t":continue;case"\r":n=t+1;continue e;case"\n":n=t;continue e;default:break t}return-1;default:return n}return-1}static isInsideRange(e,t){return t.start.line===t.end.line?t.start.line===e.line&&t.start.character<=e.character&&e.character<=t.end.character:t.start.line===e.line?t.start.character<=e.character:t.end.line===e.line?e.character<=t.end.character:t.start.line<e.line&&e.line<t.end.line}}t.Util=n},8155:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.Variable=void 0,t.Variable=class{constructor(e,t,n,r,a,i,s,o,c,u){this.name=e,this.nameRange=t,this.range=n,this.modifier=r,this.modifierRange=a,this.substitutionParameter=i,this.substitutionRange=s,this.defined=o,this.buildVariable=c,this.stringValue=u}toString(){return this.stringValue}getName(){return this.name}getNameRange(){return this.nameRange}getRange(){return this.range}getModifier(){return this.modifier}getModifierRange(){return this.modifierRange}getSubstitutionParameter(){return this.substitutionParameter}getSubstitutionRange(){return this.substitutionRange}isDefined(){return this.defined}isBuildVariable(){return!0===this.buildVariable}isEnvironmentVariable(){return!1===this.buildVariable}}},9614:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.DockerFormatter=void 0;const r=n(8661),a=n(243);t.DockerFormatter=class{getIndentation(e){let t="\t";if(e&&e.insertSpaces){t="";for(let n=0;n<e.tabSize;n++)t+=" "}return t}createFormattingEdit(e,t,n,a,i){return a?r.TextEdit.replace({start:e.positionAt(t),end:e.positionAt(n)},i):r.TextEdit.del({start:e.positionAt(t),end:e.positionAt(n)})}formatOnType(e,t,n,r){const i=a.DockerfileParser.parse(e.getText());if(i.getEscapeCharacter()===n){for(let e of i.getComments())if(e.getRange().start.line===t.line)return[];if(i.getDirective()&&0===t.line)return[];const n=e.getText();e:for(let r=e.offsetAt(t);r<n.length;r++)switch(n.charAt(r)){case" ":case"\t":break;case"\r":case"\n":break e;default:return[]}const a=t.line+1,s=[],o=[];s[a]=!0,o[a]=!0;const c=[];return this.inHeredoc(i,a)&&c.push(a),this.formatLines(e,e.getText(),[a],s,o,c,r)}return[]}formatRange(e,t,n){const r=[];for(let e=t.start.line;e<=t.end.line;e++)r.push(e);return this.format(e,r,n)}formatDocument(e,t){const n=[];for(let t=0;t<e.lineCount;t++)n.push(t);return this.format(e,n,t)}inHeredoc(e,t){for(const n of e.getInstructions())if(n instanceof a.Run&&-1!==this.getHeredocLines(n.getHeredocs()).indexOf(t))return!0;return!1}getHeredocLines(e){let t=-1;for(let n=0;n<e.length;n++){const r=e[n].getContentRange();if(null!==r){t=r.start.line;break}const a=e[n].getDelimiterRange();if(null!==a){t=a.start.line;break}}if(-1===t)return[];let n=-1;for(let t=e.length-1;t>=0;t--){const r=e[t].getDelimiterRange();if(null!==r){n=r.end.line;break}const a=e[t].getContentRange();if(null!==a){n=a.end.line;break}}let r=[];for(let e=t;e<=n;e++)r.push(e);return r}format(e,t,n){let r=e.getText(),i=a.DockerfileParser.parse(r);const s=[],o=[],c=[];for(let t=0;t<e.lineCount;t++)s[t]=!1,o[t]=!1;for(let e of i.getInstructions()){let t=e.getRange();if(t.start.line!==t.end.line)for(let e=t.start.line+1;e<=t.end.line;e++)o[e]=!0;if(e instanceof a.Run){const t=e.getHeredocs();t.length>0&&c.push(...this.getHeredocLines(t))}s[t.start.line]=!1;for(let e=t.start.line+1;e<=t.end.line;e++)s[e]=!0}return this.formatLines(e,r,t,s,o,c,n)}formatLines(e,t,n,a,i,s,o){const c=this.getIndentation(o),u=[];e:for(let g=0;g<n.length;g++){if(o&&o.ignoreMultilineInstructions&&i[n[g]])continue;if(-1!==s.indexOf(n[g]))continue;let l=e.offsetAt(r.Position.create(n[g],0));for(let i=l;i<t.length;i++)switch(t.charAt(i)){case" ":case"\t":break;case"\r":case"\n":if(i!==l){let t=r.TextEdit.del({start:e.positionAt(l),end:e.positionAt(i)});u.push(t)}continue e;default:if(a[n[g]]){if(e.getText().substring(l,i)!==c){const t=this.createFormattingEdit(e,l,i,a[n[g]],c);u.push(t)}}else if(i!==l){const t=this.createFormattingEdit(e,l,i,a[n[g]],c);u.push(t)}continue e}if(l<t.length){let n=r.TextEdit.del({start:e.positionAt(l),end:e.positionAt(t.length)});u.push(n)}}return u}}},9400:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.Validator=t.KEYWORDS=void 0;const r=n(8661),a=n(243),i=n(7918);t.KEYWORDS=["ADD","ARG","CMD","COPY","ENTRYPOINT","ENV","EXPOSE","FROM","HEALTHCHECK","LABEL","MAINTAINER","ONBUILD","RUN","SHELL","STOPSIGNAL","USER","VOLUME","WORKDIR"];class s{constructor(e){this.settings={deprecatedMaintainer:i.ValidationSeverity.WARNING,directiveCasing:i.ValidationSeverity.WARNING,emptyContinuationLine:i.ValidationSeverity.WARNING,instructionCasing:i.ValidationSeverity.WARNING,instructionCmdMultiple:i.ValidationSeverity.WARNING,instructionEntrypointMultiple:i.ValidationSeverity.WARNING,instructionHealthcheckMultiple:i.ValidationSeverity.WARNING,instructionJSONInSingleQuotes:i.ValidationSeverity.WARNING,instructionWorkdirRelative:i.ValidationSeverity.WARNING},e&&(this.settings=e)}checkDirectives(e,t){const n=[];for(const t of e.getDirectives())t.getDirective()===a.Directive.escape&&n.push(t);if(n.length>1)for(let e=1;e<n.length;e++)t.push(s.createDuplicatedEscapeDirective(n[e].getNameRange().start,n[e].getValueRange().end));else for(const n of e.getDirectives())if(n.getDirective()===a.Directive.escape){const e=n.getValue();if("\\"!==e&&"`"!==e&&""!==e){const r=n.getValueRange();t.push(s.createInvalidEscapeDirective(r.start,r.end,e))}if(n.getName()!==a.Directive.escape){const e=n.getNameRange(),r=this.createLowercaseDirective(e.start,e.end);r&&t.push(r)}}}checkArguments(e,t,n,r,i){let o=e instanceof a.PropertyInstruction?e.getPropertyArguments():e.getArguments();if(0===o.length){if(e.getKeyword()!==a.Keyword.RUN){const n=e.getInstructionRange();t.push(s.createMissingArgument(n.start,n.end))}}else if(-1===n[0])for(let e=0;e<o.length;e++){let n=r(e,o[e].getValue(),o[e].getRange());if(n){let r=o[e].getRange();t.push(n(r.start,r.end,o[e].getValue()))}}else{for(let e=0;e<n.length;e++)if(n[e]===o.length){for(let e=0;e<o.length;e++){let n=o[e].getRange(),a=r(e,o[e].getValue(),n);a instanceof Function?t.push(a(n.start,n.end,o[e].getValue())):null!==a&&t.push(a)}return}let e=o[o.length-1].getRange();i?t.push(i(e.start,e.end)):t.push(s.createExtraArgument(e.start,e.end))}}checkVariables(e,t){for(let n of e.getVariables()){let r=n.getModifier();if(null!==r)switch(e.getKeyword()){case a.Keyword.CMD:case a.Keyword.ENTRYPOINT:case a.Keyword.RUN:break;default:""===r?t.push(s.createVariableUnsupportedModifier(n.getRange(),n.toString(),r)):"+"!==r&&"-"!==r&&"?"!==r&&t.push(s.createVariableUnsupportedModifier(n.getModifierRange(),n.toString(),r))}}}checkProperty(e,t,n,r,a,i,o){let c=r.getName();if(""===c){let e=r.getRange();o.push(s.createSyntaxMissingNames(e.start,e.end,n))}else if(-1!==c.indexOf("=")){let t=r.getNameRange(),n=e.getText(t),a=n.indexOf("=");return void("'"===n.charAt(0)?o.push(s.createSyntaxMissingSingleQuote(t.start,e.positionAt(e.offsetAt(t.start)+a),n.substring(0,n.indexOf("=")))):'"'===n.charAt(0)&&o.push(s.createSyntaxMissingDoubleQuote(t.start,e.positionAt(e.offsetAt(t.start)+a),n.substring(0,n.indexOf("=")))))}let u=r.getValue();if(null===u){if(!i){let e=r.getNameRange();a?o.push(s.createENVRequiresTwoArguments(e.start,e.end)):o.push(s.createSyntaxMissingEquals(e.start,e.end,c))}}else if('"'===u.charAt(0)){let e=!1;for(let n=1;n<u.length;n++)switch(u.charAt(n)){case t:n++;break;case'"':n===u.length-1&&(e=!0)}if(!e){let e=r.getValueRange();o.push(s.createSyntaxMissingDoubleQuote(e.start,e.end,r.getUnescapedValue()))}}else if("'"===u.charAt(0)&&"'"!==u.charAt(u.length-1)){let e=r.getValueRange();o.push(s.createSyntaxMissingSingleQuote(e.start,e.end,u))}}validate(e){this.document=e;let t=[],n=a.DockerfileParser.parse(e.getText());this.checkDirectives(n,t);let r=n.getInstructions();0!==r.length&&n.getARGs().length!==r.length||t.push(s.createNoSourceImage(e.positionAt(0),e.positionAt(0)));let i=[],o=[],c=[];for(let e of r)e instanceof a.Cmd?i.push(e):e instanceof a.Entrypoint?o.push(e):e instanceof a.Healthcheck?c.push(e):e instanceof a.From&&(this.createDuplicatesDiagnostics(t,this.settings.instructionCmdMultiple,"CMD",i),this.createDuplicatesDiagnostics(t,this.settings.instructionEntrypointMultiple,"ENTRYPOINT",o),this.createDuplicatesDiagnostics(t,this.settings.instructionHealthcheckMultiple,"HEALTHCHECK",c),i=[],o=[],c=[]);this.createDuplicatesDiagnostics(t,this.settings.instructionCmdMultiple,"CMD",i),this.createDuplicatesDiagnostics(t,this.settings.instructionEntrypointMultiple,"ENTRYPOINT",o),this.createDuplicatesDiagnostics(t,this.settings.instructionHealthcheckMultiple,"HEALTHCHECK",c);const u={},g=n.getFROMs();for(let e of g){let t=e.getBuildStage();t&&(t=t.toLowerCase(),u[t]||(u[t]=[]),u[t].push(e.getBuildStageRange()))}for(let e in u)if(u[e].length>1)for(let n of u[e])t.push(s.createDuplicateBuildStageName(n,e));let l=n.getEscapeCharacter(),h=!1;for(let r of n.getInstructions()){let n=r.getKeyword();if("FROM"===n)h=!0;else if(!h&&"ARG"!==n){let e=r.getInstructionRange();t.push(s.createNoSourceImage(e.start,e.end)),h=!0}this.validateInstruction(e,l,r,n,!1,t),this.checkVariables(r,t)}for(let r of n.getOnbuildTriggers())this.validateInstruction(e,l,r,r.getKeyword(),!0,t);return t}getHeredocLines(e){if(e instanceof a.Run){const t=[];for(const n of e.getHeredocs()){const e=n.getContentRange();if(null!==e)for(let n=e.start.line;n<=e.end.line;n++)t.push(n)}return t}return[]}validateInstruction(e,n,a,i,o,c){if(-1===t.KEYWORDS.indexOf(i)){let e=a.getInstructionRange();c.push(s.createUnknownInstruction(e.start,e.end,i))}else{if(i!==a.getInstruction()){let e=a.getInstructionRange(),t=this.createUppercaseInstruction(e.start,e.end);t&&c.push(t)}if("MAINTAINER"===i){let e=a.getInstructionRange(),t=this.createMaintainerDeprecated(e.start,e.end);t&&c.push(t)}const t=a.getRange();if(t.start.line!==t.end.line&&!o){const n=e.getText(),i=t.end.line,o=this.getHeredocLines(a);let u=0,g=-1;for(let a=t.start.line;a<=i;a++)if(a!==o[u]){if(0===n.substring(e.offsetAt(r.Position.create(a,0)),e.offsetAt(r.Position.create(a+1,0))).trim().length){if(-1===g){g=a;continue}}else if(-1!==g){const e=s.createEmptyContinuationLine(r.Position.create(g,0),r.Position.create(a,0),this.settings.emptyContinuationLine);e&&c.push(e),g=-1}}else u++;if(-1!==g){const e=s.createEmptyContinuationLine(r.Position.create(g,0),r.Position.create(i+1,0),this.settings.emptyContinuationLine);e&&c.push(e),g=-1}}switch(i){case"CMD":this.checkJSONQuotes(a,c);break;case"ENTRYPOINT":case"RUN":case"VOLUME":this.checkArguments(a,c,[-1],(function(){return null})),this.checkJSONQuotes(a,c);break;case"ARG":this.checkArguments(a,c,[-1],(()=>null));let t=a.getProperty();t&&this.checkProperty(e,n,i,t,!0,!0,c);break;case"ENV":case"LABEL":this.checkArguments(a,c,[-1],(function(){return null}));let r=a.getProperties();if(1===r.length)this.checkProperty(e,n,i,r[0],!0,!1,c);else if(0!==r.length)for(let t of r)this.checkProperty(e,n,i,t,!1,!1,c);break;case"FROM":const o=a.getFlags();for(const e of o){const t=e.getName();if("platform"!==t){const n=e.getRange();c.push(s.createUnknownFromFlag(n.start,""===t?n.end:e.getNameRange().end,e.getName()))}}this.checkFlagValue(o,["platform"],c),this.checkArguments(a,c,[1,3],(function(t,n,r){switch(t){case 0:let t=a.getVariables();if(t.length>0){let e=t[0].getRange();return e.start.line!==r.start.line||e.start.character!==r.start.character||e.end.line!==r.end.line||e.end.character!==r.end.character||t[0].isDefined()?null:s.createBaseNameEmpty(e,t[0].toString())}let i=a,o=i.getImageDigestRange();if(null===o){let t=i.getImageTagRange();if(null===t)return null;let n=e.getText(t);return""===n?s.createInvalidReferenceFormat(r):new RegExp(/^[\w][\w.-]{0,127}$/).test(n)?null:s.createInvalidReferenceFormat(i.getImageTagRange())}let c=e.getText(o),u=c.indexOf(":");if(-1===u)return""===c?s.createInvalidReferenceFormat(r):s.createInvalidReferenceFormat(i.getImageDigestRange());let g=new RegExp(/[A-Fa-f0-9_+.-]+/),l=c.substring(0,u);if(!g.test(l))return s.createInvalidReferenceFormat(i.getImageDigestRange());let h=c.substring(u+1);return new RegExp(/[A-Fa-f0-9]+/).test(h)?null:s.createInvalidReferenceFormat(i.getImageDigestRange());case 1:return"AS"===n.toUpperCase()?null:s.createInvalidAs;case 2:return n=n.toLowerCase(),new RegExp(/^[a-z]([a-z0-9_\-.]*)*$/).test(n)?null:s.createInvalidBuildStageName(r,n);default:return null}}),s.createRequiresOneOrThreeArguments);break;case"HEALTHCHECK":let u=a.getArguments();const g=a.getFlags();if(0===u.length)c.push(s.createHEALTHCHECKRequiresAtLeastOneArgument(a.getInstructionRange()));else{const e=u[0].getValue().toUpperCase();if("NONE"===e){if(u.length>1){const e=u[1].getRange().start,t=u[u.length-1].getRange().end;c.push(s.createHealthcheckNoneUnnecessaryArgument(e,t))}break}if("CMD"===e){if(1===u.length){const e=u[0].getRange();c.push(s.createHealthcheckCmdArgumentMissing(e.start,e.end))}}else c.push(s.createHealthcheckTypeUnknown(u[0].getRange(),e))}const l=["interval","retries","start-period","timeout"];for(const e of g){const t=e.getName();if(-1===l.indexOf(t)){const n=e.getRange();c.push(s.createUnknownHealthcheckFlag(n.start,""===t?n.end:e.getNameRange().end,e.getName()))}else if("retries"===t){const t=e.getValue();if(t){const n=e.getValueRange(),r=parseInt(t);isNaN(r)||-1!==t.indexOf(".")?c.push(s.createInvalidSyntax(n.start,n.end,t)):r<1&&c.push(s.createFlagAtLeastOne(n.start,n.end,"--retries",r.toString()))}}}this.checkFlagValue(g,l,c),this.checkFlagDuration(g,["interval","start-period","timeout"],c),this.checkDuplicateFlags(g,l,c);break;case"ONBUILD":this.checkArguments(a,c,[-1],(function(){return null}));let h=a,d=h.getTrigger();switch(d){case"FROM":case"MAINTAINER":c.push(s.createOnbuildTriggerDisallowed(h.getTriggerRange(),d));break;case"ONBUILD":c.push(s.createOnbuildChainingDisallowed(h.getTriggerRange()))}break;case"SHELL":this.checkArguments(a,c,[-1],(function(){return null})),this.checkJSON(e,a,c);break;case"STOPSIGNAL":this.checkArguments(a,c,[1],(function(e,t){if(0===t.indexOf("SIG")||-1!=t.indexOf("$"))return null;for(var n=0;n<t.length;n++)if("0">t.charAt(n)||"9"<t.charAt(n))return s.createInvalidStopSignal;return null}));let m=a.getExpandedArguments();if(1===m.length){let e=m[0].getValue(),t=a.getVariables();if(0===t.length){if(-1!==e.indexOf("$")){let t=m[0].getRange();c.push(s.createInvalidStopSignal(t.start,t.end,e))}}else for(let n of t){let t=n.getRange(),r=this.document.getText().substring(this.document.offsetAt(t.start),this.document.offsetAt(t.end));if(e.includes(r)&&!n.isBuildVariable()&&!n.isDefined()){let e=m[0].getRange();c.push(s.createInvalidStopSignal(e.start,e.end,""));break}}}break;case"EXPOSE":a.getArguments();let f=a.getExpandedArguments();if(0===f.length){let e=a.getInstructionRange();c.push(s.createMissingArgument(e.start,e.end))}else{const e=/^([0-9])+(-[0-9]+)?(:([0-9])+(-[0-9]*)?)?(\/(\w*))?(\/\w*)*$/;e:for(let t=0;t<f.length;t++){let n=f[t].getValue();'"'===n.charAt(0)&&'"'===n.charAt(n.length-1)&&(n=n.substring(1,n.length-1));const r=e.exec(n);if(r){if(r[7]){const e=r[7].toLowerCase();if(""!==e&&"tcp"!==e&&"udp"!==e&&"sctp"!==e){const n=f[t].getRange(),a=this.document.offsetAt(n.start),i=this.document.getText().substring(a,this.document.offsetAt(n.end)),o=a+i.indexOf(r[7].substring(0,1)),u=1===e.length?a+o+1:a+i.length;c.push(s.createInvalidProto(this.document.positionAt(o),this.document.positionAt(u),r[7]))}}}else{if("$"===n.charAt(0))continue e;c.push(s.createInvalidPort(f[t].getRange(),n))}}}break;case"ADD":const p=a,_=p.getFlags();for(let e of _){const t=e.getName(),n=e.getRange();if(""===t)c.push(s.createUnknownAddFlag(n.start,n.end,t));else if("chmod"!==t&&"chown"!==t){let r=e.getNameRange();c.push(s.createUnknownAddFlag(n.start,r.end,t))}}const v=this.checkDestinationIsDirectory(p,s.createADDRequiresAtLeastTwoArguments,s.createADDDestinationNotDirectory);null!==v&&c.push(v),this.checkFlagValue(_,["chmod","chown"],c),this.checkDuplicateFlags(_,["chmod","chown"],c),this.checkJSONQuotes(a,c);break;case"COPY":let A=a,R=A.getFlags();if(R.length>0){for(let e of R){const t=e.getName(),n=e.getRange();if(""===t)c.push(s.createUnknownCopyFlag(n.start,n.end,t));else if("chmod"!==t&&"chown"!==t&&"from"!==t){let r=e.getNameRange();c.push(s.createUnknownCopyFlag(n.start,r.end,t))}}let e=A.getFromFlag();if(e){let t=e.getValue();if(null!==t&&!new RegExp(/^[a-zA-Z0-9].*$/).test(t)){let n=""===t?e.getRange():e.getValueRange();c.push(s.createFlagInvalidFrom(n.start,n.end,t))}}}const S=this.checkDestinationIsDirectory(A,s.createCOPYRequiresAtLeastTwoArguments,s.createCOPYDestinationNotDirectory);null!==S&&c.push(S),this.checkFlagValue(R,["chmod","chown","from"],c),this.checkDuplicateFlags(R,["chmod","chown","from"],c),this.checkJSONQuotes(a,c);break;case"WORKDIR":this.checkArguments(a,c,[-1],(function(){return null}));let k=a.getArgumentsContent();if(k){const e=k.substring(0,1),t=k.substring(k.length-1);("'"===e&&"'"===t||'"'===e&&'"'===t)&&(k=k.substring(1,k.length-1));let n=new RegExp(/^(\$|([a-zA-Z](\$|:(\$|\\|\/)))).*$/);if(!k.startsWith("/")&&!n.test(k)){let e=this.createWORKDIRNotAbsolute(a.getArgumentsRange());e&&c.push(e)}}break;default:this.checkArguments(a,c,[-1],(function(){return null}))}}}hasHeredocs(e){for(const t of e)if(t.getValue().startsWith("<<"))return!0;return!1}getDestinationArgument(e){if(this.hasHeredocs(e)){const t=e[0].getRange().start.line;let n=null;for(let r=1;r<e.length&&e[r].getRange().start.line===t;r++)n=e[r];return n}return e[e.length-1]}checkDestinationIsDirectory(e,t,n){if(e.getClosingBracket())return this.checkJsonDestinationIsDirectory(e,t,n);const r=e.getArguments();if(1===r.length)return t(r[0].getRange());if(0===r.length)return t(e.getInstructionRange());if(r.length>2){const a=this.getDestinationArgument(r);if(null===a)return t(e.getInstructionRange());if(this.hasHeredocs(r))return null;const i=e.getVariables();if(0!==i.length){const e=this.document.offsetAt(a.getRange().end),t=this.document.offsetAt(i[i.length-1].getRange().end);if(e===t||e-1===t)return null}const s=a.getValue(),o=s.charAt(s.length-1);if("\\"!==o&&"/"!==o)return n(a.getRange())}return null}createDuplicatesDiagnostics(e,t,n,r){if(r.length>1)for(let a=0;a<r.length-1;a++){const i=this.createMultipleInstructions(r[a].getInstructionRange(),t,n);i&&e.push(i)}}checkJsonDestinationIsDirectory(e,t,n){const r=e.getJSONStrings();if(0===r.length)return t(e.getArgumentsRange());if(1===r.length)return t(r[0].getJSONRange());if(r.length>2){const t=r[r.length-1],a=e.getVariables();if(0!==a.length){const e=a[a.length-1],n=this.document.offsetAt(t.getRange().end),r=this.document.offsetAt(e.getRange().end);if(n===r||n-1===r)return null}const i=t.getValue(),s=i.charAt(i.length-2);if("\\"!==s&&"/"!==s)return n(r[r.length-1].getJSONRange())}return null}checkFlagValue(e,t,n){for(let r of e){let e=r.getName();if(null===r.getValue()&&-1!==t.indexOf(e)){let t=r.getNameRange();n.push(s.createFlagMissingValue(t.start,t.end,e))}}}checkFlagDuration(e,t,n){e:for(let r of e){let e=r.getName();if(-1!==t.indexOf(e)){let t=r.getValue();if(null!==t&&0!==t.length){switch(t.charAt(0)){case"0":case"1":case"2":case"3":case"4":case"5":case"6":case"7":case"8":case"9":case".":case"-":break;default:let e=r.getValueRange();n.push(s.createFlagInvalidDuration(e.start,e.end,t));continue e}let a=!1,i=0,o=0,c=!1,u=!1,g=0;t:for(let l=0;l<t.length;l++)switch(a=!1,t.charAt(l)){case"-":if(c){let e=r.getValueRange();n.push(s.createFlagUnknownUnit(e,t.charAt(l),t));continue e}if(u){let e=r.getValueRange();n.push(s.createFlagInvalidDuration(e.start,e.end,t));continue e}u=!0;continue;case".":g++;continue;case"0":case"1":case"2":case"3":case"4":case"5":case"6":case"7":case"8":case"9":c=!0;continue;default:if(g>1){let e=r.getValueRange();n.push(s.createFlagMissingDuration(e.start,e.end,t));continue e}g=0;let h=parseFloat(t.substring(i,l));for(let c=l+1;c<t.length;c++)if(s.isNumberRelated(t.charAt(c))){let u=t.substring(l,c);if(h<0||"-"===t.charAt(i)&&0===h){let t=r.getNameRange();n.push(s.createFlagLessThan1ms(t.start,t.end,e));continue e}switch(u){case"h":o+=1e3*h*60*60,l=c-1,i=l,a=!0;continue t;case"m":o+=1e3*h*60,l=c-1,i=l,a=!0;continue t;case"s":o+=1e3*h,l=c-1,i=l,a=!0;continue t;case"ms":o+=h,l=c-1,i=l,a=!0;continue t;case"us":case"µs":o+=h/1e3,l=c-1,i=l,a=!0;continue t;case"ns":o+=h/1e6,l=c-1,i=l,a=!0;continue t;default:let e=r.getValueRange();n.push(s.createFlagUnknownUnit(e,u,t));continue e}}if(h<0||"-"===t.charAt(i)&&0===h){let t=r.getNameRange();n.push(s.createFlagLessThan1ms(t.start,t.end,e));continue e}let d=t.substring(l,t.length);switch(d){case"h":o+=1e3*h*60*60,a=!0;break t;case"m":o+=1e3*h*60,a=!0;break t;case"s":o+=1e3*h,a=!0;break t;case"ms":o+=h,a=!0;break t;case"us":case"µs":o+=h/1e3,a=!0;break t;case"ns":o+=h/1e6,a=!0;break t;default:let e=r.getValueRange();n.push(s.createFlagUnknownUnit(e,d,t))}continue e}if(a){if(o<1){let t=r.getNameRange();n.push(s.createFlagLessThan1ms(t.start,t.end,e))}}else{let e=r.getValueRange();n.push(s.createFlagMissingDuration(e.start,e.end,t))}}}}}static isNumberRelated(e){switch(e){case".":case"0":case"1":case"2":case"3":case"4":case"5":case"6":case"7":case"8":case"9":return!0}return!1}checkDuplicateFlags(e,t,n){let r=e.map((function(e){return e.getName()}));for(let a of t){let t=r.indexOf(a),i=r.lastIndexOf(a);if(t!==i){let a=e[t].getNameRange();n.push(s.createFlagDuplicate(a.start,a.end,r[t])),a=e[i].getNameRange(),n.push(s.createFlagDuplicate(a.start,a.end,r[t]))}}}checkJSON(e,t,n){if(null===t.getArgumentsContent())return;let r=t.getArgumentsRange(),a=t.getArguments();if(1===a.length&&"[]"===a[0].getValue()||2===a.length&&"["===a[0].getValue()&&"]"===a[1].getValue())return void n.push(s.createShellRequiresOne(r));const i=t.getClosingBracket();if(i){let a=e.getText();a=a.substring(e.offsetAt(t.getOpeningBracket().getRange().end),e.offsetAt(i.getRange().start)),a=a.trim(),'"'!==a.charAt(a.length-1)&&n.push(s.createShellJsonForm(r))}else n.push(s.createShellJsonForm(r))}checkJSONQuotes(e,t){let n=e.getArgumentsContent();if(null===n)return;let r=e.getArgumentsRange(),a=e.getArguments();if(1===a.length&&"[]"===a[0].getValue()||2===a.length&&"["===a[0].getValue()&&"]"===a[1].getValue())return;let i=!1,o=null,c=!1;e:for(let e=0;e<n.length;e++)switch(n.charAt(e)){case"[":null===o&&(o="[",i=!0);break;case"'":if("["===o||","===o){c=!0,o="'";continue}if("'"!==o)break e;if(!c)break e;c=!1;break;case",":if(!i)break e;if(!c){if("'"!==o)break e;o=","}break;case"]":if(!c){if("'"===o||","===o){o=null;const e=s.createJSONInSingleQuotes(r,this.settings.instructionJSONInSingleQuotes);e&&t.push(e)}break e}break;case" ":case"\t":break;default:if(!c)break e}}static formatMessage(e,...t){for(let n=0;n<t.length;n++)e=e.replace("${"+n+"}",t[n]);return e}static getDiagnosticMessage_DirectiveCasing(){return s.dockerProblems.directiveCasing}static getDiagnosticMessage_DirectiveEscapeDuplicated(){return s.dockerProblems.directiveEscapeDuplicated}static getDiagnosticMessage_DirectiveEscapeInvalid(e){return s.formatMessage(s.dockerProblems.directiveEscapeInvalid,e)}static getDiagnosticMessage_NoSourceImage(){return s.dockerProblems.noSourceImage}static getDiagnosticMessage_EmptyContinuationLine(){return s.dockerProblems.emptyContinuationLine}static getDiagnosticMessage_DuplicateBuildStageName(e){return s.formatMessage(s.dockerProblems.duplicateBuildStageName,e)}static getDiagnosticMessage_InvalidBuildStageName(e){return s.formatMessage(s.dockerProblems.invalidBuildStageName,e)}static getDiagnosticMessage_FlagAtLeastOne(e,t){return s.formatMessage(s.dockerProblems.flagAtLeastOne,e,t)}static getDiagnosticMessage_FlagDuplicate(e){return s.formatMessage(s.dockerProblems.flagDuplicate,e)}static getDiagnosticMessage_FlagInvalidDuration(e){return s.formatMessage(s.dockerProblems.flagInvalidDuration,e)}static getDiagnosticMessage_FlagLessThan1ms(e){return s.formatMessage(s.dockerProblems.flagLessThan1ms,e)}static getDiagnosticMessage_FlagMissingDuration(e){return s.formatMessage(s.dockerProblems.flagMissingDuration,e)}static getDiagnosticMessage_FlagInvalidFromValue(e){return s.formatMessage(s.dockerProblems.flagInvalidFrom,e)}static getDiagnosticMessage_FlagMissingValue(e){return s.formatMessage(s.dockerProblems.flagMissingValue,e)}static getDiagnosticMessage_FlagUnknown(e){return s.formatMessage(s.dockerProblems.flagUnknown,e)}static getDiagnosticMessage_FlagUnknownUnit(e,t){return s.formatMessage(s.dockerProblems.flagUnknownUnit,e,t)}static getDiagnosticMessage_BaseNameEmpty(e){return s.formatMessage(s.dockerProblems.baseNameEmpty,e)}static getDiagnosticMessage_InvalidAs(){return s.dockerProblems.invalidAs}static getDiagnosticMessage_InvalidPort(e){return s.formatMessage(s.dockerProblems.invalidPort,e)}static getDiagnosticMessage_InvalidProto(e){return s.formatMessage(s.dockerProblems.invalidProtocol,e)}static getDiagnosticMessage_InvalidReferenceFormat(){return s.dockerProblems.invalidReferenceFormat}static getDiagnosticMessage_InvalidSignal(e){return s.formatMessage(s.dockerProblems.invalidStopSignal,e)}static getDiagnosticMessage_InvalidSyntax(e){return s.formatMessage(s.dockerProblems.invalidSyntax,e)}static getDiagnosticMessage_InstructionExtraArgument(){return s.dockerProblems.instructionExtraArgument}static getDiagnosticMessage_InstructionMissingArgument(){return s.dockerProblems.instructionMissingArgument}static getDiagnosticMessage_ADDDestinationNotDirectory(){return s.formatMessage(s.dockerProblems.invalidDestination,"ADD")}static getDiagnosticMessage_ADDRequiresAtLeastTwoArguments(){return s.formatMessage(s.dockerProblems.instructionRequiresAtLeastTwoArguments,"ADD")}static getDiagnosticMessage_COPYDestinationNotDirectory(){return s.formatMessage(s.dockerProblems.invalidDestination,"COPY")}static getDiagnosticMessage_COPYRequiresAtLeastTwoArguments(){return s.formatMessage(s.dockerProblems.instructionRequiresAtLeastTwoArguments,"COPY")}static getDiagnosticMessage_HEALTHCHECKRequiresAtLeastOneArgument(){return s.formatMessage(s.dockerProblems.instructionRequiresAtLeastOneArgument,"HEALTHCHECK")}static getDiagnosticMessage_ENVRequiresTwoArguments(){return s.formatMessage(s.dockerProblems.instructionRequiresTwoArguments,"ENV")}static getDiagnosticMessage_InstructionRequiresOneOrThreeArguments(){return s.dockerProblems.fromRequiresOneOrThreeArguments}static getDiagnosticMessage_HealthcheckNoneUnnecessaryArgument(){return s.formatMessage(s.dockerProblems.instructionUnnecessaryArgument,"HEALTHCHECK NONE")}static getDiagnosticMessage_InstructionMultiple(e){return s.formatMessage(s.dockerProblems.instructionMultiple,e)}static getDiagnosticMessage_InstructionUnknown(e){return s.formatMessage(s.dockerProblems.instructionUnknown,e)}static getDiagnosticMessage_SyntaxMissingEquals(e){return s.formatMessage(s.dockerProblems.syntaxMissingEquals,e)}static getDiagnosticMessage_SyntaxMissingNames(e){return s.formatMessage(s.dockerProblems.syntaxMissingNames,e)}static getDiagnosticMessage_SyntaxMissingSingleQuote(e){return s.formatMessage(s.dockerProblems.syntaxMissingSingleQuote,e)}static getDiagnosticMessage_SyntaxMissingDoubleQuote(e){return s.formatMessage(s.dockerProblems.syntaxMissingDoubleQuote,e)}static getDiagnosticMessage_InstructionCasing(){return s.dockerProblems.instructionCasing}static getDiagnosticMessage_InstructionJSONInSingleQuotes(){return s.dockerProblems.instructionJSONInSingleQuotes}static getDiagnosticMessage_OnbuildChainingDisallowed(){return s.dockerProblems.onbuildChainingDisallowed}static getDiagnosticMessage_OnbuildTriggerDisallowed(e){return s.formatMessage(s.dockerProblems.onbuildTriggerDisallowed,e)}static getDiagnosticMessage_VariableModifierUnsupported(e,t){return s.formatMessage(s.dockerProblems.variableModifierUnsupported,e,t)}static getDiagnosticMessage_ShellJsonForm(){return s.dockerProblems.shellJsonForm}static getDiagnosticMessage_ShellRequiresOne(){return s.dockerProblems.shellRequiresOne}static getDiagnosticMessage_DeprecatedMaintainer(){return s.dockerProblems.deprecatedMaintainer}static getDiagnosticMessage_HealthcheckCmdArgumentMissing(){return s.dockerProblems.healthcheckCmdArgumentMissing}static getDiagnosticMessage_HealthcheckTypeUnknown(e){return s.formatMessage(s.dockerProblems.healthcheckTypeUnknown,e)}static getDiagnosticMessage_WORKDIRPathNotAbsolute(){return s.formatMessage(s.dockerProblems.workdirPathNotAbsolute)}static createDuplicatedEscapeDirective(e,t){return s.createError(e,t,s.getDiagnosticMessage_DirectiveEscapeDuplicated(),i.ValidationCode.DUPLICATED_ESCAPE_DIRECTIVE,[r.DiagnosticTag.Unnecessary])}static createInvalidEscapeDirective(e,t,n){return s.createError(e,t,s.getDiagnosticMessage_DirectiveEscapeInvalid(n),i.ValidationCode.INVALID_ESCAPE_DIRECTIVE)}static createDuplicateBuildStageName(e,t){return s.createError(e.start,e.end,s.getDiagnosticMessage_DuplicateBuildStageName(t),i.ValidationCode.DUPLICATE_BUILD_STAGE_NAME)}static createInvalidBuildStageName(e,t){return s.createError(e.start,e.end,s.getDiagnosticMessage_InvalidBuildStageName(t),i.ValidationCode.INVALID_BUILD_STAGE_NAME)}static createFlagAtLeastOne(e,t,n,r){return s.createError(e,t,s.getDiagnosticMessage_FlagAtLeastOne(n,r),i.ValidationCode.FLAG_AT_LEAST_ONE)}static createFlagDuplicate(e,t,n){return s.createError(e,t,s.getDiagnosticMessage_FlagDuplicate(n),i.ValidationCode.FLAG_DUPLICATE)}static createFlagInvalidDuration(e,t,n){return s.createError(e,t,s.getDiagnosticMessage_FlagInvalidDuration(n),i.ValidationCode.FLAG_INVALID_DURATION)}static createFlagLessThan1ms(e,t,n){return s.createError(e,t,s.getDiagnosticMessage_FlagLessThan1ms(n),i.ValidationCode.FLAG_LESS_THAN_1MS)}static createFlagMissingDuration(e,t,n){return s.createError(e,t,s.getDiagnosticMessage_FlagMissingDuration(n),i.ValidationCode.FLAG_MISSING_DURATION)}static createFlagInvalidFrom(e,t,n){return s.createError(e,t,s.getDiagnosticMessage_FlagInvalidFromValue(n),i.ValidationCode.FLAG_INVALID_FROM_VALUE)}static createFlagMissingValue(e,t,n){return s.createError(e,t,s.getDiagnosticMessage_FlagMissingValue(n),i.ValidationCode.FLAG_MISSING_VALUE)}static createUnknownAddFlag(e,t,n){return s.createError(e,t,s.getDiagnosticMessage_FlagUnknown(n),i.ValidationCode.UNKNOWN_ADD_FLAG)}static createUnknownCopyFlag(e,t,n){return s.createError(e,t,s.getDiagnosticMessage_FlagUnknown(n),i.ValidationCode.UNKNOWN_COPY_FLAG)}static createUnknownFromFlag(e,t,n){return s.createError(e,t,s.getDiagnosticMessage_FlagUnknown(n),i.ValidationCode.UNKNOWN_FROM_FLAG)}static createUnknownHealthcheckFlag(e,t,n){return s.createError(e,t,s.getDiagnosticMessage_FlagUnknown(n),i.ValidationCode.UNKNOWN_HEALTHCHECK_FLAG)}static createFlagUnknownUnit(e,t,n){return s.createError(e.start,e.end,s.getDiagnosticMessage_FlagUnknownUnit(t,n),i.ValidationCode.FLAG_UNKNOWN_UNIT)}static createBaseNameEmpty(e,t){return s.createError(e.start,e.end,s.getDiagnosticMessage_BaseNameEmpty(t),i.ValidationCode.BASE_NAME_EMPTY)}static createInvalidAs(e,t){return s.createError(e,t,s.getDiagnosticMessage_InvalidAs(),i.ValidationCode.INVALID_AS)}static createInvalidPort(e,t){return s.createError(e.start,e.end,s.getDiagnosticMessage_InvalidPort(t),i.ValidationCode.INVALID_PORT)}static createInvalidProto(e,t,n){return s.createError(e,t,s.getDiagnosticMessage_InvalidProto(n),i.ValidationCode.INVALID_PROTO)}static createInvalidReferenceFormat(e){return s.createError(e.start,e.end,s.getDiagnosticMessage_InvalidReferenceFormat(),i.ValidationCode.INVALID_REFERENCE_FORMAT)}static createInvalidStopSignal(e,t,n){return s.createError(e,t,s.getDiagnosticMessage_InvalidSignal(n),i.ValidationCode.INVALID_SIGNAL)}static createInvalidSyntax(e,t,n){return s.createError(e,t,s.getDiagnosticMessage_InvalidSyntax(n),i.ValidationCode.INVALID_SYNTAX)}static createMissingArgument(e,t){return s.createError(e,t,s.getDiagnosticMessage_InstructionMissingArgument(),i.ValidationCode.ARGUMENT_MISSING)}static createExtraArgument(e,t){return s.createError(e,t,s.getDiagnosticMessage_InstructionExtraArgument(),i.ValidationCode.ARGUMENT_EXTRA)}static createHealthcheckNoneUnnecessaryArgument(e,t){return s.createError(e,t,s.getDiagnosticMessage_HealthcheckNoneUnnecessaryArgument(),i.ValidationCode.ARGUMENT_UNNECESSARY)}static createADDDestinationNotDirectory(e){return s.createError(e.start,e.end,s.getDiagnosticMessage_ADDDestinationNotDirectory(),i.ValidationCode.INVALID_DESTINATION)}static createADDRequiresAtLeastTwoArguments(e){return s.createError(e.start,e.end,s.getDiagnosticMessage_ADDRequiresAtLeastTwoArguments(),i.ValidationCode.ARGUMENT_REQUIRES_AT_LEAST_TWO)}static createCOPYDestinationNotDirectory(e){return s.createError(e.start,e.end,s.getDiagnosticMessage_COPYDestinationNotDirectory(),i.ValidationCode.INVALID_DESTINATION)}static createCOPYRequiresAtLeastTwoArguments(e){return s.createError(e.start,e.end,s.getDiagnosticMessage_COPYRequiresAtLeastTwoArguments(),i.ValidationCode.ARGUMENT_REQUIRES_AT_LEAST_TWO)}static createENVRequiresTwoArguments(e,t){return s.createError(e,t,s.getDiagnosticMessage_ENVRequiresTwoArguments(),i.ValidationCode.ARGUMENT_REQUIRES_TWO)}static createHEALTHCHECKRequiresAtLeastOneArgument(e){return s.createError(e.start,e.end,s.getDiagnosticMessage_HEALTHCHECKRequiresAtLeastOneArgument(),i.ValidationCode.ARGUMENT_REQUIRES_AT_LEAST_ONE)}static createHealthcheckCmdArgumentMissing(e,t){return s.createError(e,t,s.getDiagnosticMessage_HealthcheckCmdArgumentMissing(),i.ValidationCode.HEALTHCHECK_CMD_ARGUMENT_MISSING)}static createHealthcheckTypeUnknown(e,t){return s.createError(e.start,e.end,s.getDiagnosticMessage_HealthcheckTypeUnknown(t),i.ValidationCode.UNKNOWN_TYPE)}static createOnbuildChainingDisallowed(e){return s.createError(e.start,e.end,s.getDiagnosticMessage_OnbuildChainingDisallowed(),i.ValidationCode.ONBUILD_CHAINING_DISALLOWED)}static createOnbuildTriggerDisallowed(e,t){return s.createError(e.start,e.end,s.getDiagnosticMessage_OnbuildTriggerDisallowed(t),i.ValidationCode.ONBUILD_TRIGGER_DISALLOWED)}static createShellJsonForm(e){return s.createError(e.start,e.end,s.getDiagnosticMessage_ShellJsonForm(),i.ValidationCode.SHELL_JSON_FORM)}static createShellRequiresOne(e){return s.createError(e.start,e.end,s.getDiagnosticMessage_ShellRequiresOne(),i.ValidationCode.SHELL_REQUIRES_ONE)}static createRequiresOneOrThreeArguments(e,t){return s.createError(e,t,s.getDiagnosticMessage_InstructionRequiresOneOrThreeArguments(),i.ValidationCode.ARGUMENT_REQUIRES_ONE_OR_THREE)}static createNoSourceImage(e,t){return s.createError(e,t,s.getDiagnosticMessage_NoSourceImage(),i.ValidationCode.NO_SOURCE_IMAGE)}static createSyntaxMissingEquals(e,t,n){return s.createError(e,t,s.getDiagnosticMessage_SyntaxMissingEquals(n),i.ValidationCode.SYNTAX_MISSING_EQUALS)}static createSyntaxMissingSingleQuote(e,t,n){return s.createError(e,t,s.getDiagnosticMessage_SyntaxMissingSingleQuote(n),i.ValidationCode.SYNTAX_MISSING_SINGLE_QUOTE)}static createSyntaxMissingDoubleQuote(e,t,n){return s.createError(e,t,s.getDiagnosticMessage_SyntaxMissingDoubleQuote(n),i.ValidationCode.SYNTAX_MISSING_DOUBLE_QUOTE)}static createSyntaxMissingNames(e,t,n){return s.createError(e,t,s.getDiagnosticMessage_SyntaxMissingNames(n),i.ValidationCode.SYNTAX_MISSING_NAMES)}static createVariableUnsupportedModifier(e,t,n){return s.createError(e.start,e.end,s.getDiagnosticMessage_VariableModifierUnsupported(t,n),i.ValidationCode.UNSUPPORTED_MODIFIER)}static createUnknownInstruction(e,t,n){return s.createError(e,t,s.getDiagnosticMessage_InstructionUnknown(n),i.ValidationCode.UNKNOWN_INSTRUCTION)}static createError(e,t,n,a,i){return s.createDiagnostic(r.DiagnosticSeverity.Error,e,t,n,a,i)}static createJSONInSingleQuotes(e,t){return t===i.ValidationSeverity.ERROR?s.createError(e.start,e.end,s.getDiagnosticMessage_InstructionJSONInSingleQuotes(),i.ValidationCode.JSON_IN_SINGLE_QUOTES):t===i.ValidationSeverity.WARNING?s.createWarning(e.start,e.end,s.getDiagnosticMessage_InstructionJSONInSingleQuotes(),i.ValidationCode.JSON_IN_SINGLE_QUOTES):null}static createEmptyContinuationLine(e,t,n){return n===i.ValidationSeverity.ERROR?s.createError(e,t,s.getDiagnosticMessage_EmptyContinuationLine(),i.ValidationCode.EMPTY_CONTINUATION_LINE):n===i.ValidationSeverity.WARNING?s.createWarning(e,t,s.getDiagnosticMessage_EmptyContinuationLine(),i.ValidationCode.EMPTY_CONTINUATION_LINE):null}createMultipleInstructions(e,t,n){return t===i.ValidationSeverity.ERROR?s.createError(e.start,e.end,s.getDiagnosticMessage_InstructionMultiple(n),i.ValidationCode.MULTIPLE_INSTRUCTIONS,[r.DiagnosticTag.Unnecessary]):t===i.ValidationSeverity.WARNING?s.createWarning(e.start,e.end,s.getDiagnosticMessage_InstructionMultiple(n),i.ValidationCode.MULTIPLE_INSTRUCTIONS,[r.DiagnosticTag.Unnecessary]):null}createLowercaseDirective(e,t){return this.settings.directiveCasing===i.ValidationSeverity.ERROR?s.createError(e,t,s.getDiagnosticMessage_DirectiveCasing(),i.ValidationCode.CASING_DIRECTIVE):this.settings.directiveCasing===i.ValidationSeverity.WARNING?s.createWarning(e,t,s.getDiagnosticMessage_DirectiveCasing(),i.ValidationCode.CASING_DIRECTIVE):null}createUppercaseInstruction(e,t){return this.settings.instructionCasing===i.ValidationSeverity.ERROR?s.createError(e,t,s.getDiagnosticMessage_InstructionCasing(),i.ValidationCode.CASING_INSTRUCTION):this.settings.instructionCasing===i.ValidationSeverity.WARNING?s.createWarning(e,t,s.getDiagnosticMessage_InstructionCasing(),i.ValidationCode.CASING_INSTRUCTION):null}createMaintainerDeprecated(e,t){return this.settings.deprecatedMaintainer===i.ValidationSeverity.ERROR?s.createError(e,t,s.getDiagnosticMessage_DeprecatedMaintainer(),i.ValidationCode.DEPRECATED_MAINTAINER,[r.DiagnosticTag.Deprecated]):this.settings.deprecatedMaintainer===i.ValidationSeverity.WARNING?s.createWarning(e,t,s.getDiagnosticMessage_DeprecatedMaintainer(),i.ValidationCode.DEPRECATED_MAINTAINER,[r.DiagnosticTag.Deprecated]):null}createWORKDIRNotAbsolute(e){return this.settings.instructionWorkdirRelative===i.ValidationSeverity.ERROR?s.createError(e.start,e.end,s.getDiagnosticMessage_WORKDIRPathNotAbsolute(),i.ValidationCode.WORKDIR_IS_NOT_ABSOLUTE):this.settings.instructionWorkdirRelative===i.ValidationSeverity.WARNING?s.createWarning(e.start,e.end,s.getDiagnosticMessage_WORKDIRPathNotAbsolute(),i.ValidationCode.WORKDIR_IS_NOT_ABSOLUTE):null}static createWarning(e,t,n,a,i){return s.createDiagnostic(r.DiagnosticSeverity.Warning,e,t,n,a,i)}static createDiagnostic(e,t,n,r,a,i){return{range:{start:t,end:n},message:r,severity:e,code:a,tags:i,source:"dockerfile-utils"}}}t.Validator=s,s.dockerProblems={baseNameEmpty:"base name (${0}) should not be blank",directiveCasing:"Parser directives should be written in lowercase letters",directiveEscapeDuplicated:"only one escape parser directive can be used",directiveEscapeInvalid:"invalid ESCAPE '${0}'. Must be ` or \\",noSourceImage:"No source image provided with `FROM`",emptyContinuationLine:"Empty continuation line",fromRequiresOneOrThreeArguments:"FROM requires either one or three arguments",invalidAs:"Second argument should be AS",invalidPort:"Invalid containerPort: ${0}",invalidProtocol:"Invalid proto: ${0}",invalidReferenceFormat:"invalid reference format",invalidStopSignal:"Invalid signal: ${0}",invalidSyntax:'parsing "${0}": invalid syntax',invalidDestination:"When using ${0} with more than one source file, the destination must be a directory and end with a / or a \\",syntaxMissingEquals:'Syntax error - can\'t find = in "${0}". Must be of the form: name=value',syntaxMissingNames:"${0} names cannot be blank",syntaxMissingSingleQuote:'failed to process "${0}": unexpected end of statement while looking for matching single-quote',syntaxMissingDoubleQuote:'failed to process "${0}": unexpected end of statement while looking for matching double-quote',duplicateBuildStageName:"duplicate name ${0}",invalidBuildStageName:'invalid name for build stage: "${0}", name can\'t start with a number or contain symbols',flagAtLeastOne:"${0} must be at least 1 (not ${1})",flagDuplicate:"Duplicate flag specified: ${0}",flagInvalidDuration:"time: invalid duration ${0}",flagInvalidFrom:"invalid from flag value ${0}: invalid reference format",flagLessThan1ms:'Interval "${0}" cannot be less than 1ms',flagMissingDuration:"time: missing unit in duration ${0}",flagMissingValue:"Missing a value on flag: ${0}",flagUnknown:"Unknown flag: ${0}",flagUnknownUnit:"time: unknown unit ${0} in duration ${1}",instructionExtraArgument:"Instruction has an extra argument",instructionMissingArgument:"Instruction has no arguments",instructionMultiple:"There can only be one ${0} instruction in a Dockerfile or build stage. Only the last one will have an effect.",instructionRequiresOneArgument:"${0} requires exactly one argument",instructionRequiresAtLeastOneArgument:"${0} requires at least one argument",instructionRequiresAtLeastTwoArguments:"${0} requires at least two arguments",instructionRequiresTwoArguments:"${0} must have two arguments",instructionUnnecessaryArgument:"${0} takes no arguments",instructionUnknown:"Unknown instruction: ${0}",instructionCasing:"Instructions should be written in uppercase letters",instructionJSONInSingleQuotes:"Instruction written as a JSON array but is using single quotes instead of double quotes",variableModifierUnsupported:'failed to process "${0}": unsupported modifier (${1}) in substitution',onbuildChainingDisallowed:"Chaining ONBUILD via `ONBUILD ONBUILD` isn't allowed",onbuildTriggerDisallowed:"${0} isn't allowed as an ONBUILD trigger",shellJsonForm:"SHELL requires the arguments to be in JSON form",shellRequiresOne:"SHELL requires at least one argument",deprecatedMaintainer:"MAINTAINER has been deprecated",healthcheckCmdArgumentMissing:"Missing command after HEALTHCHECK CMD",healthcheckTypeUnknown:'Unknown type"${0}" in HEALTHCHECK (try CMD)',workdirPathNotAbsolute:"WORKDIR paths should be absolute"}},7918:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.validate=t.formatOnType=t.formatRange=t.format=t.ValidationSeverity=t.ValidationCode=void 0;const r=n(6813),a=n(9614),i=n(9400);var s,o;(o=t.ValidationCode||(t.ValidationCode={}))[o.CASING_INSTRUCTION=0]="CASING_INSTRUCTION",o[o.CASING_DIRECTIVE=1]="CASING_DIRECTIVE",o[o.ARGUMENT_MISSING=2]="ARGUMENT_MISSING",o[o.ARGUMENT_EXTRA=3]="ARGUMENT_EXTRA",o[o.ARGUMENT_REQUIRES_ONE=4]="ARGUMENT_REQUIRES_ONE",o[o.ARGUMENT_REQUIRES_AT_LEAST_ONE=5]="ARGUMENT_REQUIRES_AT_LEAST_ONE",o[o.ARGUMENT_REQUIRES_TWO=6]="ARGUMENT_REQUIRES_TWO",o[o.ARGUMENT_REQUIRES_AT_LEAST_TWO=7]="ARGUMENT_REQUIRES_AT_LEAST_TWO",o[o.ARGUMENT_REQUIRES_ONE_OR_THREE=8]="ARGUMENT_REQUIRES_ONE_OR_THREE",o[o.ARGUMENT_UNNECESSARY=9]="ARGUMENT_UNNECESSARY",o[o.DUPLICATE_BUILD_STAGE_NAME=10]="DUPLICATE_BUILD_STAGE_NAME",o[o.EMPTY_CONTINUATION_LINE=11]="EMPTY_CONTINUATION_LINE",o[o.INVALID_BUILD_STAGE_NAME=12]="INVALID_BUILD_STAGE_NAME",o[o.FLAG_AT_LEAST_ONE=13]="FLAG_AT_LEAST_ONE",o[o.FLAG_DUPLICATE=14]="FLAG_DUPLICATE",o[o.FLAG_INVALID_DURATION=15]="FLAG_INVALID_DURATION",o[o.FLAG_LESS_THAN_1MS=16]="FLAG_LESS_THAN_1MS",o[o.FLAG_MISSING_DURATION=17]="FLAG_MISSING_DURATION",o[o.FLAG_MISSING_VALUE=18]="FLAG_MISSING_VALUE",o[o.FLAG_UNKNOWN_UNIT=19]="FLAG_UNKNOWN_UNIT",o[o.NO_SOURCE_IMAGE=20]="NO_SOURCE_IMAGE",o[o.INVALID_ESCAPE_DIRECTIVE=21]="INVALID_ESCAPE_DIRECTIVE",o[o.INVALID_AS=22]="INVALID_AS",o[o.INVALID_DESTINATION=23]="INVALID_DESTINATION",o[o.INVALID_PORT=24]="INVALID_PORT",o[o.INVALID_PROTO=25]="INVALID_PROTO",o[o.INVALID_REFERENCE_FORMAT=26]="INVALID_REFERENCE_FORMAT",o[o.INVALID_SIGNAL=27]="INVALID_SIGNAL",o[o.INVALID_SYNTAX=28]="INVALID_SYNTAX",o[o.ONBUILD_CHAINING_DISALLOWED=29]="ONBUILD_CHAINING_DISALLOWED",o[o.ONBUILD_TRIGGER_DISALLOWED=30]="ONBUILD_TRIGGER_DISALLOWED",o[o.SHELL_JSON_FORM=31]="SHELL_JSON_FORM",o[o.SHELL_REQUIRES_ONE=32]="SHELL_REQUIRES_ONE",o[o.SYNTAX_MISSING_EQUALS=33]="SYNTAX_MISSING_EQUALS",o[o.SYNTAX_MISSING_NAMES=34]="SYNTAX_MISSING_NAMES",o[o.SYNTAX_MISSING_SINGLE_QUOTE=35]="SYNTAX_MISSING_SINGLE_QUOTE",o[o.SYNTAX_MISSING_DOUBLE_QUOTE=36]="SYNTAX_MISSING_DOUBLE_QUOTE",o[o.MULTIPLE_INSTRUCTIONS=37]="MULTIPLE_INSTRUCTIONS",o[o.UNKNOWN_INSTRUCTION=38]="UNKNOWN_INSTRUCTION",o[o.UNKNOWN_ADD_FLAG=39]="UNKNOWN_ADD_FLAG",o[o.UNKNOWN_COPY_FLAG=40]="UNKNOWN_COPY_FLAG",o[o.UNKNOWN_FROM_FLAG=41]="UNKNOWN_FROM_FLAG",o[o.UNKNOWN_HEALTHCHECK_FLAG=42]="UNKNOWN_HEALTHCHECK_FLAG",o[o.UNKNOWN_TYPE=43]="UNKNOWN_TYPE",o[o.UNSUPPORTED_MODIFIER=44]="UNSUPPORTED_MODIFIER",o[o.DEPRECATED_MAINTAINER=45]="DEPRECATED_MAINTAINER",o[o.HEALTHCHECK_CMD_ARGUMENT_MISSING=46]="HEALTHCHECK_CMD_ARGUMENT_MISSING",o[o.FLAG_INVALID_FROM_VALUE=47]="FLAG_INVALID_FROM_VALUE",o[o.JSON_IN_SINGLE_QUOTES=48]="JSON_IN_SINGLE_QUOTES",o[o.WORKDIR_IS_NOT_ABSOLUTE=49]="WORKDIR_IS_NOT_ABSOLUTE",o[o.BASE_NAME_EMPTY=50]="BASE_NAME_EMPTY",o[o.DUPLICATED_ESCAPE_DIRECTIVE=51]="DUPLICATED_ESCAPE_DIRECTIVE",(s=t.ValidationSeverity||(t.ValidationSeverity={}))[s.IGNORE=0]="IGNORE",s[s.WARNING=1]="WARNING",s[s.ERROR=2]="ERROR",t.format=function(e,t){const n=r.TextDocument.create("","",0,e);return(new a.DockerFormatter).formatDocument(n,t)},t.formatRange=function(e,t,n){const i=r.TextDocument.create("","",0,e);return(new a.DockerFormatter).formatRange(i,t,n)},t.formatOnType=function(e,t,n,i){const s=r.TextDocument.create("","",0,e);return(new a.DockerFormatter).formatOnType(s,t,n,i)},t.validate=function(e,t){const n=r.TextDocument.create("","",0,e);return new i.Validator(t).validate(n)}},4513:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.Util=t.KEYWORDS=void 0,t.KEYWORDS=["ADD","ARG","CMD","COPY","ENTRYPOINT","ENV","EXPOSE","FROM","HEALTHCHECK","LABEL","MAINTAINER","ONBUILD","RUN","SHELL","STOPSIGNAL","USER","VOLUME","WORKDIR"];var n=function(){function e(){}return e.isWhitespace=function(t){return" "===t||"\t"===t||e.isNewline(t)},e.isNewline=function(e){return"\r"===e||"\n"===e},e.isInsideRange=function(e,t){return null!==t&&(t.start.line===t.end.line?t.start.line===e.line&&t.start.character<=e.character&&e.character<=t.end.character:t.start.line===e.line?t.start.character<=e.character:t.end.line===e.line?e.character<=t.end.character:t.start.line<e.line&&e.line<t.end.line)},e.rangeEquals=function(t,n){return e.positionEquals(t.start,n.start)&&e.positionEquals(t.end,n.end)},e.positionEquals=function(e,t){return e.line==t.line&&e.character===t.character},e.positionBefore=function(e,t){return e.line<t.line||!(e.line>t.line)&&e.character<t.character},e}();t.Util=n},3012:function(e,t,n){var r=this&&this.__awaiter||function(e,t,n,r){return new(n||(n=Promise))((function(a,i){function s(e){try{c(r.next(e))}catch(e){i(e)}}function o(e){try{c(r.throw(e))}catch(e){i(e)}}function c(e){var t;e.done?a(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(s,o)}c((r=r.apply(e,t||[])).next())}))},a=this&&this.__generator||function(e,t){var n,r,a,i,s={label:0,sent:function(){if(1&a[0])throw a[1];return a[1]},trys:[],ops:[]};return i={next:o(0),throw:o(1),return:o(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function o(i){return function(o){return function(i){if(n)throw new TypeError("Generator is already executing.");for(;s;)try{if(n=1,r&&(a=2&i[0]?r.return:i[0]?r.throw||((a=r.return)&&a.call(r),0):r.next)&&!(a=a.call(r,i[1])).done)return a;switch(r=0,a&&(i=[2&i[0],a.value]),i[0]){case 0:case 1:a=i;break;case 4:return s.label++,{value:i[1],done:!1};case 5:s.label++,r=i[1],i=[0];continue;case 7:i=s.ops.pop(),s.trys.pop();continue;default:if(!((a=(a=s.trys).length>0&&a[a.length-1])||6!==i[0]&&2!==i[0])){s=0;continue}if(3===i[0]&&(!a||i[1]>a[0]&&i[1]<a[3])){s.label=i[1];break}if(6===i[0]&&s.label<a[1]){s.label=a[1],a=i;break}if(a&&s.label<a[2]){s.label=a[2],s.ops.push(i);break}a[2]&&s.ops.pop(),s.trys.pop();continue}i=t.call(e,s)}catch(e){i=[6,e],r=0}finally{n=a=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,o])}}};Object.defineProperty(t,"__esModule",{value:!0}),t.DockerAssist=void 0;var i=n(8661),s=n(4513),o=n(243),c=function(){function e(e,t,n){this.document=e,this.dockerRegistryClient=t,this.deprecatedSupport=n&&n.deprecatedSupport,this.snippetSupport=n&&n.snippetSupport,this.supportedTags=n&&n.tagSupport&&n.tagSupport.valueSet}return e.prototype.computeProposals=function(e){for(var t=this.document.getText(),n=this.document.offsetAt(e),r=o.DockerfileParser.parse(t),a=r.getEscapeCharacter(),i=-1,c=0,u=r.getDirectives();c<u.length;c++){var g=u[c];if(i=(v=g.getNameRange()).start.line,e.line===i){if(e.character<=v.start.character)return[this.createEscape(0,n,o.Directive.escape),this.createSyntax(0,n,o.Directive.syntax)];if(e.character<=v.end.character){var l=g.getName().substring(0,e.character-v.start.character);if(l=l.toLowerCase(),0===o.Directive.escape.indexOf(l))return[this.createEscape(l.length,n,o.Directive.escape)];if(0===o.Directive.syntax.indexOf(l))return[this.createSyntax(l.length,n,o.Directive.syntax)]}return[]}}var h=r.getComments();if(0!==h.length)if(e.line===i+1){var d=h[0].getRange();if(d.start.line===e.line&&d.start.character<e.character){if(null===(v=h[0].getContentRange())||e.character<=v.start.character)return[this.createEscape(0,n,o.Directive.escape),this.createSyntax(0,n,o.Directive.syntax)];var m=h[0].getContent();if(e.character<=v.end.character){var f=m.substring(0,e.character-v.start.character);if(0===o.Directive.escape.indexOf(f.toLowerCase()))return[this.createEscape(f.length,n,o.Directive.escape)];if(0===o.Directive.syntax.indexOf(f.toLowerCase()))return[this.createSyntax(f.length,n,o.Directive.syntax)]}return[]}}else for(var p=0,_=h;p<_.length;p++){var v;if((v=(m=_[p]).getRange()).start.line===e.line&&v.start.character<e.character&&e.character<=v.end.character)return[]}var A=this.calculateTruePrefix(r,t,n,a);if(""!==A.content){var R=A.content.lastIndexOf("$");if(-1!==R&&"\\"!==A.content.charAt(R-1)){var S=A.content.substring(R+1).toLowerCase(),k=S.length+1,b=[];if(""===S){for(var E=0,I=r.getAvailableVariables(e.line);E<I.length;E++){var C=I[E],D=r.resolveVariable(C,e.line);b.push(this.createVariableCompletionItem(C,k,n,!0,D))}for(var T=0,N=o.DefaultVariables;T<N.length;T++)C=N[T],D=r.resolveVariable(C,e.line),b.push(this.createVariableCompletionItem(C,k,n,!0,D))}else{var P=!1;"{"===S.charAt(0)&&(P=!0,S=S.substring(1));for(var y=r.getAvailableVariables(e.line),O=0,M=o.DefaultVariables;O<M.length;O++)C=M[O],-1===y.indexOf(C)&&y.push(C);for(var L=0,F=y;L<F.length;L++)0===(C=F[L]).toLowerCase().indexOf(S)&&(D=r.resolveVariable(C,e.line),b.push(this.createVariableCompletionItem(C,k,n,P,D)))}return b.sort((function(e,t){return e.label.toLowerCase()===t.label.toLowerCase()?-1*e.label.localeCompare(t.label):e.label.localeCompare(t.label)})),b}}var w="";e:for(var H=0,x=r.getInstructions();H<x.length;H++){var U=x[H];if(s.Util.isInsideRange(e,U.getInstructionRange())||A.content===U.getKeyword())break;if(s.Util.isInsideRange(e,U.getRange()))switch(U.getKeyword()){case"ADD":return this.createAddProposals(r,U,e,n,A.content);case"COPY":return this.createCopyProposals(r,U,e,n,A.content);case"FROM":return this.createFromProposals(U,e,n,A.content);case"HEALTHCHECK":var V=U.getSubcommand();return V&&V.isBefore(e)?[]:this.createHealthcheckProposals(n,A.content);case"ONBUILD":var K=U.getArguments();if(0===K.length||s.Util.isInsideRange(e,K[0].getRange())){w="ONBUILD";break e}var G=U.getTriggerInstruction();switch(G.getKeyword()){case"ADD":return this.createAddProposals(r,G,e,n,A.content);case"COPY":return this.createCopyProposals(r,G,e,n,A.content);case"HEALTHCHECK":var B=G.getSubcommand();return B&&B.isBefore(e)?[]:this.createHealthcheckProposals(n,A.content)}return[];default:return[]}}if(""===A.content)return 0===r.getInstructions().length?[this.createFROM(0,n,"FROM")]:this.createProposals(s.KEYWORDS,w,0,n);for(var W=[],Y=A.content.toUpperCase(),j=0;j<s.KEYWORDS.length;j++){if(s.KEYWORDS[j]===Y)return[];0===s.KEYWORDS[j].indexOf(Y)&&W.push(s.KEYWORDS[j])}return 0===W.length?[]:this.createProposals(W,w,n-A.offset,n)},e.prototype.createProposals=function(e,t,n,r){for(var a=[],i=0;i<e.length;i++)switch(e[i]){case"ARG":this.snippetSupport?(a.push(this.createARG_NameOnly(n,r)),a.push(this.createARG_DefaultValue(n,r))):a.push(this.createARG(n,r));break;case"HEALTHCHECK":a.push(this.createHEALTHCHECK_CMD(n,r)),a.push(this.createHEALTHCHECK_NONE(n,r));break;case"FROM":case"MAINTAINER":case"ONBUILD":if(t)break;default:a.push(this.createSingleProposals(e[i],n,r))}return a},e.prototype.createAddProposals=function(e,t,n,r,a){var i=new Map;i.set("chown",this.createADD_FlagChown.bind(this));var s=t.getArguments(),o=this.createFlagProposals(t.getFlags(),s,n,r,a,i);return null!==o?o:this.createTargetFolderProposals(e,s,n,r,a)},e.prototype.createOtherFlagProposals=function(e,t,n,r,a){if(0===n.length)return t;if(n.length===e.size)return[];var i=[];return e.forEach((function(e,t){-1===n.indexOf(t)&&i.push(t)})),i.map((function(t){return e.get(t)(r,a)}))},e.prototype.createFlagProposals=function(e,t,n,r,a,i){var o=[];i.forEach((function(e){o.push(e(a.length,r))}));var c=!0;t.length>0&&s.Util.positionBefore(t[0].getRange().start,this.document.positionAt(r))&&(c=!1);for(var u=[],g=!1,l=0,h=e;l<h.length;l++){var d=h[l],m=d.getName();i.has(m)&&u.push(m),s.Util.isInsideRange(n,d.getRange())&&(g=!0)}if(g){if("--"===a)return this.createOtherFlagProposals(i,o,u,a.length,r);var f=null;if(i.forEach((function(e,t){0===("--"+t+"=").indexOf(a)&&(f=e(a.length,r))})),null!==f)return[f]}return c||t.length>0&&s.Util.isInsideRange(n,t[0].getRange())&&"-"===a?this.createOtherFlagProposals(i,o,u,a.length,r):null},e.prototype.createCopyProposals=function(e,t,n,r,a){var i=t.getFromFlag();if(i&&s.Util.isInsideRange(n,i.getValueRange())){for(var o={},c=[],u=0,g=!1,l=this.document.getText().substring(this.document.offsetAt(i.getValueRange().start),r).toLowerCase(),h=0,d=e.getFROMs();h<d.length;h++){var m=d[h];if(!t.isAfter(m))break;var f=m.getImage(),p=m.getBuildStage();if(p){var _=p.toLowerCase();0!==_.indexOf(l)||o[_]||(o[_]=!0,c.push(this.createSourceImageCompletionItem(p,f,u,l.length,r))),g=!1}else o[u]||(o[u]=!0,c.push(this.createSourceImageCompletionItem(u.toString(),f,u,l.length,r)),g=!0);u++}return g&&c.length>0&&c.pop(),c}var v=new Map;v.set("chown",this.createCOPY_FlagChown.bind(this)),v.set("from",this.createCOPY_FlagFrom.bind(this));var A=t.getArguments(),R=this.createFlagProposals(t.getFlags(),A,n,r,a,v);return null!==R?R:this.createTargetFolderProposals(e,A,n,r,a)},e.prototype.createTargetFolderProposals=function(e,t,n,r,a){if(1===t.length)return s.Util.positionBefore(t[0].getRange().end,n)?this.createWorkdirPathProposals(e,n,r,a):[];var i=t[t.length-1].getRange();return s.Util.isInsideRange(n,i)||s.Util.positionBefore(i.end,n)?this.createWorkdirPathProposals(e,n,r,a):[]},e.prototype.createWorkdirPathProposals=function(e,t,n,r){for(var a=[],s=0,o=e.getAvailableWorkingDirectories(t.line);s<o.length;s++){var c=o[s];c.startsWith(r)&&a.push(this.createPlainTextCompletionItem(c,r.length,n,c,i.CompletionItemKind.Folder))}return a},e.prototype.createFromProposals=function(e,t,n,o){var c=this;if(s.Util.isInsideRange(t,e.getImageTagRange())){var u=o.indexOf(":"),g=o.indexOf(":");o=u===g?o.substring(u+1):o.substring(u+1,g);var l=this.dockerRegistryClient;return new Promise((function(n){return r(c,void 0,void 0,(function(){var r,s,c,u,g;return a(this,(function(a){switch(a.label){case 0:return r=[],[4,l.getTags(e.getImageName())];case 1:for(s=a.sent(),c=0,u=s;c<u.length;c++)0===(g=u[c]).indexOf(o)&&r.push({textEdit:this.createTextEdit(o.length,this.document.offsetAt(t),g),label:g,kind:i.CompletionItemKind.Property,insertTextFormat:i.InsertTextFormat.PlainText});return n(r),[2]}}))}))}))}var h=e.getArguments();return h.length>0&&h[0].isBefore(t)?[]:0==="--platform".indexOf(o)?[this.createFROM_FlagPlatform(o.length,n)]:[]},e.prototype.createHealthcheckProposals=function(e,t){var n=[];t.length<3&&0==="CMD".indexOf(t.toUpperCase())&&n.push(this.createHEALTHCHECK_CMD_Subcommand(t.length,e)),t.length<4&&0==="NONE".indexOf(t.toUpperCase())&&n.push(this.createHEALTHCHECK_NONE_Subcommand(t.length,e)),0==="--interval".indexOf(t)&&n.push(this.createHEALTHCHECK_FlagInterval(t.length,e)),0==="--retries".indexOf(t)&&n.push(this.createHEALTHCHECK_FlagRetries(t.length,e)),0==="--start-period".indexOf(t)&&n.push(this.createHEALTHCHECK_FlagStartPeriod(t.length,e)),0==="--timeout".indexOf(t)&&n.push(this.createHEALTHCHECK_FlagTimeout(t.length,e));for(var r=0;r<n.length;r++)n[r].sortText=r.toString();return n},e.prototype.calculateTruePrefix=function(e,t,n,r){var a=t.charAt(n-1),i=!0;switch(a){case"\n":var c="";e:for(var u=n-2;u>=0;u--)switch(t.charAt(u)){case" ":case"\t":if(!i)break e;break;case"\r":case"\n":i=!0;break;case r:if(i){i=!1;continue}break;default:if(i)break e;n=u,c=t.charAt(u).toUpperCase()+c}if(""!==c)return{content:c,offset:n};break;case"\r":case" ":case"\t":break;default:i=!1;for(var g=a,l=n-2;l>=0;l--)if(a=t.charAt(l),s.Util.isNewline(a))i=!0;else{if(s.Util.isWhitespace(a)){if(i)continue;break}if(a===r){if(i){i=!1;continue}}else if(i)break;g=a+g}for(var h=0,d=e.getInstructions();h<d.length;h++){var m=d[h],f=m.getInstructionRange(),p=this.document.offsetAt(f.start);if(p<=n&&n<=this.document.offsetAt(f.end))return{content:g,offset:p};for(var _=0,v=m.getArguments();_<v.length;_++){var A=v[_].getRange(),R=this.document.offsetAt(A.start);if(R<=n&&n<=this.document.offsetAt(A.end))return{content:g,offset:R}}if(m instanceof o.ModifiableInstruction)for(var S=0,k=m.getFlags();S<k.length;S++){var b=k[S].getRange(),E=this.document.offsetAt(b.start);if(E<=n&&n<=this.document.offsetAt(b.end))return{content:g,offset:E}}}}return{content:"",offset:n}},e.prototype.createSingleProposals=function(e,t,n){switch(e){case"ADD":return this.createADD(t,n,e);case"CMD":return this.createCMD(t,n,e);case"COPY":return this.createCOPY(t,n,e);case"ENTRYPOINT":return this.createENTRYPOINT(t,n,e);case"ENV":return this.createENV(t,n,e);case"EXPOSE":return this.createEXPOSE(t,n,e);case"FROM":return this.createFROM(t,n,e);case"LABEL":return this.createLABEL(t,n,e);case"MAINTAINER":return this.createMAINTAINER(t,n,e);case"ONBUILD":return this.createONBUILD(t,n,e);case"RUN":return this.createRUN(t,n,e);case"SHELL":return this.createSHELL(t,n,e);case"STOPSIGNAL":return this.createSTOPSIGNAL(t,n,e);case"WORKDIR":return this.createWORKDIR(t,n,e);case"VOLUME":return this.createVOLUME(t,n,e);case"USER":return this.createUSER(t,n,e)}throw new Error("Unknown keyword found: "+e)},e.prototype.createADD=function(e,t,n){return this.createKeywordCompletionItem("ADD","ADD source dest",e,t,"ADD ${1:source} ${2:dest}",n)},e.prototype.createARG=function(e,t){return this.createKeywordCompletionItem("ARG","ARG",e,t,"ARG","ARG")},e.prototype.createARG_NameOnly=function(e,t){return this.createKeywordCompletionItem("ARG","ARG name",e,t,"ARG ${1:name}","ARG_NameOnly")},e.prototype.createARG_DefaultValue=function(e,t){return this.createKeywordCompletionItem("ARG","ARG name=defaultValue",e,t,"ARG ${1:name}=${2:defaultValue}","ARG_DefaultValue")},e.prototype.createCMD=function(e,t,n){return this.createKeywordCompletionItem("CMD",'CMD [ "executable" ]',e,t,'CMD [ "${1:executable}" ]',n)},e.prototype.createCOPY=function(e,t,n){return this.createKeywordCompletionItem("COPY","COPY source dest",e,t,"COPY ${1:source} ${2:dest}",n)},e.prototype.createENTRYPOINT=function(e,t,n){return this.createKeywordCompletionItem("ENTRYPOINT",'ENTRYPOINT [ "executable" ]',e,t,'ENTRYPOINT [ "${1:executable}" ]',n)},e.prototype.createENV=function(e,t,n){return this.createKeywordCompletionItem("ENV","ENV key=value",e,t,"ENV ${1:key}=${2:value}",n)},e.prototype.createEXPOSE=function(e,t,n){return this.createKeywordCompletionItem("EXPOSE","EXPOSE port",e,t,"EXPOSE ${1:port}",n)},e.prototype.createFROM=function(e,t,n){return this.createKeywordCompletionItem("FROM","FROM baseImage",e,t,"FROM ${1:baseImage}",n)},e.prototype.createHEALTHCHECK_CMD=function(e,t){return this.snippetSupport?this.createKeywordCompletionItem("HEALTHCHECK",'HEALTHCHECK --interval=30s --timeout=30s --start-period=5s --retries=3 CMD [ "executable" ]',e,t,'HEALTHCHECK --interval=${1:30s} --timeout=${2:30s} --start-period=${3:5s} --retries=${4:3} CMD [ "${5:executable}" ]',"HEALTHCHECK_CMD"):{data:"HEALTHCHECK_CMD",textEdit:this.createTextEdit(e,t,"HEALTHCHECK CMD"),label:"HEALTHCHECK CMD",kind:i.CompletionItemKind.Keyword,insertTextFormat:i.InsertTextFormat.PlainText}},e.prototype.createHEALTHCHECK_CMD_Subcommand=function(e,t){return this.snippetSupport?this.createKeywordCompletionItem("CMD",'CMD [ "executable" ]',e,t,'CMD [ "${1:executable}" ]',"HEALTHCHECK_CMD"):{data:"HEALTHCHECK_CMD",textEdit:this.createTextEdit(e,t,"CMD"),label:"CMD",kind:i.CompletionItemKind.Keyword,insertTextFormat:i.InsertTextFormat.PlainText}},e.prototype.createADD_FlagChown=function(e,t){return this.snippetSupport?this.createFlagCompletionItem("--chown=user:group",e,t,"--chown=${1:user:group}","ADD_FlagChown"):this.createFlagCompletionItem("--chown=",e,t,"--chown=","ADD_FlagChown")},e.prototype.createCOPY_FlagChown=function(e,t){return this.snippetSupport?this.createFlagCompletionItem("--chown=user:group",e,t,"--chown=${1:user:group}","COPY_FlagChown"):this.createFlagCompletionItem("--chown=",e,t,"--chown=","COPY_FlagChown")},e.prototype.createCOPY_FlagFrom=function(e,t){return this.snippetSupport?this.createFlagCompletionItem("--from=stage",e,t,"--from=${1:stage}","COPY_FlagFrom"):this.createFlagCompletionItem("--from=",e,t,"--from=","COPY_FlagFrom")},e.prototype.createFROM_FlagPlatform=function(e,t){return this.snippetSupport?this.createFlagCompletionItem("--platform=arm64",e,t,"--platform=${1:arm64}","FROM_FlagPlatform"):this.createFlagCompletionItem("--platform=",e,t,"--platform=","FROM_FlagPlatform")},e.prototype.createHEALTHCHECK_FlagInterval=function(e,t){return this.snippetSupport?this.createFlagCompletionItem("--interval=30s",e,t,"--interval=${1:30s}","HEALTHCHECK_FlagInterval"):this.createFlagCompletionItem("--interval=",e,t,"--interval=","HEALTHCHECK_FlagInterval")},e.prototype.createHEALTHCHECK_FlagRetries=function(e,t){return this.snippetSupport?this.createFlagCompletionItem("--retries=3",e,t,"--retries=${1:3}","HEALTHCHECK_FlagRetries"):this.createFlagCompletionItem("--retries=",e,t,"--retries=","HEALTHCHECK_FlagRetries")},e.prototype.createHEALTHCHECK_FlagStartPeriod=function(e,t){return this.snippetSupport?this.createFlagCompletionItem("--start-period=5s",e,t,"--start-period=${1:5s}","HEALTHCHECK_FlagStartPeriod"):this.createFlagCompletionItem("--start-period=",e,t,"--start-period=","HEALTHCHECK_FlagStartPeriod")},e.prototype.createHEALTHCHECK_FlagTimeout=function(e,t){return this.snippetSupport?this.createFlagCompletionItem("--timeout=30s",e,t,"--timeout=${1:30s}","HEALTHCHECK_FlagTimeout"):this.createFlagCompletionItem("--timeout=",e,t,"--timeout=","HEALTHCHECK_FlagTimeout")},e.prototype.createHEALTHCHECK_NONE=function(e,t){return this.createPlainTextCompletionItem("HEALTHCHECK NONE",e,t,"HEALTHCHECK NONE",i.CompletionItemKind.Keyword,"HEALTHCHECK_NONE")},e.prototype.createHEALTHCHECK_NONE_Subcommand=function(e,t){return this.createPlainTextCompletionItem("NONE",e,t,"NONE",i.CompletionItemKind.Keyword,"HEALTHCHECK_NONE")},e.prototype.createLABEL=function(e,t,n){return this.createKeywordCompletionItem("LABEL",'LABEL key="value"',e,t,'LABEL ${1:key}="${2:value}"',n)},e.prototype.createMAINTAINER=function(e,t,n){var r=this.createKeywordCompletionItem("MAINTAINER","MAINTAINER name",e,t,"MAINTAINER ${1:name}",n);return void 0!==this.supportedTags&&this.supportedTags.length>0&&this.supportedTags.indexOf(i.CompletionItemTag.Deprecated)>=0&&(r.tags=[i.CompletionItemTag.Deprecated]),this.deprecatedSupport&&(r.deprecated=!0),r},e.prototype.createONBUILD=function(e,t,n){return this.createKeywordCompletionItem("ONBUILD","ONBUILD INSTRUCTION",e,t,"ONBUILD ${1:INSTRUCTION}",n)},e.prototype.createRUN=function(e,t,n){return this.createKeywordCompletionItem("RUN","RUN command",e,t,"RUN ${1:command}",n)},e.prototype.createSHELL=function(e,t,n){return this.createKeywordCompletionItem("SHELL",'SHELL [ "executable" ]',e,t,'SHELL [ "${1:executable}" ]',n)},e.prototype.createSTOPSIGNAL=function(e,t,n){return this.createKeywordCompletionItem("STOPSIGNAL","STOPSIGNAL signal",e,t,"STOPSIGNAL ${1:signal}",n)},e.prototype.createUSER=function(e,t,n){return this.createKeywordCompletionItem("USER","USER daemon",e,t,"USER ${1:daemon}",n)},e.prototype.createVOLUME=function(e,t,n){return this.createKeywordCompletionItem("VOLUME",'VOLUME [ "/data" ]',e,t,'VOLUME [ "${1:/data}" ]',n)},e.prototype.createWORKDIR=function(e,t,n){return this.createKeywordCompletionItem("WORKDIR","WORKDIR /the/workdir/path",e,t,"WORKDIR ${1:/the/workdir/path}",n)},e.prototype.createEscape=function(e,t,n){return this.createKeywordCompletionItem(o.Directive.escape,"escape=`",e,t,"escape=${1:`}",n)},e.prototype.createSyntax=function(e,t,n){return this.createKeywordCompletionItem(o.Directive.syntax,"syntax=docker/dockerfile:experimental",e,t,"syntax=${1:docker/dockerfile:experimental}",n)},e.prototype.createKeywordCompletionItem=function(e,t,n,r,a,s){return this.snippetSupport||(t=e,a=e),{data:s,textEdit:this.createTextEdit(n,r,a),label:t,kind:i.CompletionItemKind.Keyword,insertTextFormat:this.snippetSupport?i.InsertTextFormat.Snippet:i.InsertTextFormat.PlainText}},e.prototype.createPlainTextCompletionItem=function(e,t,n,r,a,s){return{data:s,textEdit:this.createTextEdit(t,n,r),label:e,kind:a,insertTextFormat:i.InsertTextFormat.PlainText}},e.prototype.createFlagCompletionItem=function(e,t,n,r,a){return{data:a,textEdit:this.createTextEdit(t,n,r),label:e,kind:i.CompletionItemKind.Field,insertTextFormat:this.snippetSupport?i.InsertTextFormat.Snippet:i.InsertTextFormat.PlainText}},e.prototype.createSourceImageCompletionItem=function(e,t,n,r,a){return{textEdit:this.createTextEdit(r,a,e),label:e,documentation:t,kind:i.CompletionItemKind.Reference,insertTextFormat:i.InsertTextFormat.PlainText,sortText:n.toString()}},e.prototype.createVariableCompletionItem=function(e,t,n,r,a){return e=r?"${"+e+"}":"$"+e,{textEdit:this.createTextEdit(t,n,e),label:e,kind:i.CompletionItemKind.Variable,insertTextFormat:i.InsertTextFormat.PlainText,documentation:a}},e.prototype.createTextEdit=function(e,t,n){return 0===e?i.TextEdit.insert(this.document.positionAt(t),n):i.TextEdit.replace(i.Range.create(this.document.positionAt(t-e),this.document.positionAt(t)),n)},e}();t.DockerAssist=c},3591:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.DockerCommands=void 0;var r=n(8661),a=n(7918),i=n(7506),s=function(){function e(){}return e.prototype.analyzeDiagnostics=function(e,t){for(var n=[],r=0;r<e.length;r++)switch("string"==typeof e[r].code&&(e[r].code=parseInt(e[r].code)),e[r].code){case a.ValidationCode.CASING_DIRECTIVE:n.push({title:"Convert directive to lowercase",command:i.CommandIds.LOWERCASE,arguments:[t,e[r].range]});break;case a.ValidationCode.CASING_INSTRUCTION:n.push({title:"Convert instruction to uppercase",command:i.CommandIds.UPPERCASE,arguments:[t,e[r].range]});break;case a.ValidationCode.ARGUMENT_EXTRA:n.push({title:"Remove extra argument",command:i.CommandIds.EXTRA_ARGUMENT,arguments:[t,e[r].range]});break;case a.ValidationCode.INVALID_ESCAPE_DIRECTIVE:n.push({title:"Convert to backslash",command:i.CommandIds.DIRECTIVE_TO_BACKSLASH,arguments:[t,e[r].range]}),n.push({title:"Convert to backtick",command:i.CommandIds.DIRECTIVE_TO_BACKTICK,arguments:[t,e[r].range]});break;case a.ValidationCode.INVALID_AS:n.push({title:"Convert to AS",command:i.CommandIds.CONVERT_TO_AS,arguments:[t,e[r].range]});break;case a.ValidationCode.UNKNOWN_HEALTHCHECK_FLAG:n.push({title:"Convert to --interval",command:i.CommandIds.FLAG_TO_HEALTHCHECK_INTERVAL,arguments:[t,e[r].range]}),n.push({title:"Convert to --retries",command:i.CommandIds.FLAG_TO_HEALTHCHECK_RETRIES,arguments:[t,e[r].range]}),n.push({title:"Convert to --start-period",command:i.CommandIds.FLAG_TO_HEALTHCHECK_START_PERIOD,arguments:[t,e[r].range]}),n.push({title:"Convert to --timeout",command:i.CommandIds.FLAG_TO_HEALTHCHECK_TIMEOUT,arguments:[t,e[r].range]});break;case a.ValidationCode.UNKNOWN_ADD_FLAG:n.push({title:"Convert to --chown",command:i.CommandIds.FLAG_TO_CHOWN,arguments:[t,e[r].range]});break;case a.ValidationCode.UNKNOWN_COPY_FLAG:n.push({title:"Convert to --chown",command:i.CommandIds.FLAG_TO_CHOWN,arguments:[t,e[r].range]}),n.push({title:"Convert to --from",command:i.CommandIds.FLAG_TO_COPY_FROM,arguments:[t,e[r].range]});break;case a.ValidationCode.EMPTY_CONTINUATION_LINE:e[r].range.start.line+1===e[r].range.end.line?n.push({title:"Remove empty continuation line",command:i.CommandIds.REMOVE_EMPTY_CONTINUATION_LINE,arguments:[t,e[r].range]}):n.push({title:"Remove empty continuation lines",command:i.CommandIds.REMOVE_EMPTY_CONTINUATION_LINE,arguments:[t,e[r].range]})}return n},e.prototype.computeCommandEdits=function(e,t,n){var a=r.TextDocument.create("","",0,e),s=n[1];switch(t){case i.CommandIds.LOWERCASE:var o=a.getText().substring(a.offsetAt(s.start),a.offsetAt(s.end));return[r.TextEdit.replace(s,o.toLowerCase())];case i.CommandIds.UPPERCASE:var c=a.getText().substring(a.offsetAt(s.start),a.offsetAt(s.end));return[r.TextEdit.replace(s,c.toUpperCase())];case i.CommandIds.EXTRA_ARGUMENT:return[r.TextEdit.del(s)];case i.CommandIds.DIRECTIVE_TO_BACKSLASH:return[r.TextEdit.replace(s,"\\")];case i.CommandIds.DIRECTIVE_TO_BACKTICK:return[r.TextEdit.replace(s,"`")];case i.CommandIds.CONVERT_TO_AS:return[r.TextEdit.replace(s,"AS")];case i.CommandIds.FLAG_TO_CHOWN:return[r.TextEdit.replace(s,"--chown")];case i.CommandIds.FLAG_TO_HEALTHCHECK_INTERVAL:return[r.TextEdit.replace(s,"--interval")];case i.CommandIds.FLAG_TO_HEALTHCHECK_RETRIES:return[r.TextEdit.replace(s,"--retries")];case i.CommandIds.FLAG_TO_HEALTHCHECK_START_PERIOD:return[r.TextEdit.replace(s,"--start-period")];case i.CommandIds.FLAG_TO_HEALTHCHECK_TIMEOUT:return[r.TextEdit.replace(s,"--timeout")];case i.CommandIds.FLAG_TO_COPY_FROM:return[r.TextEdit.replace(s,"--from")];case i.CommandIds.REMOVE_EMPTY_CONTINUATION_LINE:return[r.TextEdit.del(s)]}return null},e}();t.DockerCommands=s},8228:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.DockerCompletion=void 0;var r=n(8661),a=n(3764),i=n(9859),s=function(){function e(){this.dockerMarkdown=new a.MarkdownDocumentation,this.dockerPlainText=new i.PlainTextDocumentation}return e.prototype.resolveCompletionItem=function(e,t){if(!e.documentation&&e.data)if(null==t)e.documentation=this.dockerPlainText.getDocumentation(e.data);else{for(var n=0,a=t;n<a.length;n++){var i=a[n];if(i===r.MarkupKind.PlainText)return e.documentation={kind:r.MarkupKind.PlainText,value:this.dockerPlainText.getDocumentation(e.data)},e;if(i===r.MarkupKind.Markdown)return e.documentation={kind:r.MarkupKind.Markdown,value:this.dockerMarkdown.getMarkdown(e.data).contents},e}e.documentation=this.dockerPlainText.getDocumentation(e.data)}return e},e}();t.DockerCompletion=s},4073:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.DockerDefinition=void 0;var r=n(8661),a=n(4513),i=n(243),s=function(){function e(){}return e.prototype.computeBuildStageDefinition=function(e,t){for(var n=void 0,r=0,i=e.getCOPYs();r<i.length;r++){var s=(u=i[r]).getFromFlag();if(s&&(g=s.getValueRange())&&g.start.line===t.line&&g.start.character<=t.character&&t.character<=g.end.character){n=s.getValue();break}}for(var o=0,c=e.getFROMs();o<c.length;o++){var u,g;if(g=(u=c[o]).getBuildStageRange()){if(g.start.line===t.line&&g.start.character<=t.character&&t.character<=g.end.character)return g;if(void 0!==n&&u.getBuildStage().toLowerCase()===n.toLowerCase())return g}if(g=u.getImageNameRange(),a.Util.isInsideRange(t,g)){for(var l=u.getImageName(),h=0,d=e.getFROMs();h<d.length;h++){var m=d[h];if(l===m.getBuildStage())return m.getBuildStageRange()}return null}}return null},e.computeVariableDefinition=function(e,t){for(var n=null,r=0,s=e.getARGs();r<s.length;r++)if((l=s[r].getProperty())&&a.Util.isInsideRange(t,l.getNameRange())){n=l.getName();break}if(null===n)e:for(var o=0,c=e.getENVs();o<c.length;o++)for(var u=0,g=c[o].getProperties();u<g.length;u++){var l=g[u];if(a.Util.isInsideRange(t,l.getNameRange())){n=l.getName();break e}}if(null===n)e:for(var h=0,d=e.getInstructions();h<d.length;h++)for(var m=0,f=(A=d[h]).getVariables();m<f.length;m++){var p=f[m];if(a.Util.isInsideRange(t,p.getNameRange())){n=p.getName();break e}}for(var _=0,v=e.getInstructions();_<v.length;_++){var A;if((A=v[_])instanceof i.Arg){if((l=A.getProperty())&&l.getName()===n)return l}else if(A instanceof i.Env)for(var R=0,S=A.getProperties();R<S.length;R++)if((l=S[R]).getName()===n)return l}return null},e.findDefinition=function(t,n){for(var r=0,i=t.getFROMs();r<i.length;r++)for(var s=0,o=i[r].getVariables();s<o.length;s++){var c=o[s];if(a.Util.isInsideRange(n,c.getNameRange())){for(var u=0,g=t.getInitialARGs();u<g.length;u++){var l=g[u].getProperty();if(l&&l.getName()===c.getName())return l}return null}}var h=t.getContainingImage(n);return e.computeVariableDefinition(h,n)},e.prototype.computeVariableDefinition=function(t,n){var r=e.findDefinition(t,n);return r?r.getNameRange():null},e.prototype.computeDefinitionRange=function(e,t){var n=i.DockerfileParser.parse(e);return this.computeBuildStageDefinition(n,t)||this.computeVariableDefinition(n,t)},e.prototype.computeDefinition=function(e,t,n){var a=i.DockerfileParser.parse(t),s=this.computeBuildStageDefinition(a,n);return null!==s||null!==(s=this.computeVariableDefinition(a,n))?r.Location.create(e.uri,s):null},e}();t.DockerDefinition=s},883:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.DockerFolding=void 0;var r=n(8661),a=n(243),i=function(){function e(){}return e.prototype.createFoldingRange=function(e,t,n,a,i,s){return e?{startLine:t,endLine:n,kind:s}:r.FoldingRange.create(t,n,a,i,s)},e.prototype.getLineLength=function(e,t){for(var n=e.getText(r.Range.create(t,0,t,r.uinteger.MAX_VALUE)),a=n.length,i=n.charAt(a-1);"\r"===i||"\n"===i;)a--,i=n.charAt(a-1);return a},e.prototype.computeFoldingRanges=function(e,t,n){if(n<1)return[];for(var i=[],s=a.DockerfileParser.parse(e),o=r.TextDocument.create("","",0,e),c=0,u=s.getInstructions();c<u.length;c++)if((_=u[c].getRange()).start.line!==_.end.line){var g=this.getLineLength(o,_.start.line),l=this.getLineLength(o,_.end.line);if(i.push(this.createFoldingRange(t,_.start.line,_.end.line,g,l)),i.length===n)return i}var h=s.getComments();if(h.length<2)return i;for(var d=!1,m=h[0].getRange(),f=r.Position.create(m.start.line+1,m.start.character),p=1;p<h.length;p++){var _;if((_=h[p].getRange()).start.line===f.line)f=r.Position.create(_.end.line+1,_.end.character),d=!0;else{if(d&&(i.push(this.createFoldingRange(t,m.start.line,f.line-1,m.end.character,f.character,r.FoldingRangeKind.Comment)),i.length===n))return i;m=_,f=r.Position.create(m.start.line+1,m.start.character),d=!1}}return d&&i.push(this.createFoldingRange(t,m.start.line,f.line-1,m.end.character,f.character,r.FoldingRangeKind.Comment)),i},e}();t.DockerFolding=i},9759:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.DockerHighlight=void 0;var r=n(8661),a=n(243),i=n(4073),s=n(4513),o=function(){function e(){}return e.prototype.computeHighlightRanges=function(e,t){var n=a.DockerfileParser.parse(e),o=(new i.DockerDefinition).computeDefinitionRange(e,t),c=null===o?n.getContainingImage(t):n.getContainingImage(o.start),u=[];if(null===o){for(var g=0,l=n.getCOPYs();g<l.length;g++)if(Y=(ee=l[g]).getFromFlag()){var h=Y.getValueRange();if(h&&h.start.line===t.line&&h.start.character<=t.character&&t.character<=h.end.character){for(var d=Y.getValue(),m=0,f=n.getCOPYs();m<f.length;m++){var p=f[m].getFromFlag();p&&p.getValue().toLowerCase()===d.toLowerCase()&&u.push(r.DocumentHighlight.create(p.getValueRange(),r.DocumentHighlightKind.Read))}return u}}for(var _=0,v=n.getFROMs();_<v.length;_++)for(var A=0,R=(ce=v[_]).getVariables();A<R.length;A++){var S=R[A];if(s.Util.isInsideRange(t,S.getNameRange())){for(var k=S.getName(),b=0,E=n.getFROMs();b<E.length;b++)for(var I=0,C=E[b].getVariables();I<C.length;I++){var D=C[I];D.getName()===k&&u.push(r.DocumentHighlight.create(D.getNameRange(),r.DocumentHighlightKind.Read))}return u}}for(var T=0,N=c.getInstructions();T<N.length;T++)for(var P=0,y=(ee=N[T]).getVariables();P<y.length;P++)if(S=y[P],s.Util.isInsideRange(t,S.getNameRange())){k=S.getName();for(var O=0,M=c.getInstructions();O<M.length;O++){var L=M[O];if(!(L instanceof a.From))for(var F=0,w=L.getVariables();F<w.length;F++){var H=w[F];H.getName()===k&&u.push(r.DocumentHighlight.create(H.getNameRange(),r.DocumentHighlightKind.Read))}}return u}}else{for(var x=r.TextDocument.create("","",0,e),U=x.getText().substring(x.offsetAt(o.start),x.offsetAt(o.end)),V=!1,K=0,G=n.getFROMs();K<G.length;K++)(d=(ce=G[K]).getBuildStage())&&U.toLowerCase()===d.toLowerCase()&&(u.push(r.DocumentHighlight.create(ce.getBuildStageRange(),r.DocumentHighlightKind.Write)),V=!0);if(V){for(var B=0,W=n.getCOPYs();B<W.length;B++){var Y;(Y=(ee=W[B]).getFromFlag())&&Y.getValue().toLowerCase()===U.toLowerCase()&&u.push(r.DocumentHighlight.create(Y.getValueRange(),r.DocumentHighlightKind.Read))}return u}for(var j=0,$=c.getARGs();j<$.length;j++)(ie=$[j].getProperty())&&ie.getName()===U&&u.push(r.DocumentHighlight.create(ie.getNameRange(),r.DocumentHighlightKind.Write));for(var q=0,J=c.getENVs();q<J.length;q++)for(var Q=0,X=J[q].getProperties();Q<X.length;Q++)(ie=X[Q]).getName()===U&&u.push(r.DocumentHighlight.create(ie.getNameRange(),r.DocumentHighlightKind.Write));for(var z=0,Z=c.getInstructions();z<Z.length;z++){var ee;if(!((ee=Z[z])instanceof a.From))for(var te=0,ne=ee.getVariables();te<ne.length;te++)(S=ne[te]).getName()===U&&u.push(r.DocumentHighlight.create(S.getNameRange(),r.DocumentHighlightKind.Read))}for(var re=0,ae=n.getInitialARGs();re<ae.length;re++){var ie;if((ie=ae[re].getProperty())&&s.Util.rangeEquals(ie.getNameRange(),o))for(var se=0,oe=n.getFROMs();se<oe.length;se++)for(var ce,ue=0,ge=(ce=oe[se]).getVariables();ue<ge.length;ue++)(S=ge[ue]).getName()===U&&u.push(r.DocumentHighlight.create(S.getNameRange(),r.DocumentHighlightKind.Read))}}return u},e}();t.DockerHighlight=o},6461:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.DockerHover=void 0;var r=n(8661),a=n(243),i=n(4513),s=function(){function e(e,t){this.markdown=e,this.plainText=t}return e.prototype.onHover=function(e,t,n){var s=a.DockerfileParser.parse(e),o=s.getContainingImage(t);if(!o)return null;var c=this.computeHoverKey(s,t);if(c){if(n&&n.length>0){switch(n[0]){case r.MarkupKind.Markdown:var u=this.markdown.getMarkdown(c);return u?{contents:{kind:r.MarkupKind.Markdown,value:u.contents}}:null;case r.MarkupKind.PlainText:var g=this.plainText.getDocumentation(c);if(g)return{contents:{kind:r.MarkupKind.PlainText,value:g}}}return null}var l=this.markdown.getMarkdown(c);return void 0===l?null:l}for(var h=0,d=o.getInstructions();h<d.length;h++){if((A=d[h])instanceof a.Arg&&(p=A.getProperty())&&i.Util.isInsideRange(t,p.getNameRange())&&null!==p.getValue())return{contents:p.getValue()};if(A instanceof a.Env)for(var m=0,f=A.getProperties();m<f.length;m++){var p=f[m];if(i.Util.isInsideRange(t,p.getNameRange())&&null!==p.getValue())return{contents:p.getValue()}}}for(var _=0,v=o.getInstructions();_<v.length;_++)for(var A,R=0,S=(A=v[_]).getVariables();R<S.length;R++){var k=S[R];if(i.Util.isInsideRange(t,k.getNameRange())){var b=s.resolveVariable(k.getName(),k.getNameRange().start.line);if(b||""===b)return{contents:b};if(null===b)return null}}return null},e.prototype.computeHoverKey=function(e,t){for(var n=0,r=e.getDirectives();n<r.length;n++){var s=r[n],o=s.getNameRange();switch(s.getDirective()){case a.Directive.escape:if(i.Util.isInsideRange(t,o))return a.Directive.escape;break;case a.Directive.syntax:if(i.Util.isInsideRange(t,o))return a.Directive.syntax}}for(var c=0,u=e.getContainingImage(t).getInstructions();c<u.length;c++){var g=u[c],l=g.getInstructionRange();if(i.Util.isInsideRange(t,l))return g.getKeyword();if(g instanceof a.Onbuild&&(o=g.getTriggerRange(),i.Util.isInsideRange(t,o)))return g.getTrigger();var h=this.getFlagsHover(t,g);if(null!==h)return h}return null},e.prototype.getFlagsHover=function(e,t){switch(t.getKeyword()){case"ADD":for(var n=0,r=t.getFlags();n<r.length;n++){var a=r[n];if(i.Util.isInsideRange(e,a.getNameRange()))switch(a.getName()){case"chown":return"ADD_FlagChown"}}break;case"COPY":for(var s=0,o=t.getFlags();s<o.length;s++)if(a=o[s],i.Util.isInsideRange(e,a.getNameRange()))switch(a.getName()){case"chown":return"COPY_FlagChown";case"from":return"COPY_FlagFrom"}break;case"FROM":for(var c=0,u=t.getFlags();c<u.length;c++)if(a=u[c],i.Util.isInsideRange(e,a.getNameRange()))return"platform"===a.getName()?"FROM_FlagPlatform":null;break;case"HEALTHCHECK":for(var g=0,l=t.getFlags();g<l.length;g++)if(a=l[g],i.Util.isInsideRange(e,a.getNameRange())){switch(a.getName()){case"interval":return"HEALTHCHECK_FlagInterval";case"retries":return"HEALTHCHECK_FlagRetries";case"start-period":return"HEALTHCHECK_FlagStartPeriod";case"timeout":return"HEALTHCHECK_FlagTimeout"}return null}break;case"ONBUILD":var h=t.getTriggerInstruction();if(null!==h)return this.getFlagsHover(e,h)}return null},e}();t.DockerHover=s},7776:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.DockerLinks=void 0;var r=n(243),a=function(){function e(){}return e.prototype.getLinks=function(e){for(var t=r.DockerfileParser.parse(e),n=[],a=t.getFROMs().reduce((function(e,t){var n=t.getBuildStage();return null!==n&&e.push(n),e}),[]),i=0,s=t.getFROMs();i<s.length;i++){var o=s[i],c=o.getImageName();null!==c&&-1===a.indexOf(c)&&(-1===c.indexOf("/")?n.push({range:o.getImageNameRange(),data:"_/"+c+"/"}):n.push({range:o.getImageNameRange(),data:"r/"+c+"/"}))}return n},e.prototype.resolveLink=function(e){return e.data&&(e.target="https://hub.docker.com/"+e.data),e},e}();t.DockerLinks=a},3764:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.MarkdownDocumentation=void 0;var n=function(){function e(){this.dockerMessages={hoverAdd:"Copy files, folders, or remote URLs from `source` to the `dest` path in the image's filesystem.\n\n",hoverArg:"Define a variable with an optional default value that users can override at build-time when using `docker build`.\n\nSince Docker 1.9\n\n",hoverCmd:"Provide defaults for an executing container. If an executable is not specified, then `ENTRYPOINT` must be specified as well. There can only be one `CMD` instruction in a `Dockerfile`.\n\n",hoverCopy:"Copy files or folders from `source` to the `dest` path in the image's filesystem.\n\n",hoverEntrypoint:"Configures the container to be run as an executable.\n\n",hoverEnv:"Set the environment variable `key` to the value `value`.\n\n",hoverExpose:"Define the network `port`s that this container will listen on at runtime.\n\n",hoverFrom:"Set the `baseImage` to use for subsequent instructions. `FROM` must be the first instruction in a `Dockerfile`.\n\n",hoverHealthcheck:"Define how Docker should test the container to check that it is still working. Alternatively, disable the base image's `HEALTHCHECK` instruction. There can only be one `HEALTHCHECK` instruction in a `Dockerfile`.\n\nSince Docker 1.12\n\n",hoverLabel:"Adds metadata to an image.\n\nSince Docker 1.6\n\n",hoverMaintainer:"Set the _Author_ field of the generated images. This instruction has been deprecated in favor of `LABEL`.\n\n",hoverOnbuild:"Add a _trigger_ instruction to the image that will be executed when the image is used as a base image for another build.\n\n",hoverRun:"Execute any commands on top of the current image as a new layer and commit the results.\n\n",hoverShell:"Override the default shell used for the _shell_ form of commands.\n\nSince Docker 1.12\n\n",hoverStopsignal:"Set the system call signal to use to send to the container to exit. Signals can be valid unsigned numbers or a signal name in the `SIGNAME` format such as `SIGKILL`.\n\nSince Docker 1.9\n\n",hoverUser:"Set the user name or UID to use when running the image in addition to any subsequent `CMD`, `ENTRYPOINT`, or `RUN` instructions that follow it in the `Dockerfile`.\n\n",hoverVolume:"Create a mount point with the specified name and mark it as holding externally mounted volumes from the native host or from other containers.\n\n",hoverWorkdir:"Set the working directory for any subsequent `ADD`, `COPY`, `CMD`, `ENTRYPOINT`, or `RUN` instructions that follow it in the `Dockerfile`.\n\n",hoverEscape:"Sets the character to use to escape characters and newlines in this Dockerfile. If unspecified, the default escape character is `\\`.\n\n",hoverSyntax:"Set the location of the Dockerfile builder to use for building the current Dockerfile.\n\n",hoverOnlineDocumentationFooter:"\n\n[Online documentation](${0})",hoverAddFlagChown:"The username, groupname, or UID/GID combination to own the added content.",hoverCopyFlagChown:"The username, groupname, or UID/GID combination to own the copied content.",hoverCopyFlagFrom:"The previous build stage to use as the source location instead of the build's context.\n\nSince Docker 17.05.0-ce.",hoverFromFlagPlatform:"The platform of the image if referencing a multi-platform image.\n\nSince Docker CE 18.04.",hoverHealthcheckFlagInterval:"The seconds to wait for the health check to run after the container has started, and then again the number of seconds to wait before running again after the previous check has completed.",hoverHealthcheckFlagRetries:"The number of consecutive failures of this health check before the container is considered to be `unhealthy`.",hoverHealthcheckFlagStartPeriod:"The number of seconds to wait for the container to startup. Failures during this grace period will not count towards the maximum number of retries. However, should a health check succeed during this period then any subsequent failures will count towards the maximum number of retries.\n\nSince Docker 17.05.0-ce.",hoverHealthcheckFlagTimeout:"The number of seconds to wait for the check to complete before considering it to have failed.",proposalArgNameOnly:"Define a variable that users can set at build-time when using `docker build`.\n\n",proposalArgDefaultValue:"Define a variable with the given default value that users can override at build-time when using `docker build`.\n\n",proposalHealthcheckExec:"Define how Docker should test the container to check that it is still working. There can only be one `HEALTHCHECK` instruction in a `Dockerfile`.\n\nSince Docker 1.12\n\n",proposalHealthcheckNone:"Disable the `HEALTHCHECK` instruction inherited from the base image if one exists. There can only be one `HEALTHCHECK` instruction in a `Dockerfile`.\n\nSince Docker 1.12"},this.markdowns={ADD:{contents:this.dockerMessages.hoverAdd+"```\nADD hello.txt /absolute/path\nADD hello.txt relative/to/workdir\n```"+this.formatMessage(this.dockerMessages.hoverOnlineDocumentationFooter,"https://docs.docker.com/engine/reference/builder/#add")},ADD_FlagChown:{contents:this.dockerMessages.hoverAddFlagChown},ARG:{contents:this.dockerMessages.hoverArg+"```\nARG userName\nARG testOutputDir=test\n```"+this.formatMessage(this.dockerMessages.hoverOnlineDocumentationFooter,"https://docs.docker.com/engine/reference/builder/#arg")},ARG_NameOnly:{contents:this.dockerMessages.proposalArgNameOnly+"```\nARG userName\n```"+this.formatMessage(this.dockerMessages.hoverOnlineDocumentationFooter,"https://docs.docker.com/engine/reference/builder/#arg")},ARG_DefaultValue:{contents:this.dockerMessages.proposalArgDefaultValue+"```\nARG testOutputDir=test\n```"+this.formatMessage(this.dockerMessages.hoverOnlineDocumentationFooter,"https://docs.docker.com/engine/reference/builder/#arg")},CMD:{contents:this.dockerMessages.hoverCmd+'```\nCMD [ "/bin/ls", "-l" ]\n```\n'+this.formatMessage(this.dockerMessages.hoverOnlineDocumentationFooter,"https://docs.docker.com/engine/reference/builder/#cmd")},COPY:{contents:this.dockerMessages.hoverCopy+"```\nCOPY hello.txt /absolute/path\nCOPY hello.txt relative/to/workdir\n```"+this.formatMessage(this.dockerMessages.hoverOnlineDocumentationFooter,"https://docs.docker.com/engine/reference/builder/#copy")},COPY_FlagChown:{contents:this.dockerMessages.hoverCopyFlagChown},COPY_FlagFrom:{contents:this.dockerMessages.hoverCopyFlagFrom},ENTRYPOINT:{contents:this.dockerMessages.hoverEntrypoint+'```\nENTRYPOINT [ "/opt/app/run.sh", "--port", "8080" ]\n```'+this.formatMessage(this.dockerMessages.hoverOnlineDocumentationFooter,"https://docs.docker.com/engine/reference/builder/#entrypoint")},ENV:{contents:this.dockerMessages.hoverEnv+"```\nENV buildTag=1.0\n```\n"+this.formatMessage(this.dockerMessages.hoverOnlineDocumentationFooter,"https://docs.docker.com/engine/reference/builder/#env")},EXPOSE:{contents:this.dockerMessages.hoverExpose+"```\nEXPOSE 8080\nEXPOSE 80 443 22\nEXPOSE 7000-8000\n```"+this.formatMessage(this.dockerMessages.hoverOnlineDocumentationFooter,"https://docs.docker.com/engine/reference/builder/#expose")},FROM:{contents:this.dockerMessages.hoverFrom+"```\nFROM baseImage\nFROM baseImage:tag\nFROM baseImage@digest\n```"+this.formatMessage(this.dockerMessages.hoverOnlineDocumentationFooter,"https://docs.docker.com/engine/reference/builder/#from")},FROM_FlagPlatform:{contents:this.dockerMessages.hoverFromFlagPlatform},HEALTHCHECK:{contents:this.dockerMessages.hoverHealthcheck+"```\nHEALTHCHECK --interval=10m --timeout=5s \\\n    CMD curl -f http://localhost/ || exit 1\nHEALTHCHECK NONE\n```"+this.formatMessage(this.dockerMessages.hoverOnlineDocumentationFooter,"https://docs.docker.com/engine/reference/builder/#healthcheck")},HEALTHCHECK_CMD:{contents:this.dockerMessages.proposalHealthcheckExec+"```\nHEALTHCHECK --interval=10m --timeout=5s \\\n    CMD curl -f http://localhost/ || exit 1\n```"+this.formatMessage(this.dockerMessages.hoverOnlineDocumentationFooter,"https://docs.docker.com/engine/reference/builder/#healthcheck")},HEALTHCHECK_FlagInterval:{contents:this.dockerMessages.hoverHealthcheckFlagInterval},HEALTHCHECK_FlagRetries:{contents:this.dockerMessages.hoverHealthcheckFlagRetries},HEALTHCHECK_FlagStartPeriod:{contents:this.dockerMessages.hoverHealthcheckFlagStartPeriod},HEALTHCHECK_FlagTimeout:{contents:this.dockerMessages.hoverHealthcheckFlagTimeout},HEALTHCHECK_NONE:{contents:this.dockerMessages.proposalHealthcheckNone+"```\nHEALTHCHECK NONE\n```"+this.formatMessage(this.dockerMessages.hoverOnlineDocumentationFooter,"https://docs.docker.com/engine/reference/builder/#healthcheck")},LABEL:{contents:this.dockerMessages.hoverLabel+'```\nLABEL version="1.0"\n```\n'+this.formatMessage(this.dockerMessages.hoverOnlineDocumentationFooter,"https://docs.docker.com/engine/reference/builder/#label")},MAINTAINER:{contents:this.dockerMessages.hoverMaintainer+"```\nMAINTAINER name\n```\n"+this.formatMessage(this.dockerMessages.hoverOnlineDocumentationFooter,"https://docs.docker.com/engine/reference/builder/#maintainer")},ONBUILD:{contents:this.dockerMessages.hoverOnbuild+"```\nONBUILD ADD . /opt/app/src/extensions\nONBUILD RUN /usr/local/bin/build.sh /opt/app```"+this.formatMessage(this.dockerMessages.hoverOnlineDocumentationFooter,"https://docs.docker.com/engine/reference/builder/#cmd")},RUN:{contents:this.dockerMessages.hoverRun+"```\nRUN apt-get update && apt-get install -y curl\n```\n"+this.formatMessage(this.dockerMessages.hoverOnlineDocumentationFooter,"https://docs.docker.com/engine/reference/builder/#run")},SHELL:{contents:this.dockerMessages.hoverShell+'```\nSHELL [ "powershell", "-command" ]\n```\n'+this.formatMessage(this.dockerMessages.hoverOnlineDocumentationFooter,"https://docs.docker.com/engine/reference/builder/#shell")},STOPSIGNAL:{contents:this.dockerMessages.hoverStopsignal+"```\nSTOPSIGNAL 9\n```\n"+this.formatMessage(this.dockerMessages.hoverOnlineDocumentationFooter,"https://docs.docker.com/engine/reference/builder/#stopsignal")},USER:{contents:this.dockerMessages.hoverUser+"```\nUSER daemon\n```\n"+this.formatMessage(this.dockerMessages.hoverOnlineDocumentationFooter,"https://docs.docker.com/engine/reference/builder/#user")},VOLUME:{contents:this.dockerMessages.hoverVolume+'```\nVOLUME [ "/var/db" ]\n```\n'+this.formatMessage(this.dockerMessages.hoverOnlineDocumentationFooter,"https://docs.docker.com/engine/reference/builder/#volume")},WORKDIR:{contents:this.dockerMessages.hoverWorkdir+"```\nWORKDIR /path/to/workdir\nWORKDIR relative/path\n```"+this.formatMessage(this.dockerMessages.hoverOnlineDocumentationFooter,"https://docs.docker.com/engine/reference/builder/#workdir")},escape:{contents:this.dockerMessages.hoverEscape+"```\n# escape=`\n```"+this.formatMessage(this.dockerMessages.hoverOnlineDocumentationFooter,"https://docs.docker.com/engine/reference/builder/#escape")},syntax:{contents:this.dockerMessages.hoverSyntax+"```\n# syntax=docker/dockerfile:1.0\n# syntax=docker/dockerfile:1.0.0-experimental\n```"+this.formatMessage(this.dockerMessages.hoverOnlineDocumentationFooter,"https://docs.docker.com/engine/reference/builder/#syntax")}}}return e.prototype.formatMessage=function(e,t){return e.replace("${0}",t)},e.prototype.getMarkdown=function(e){return this.markdowns[e]},e}();t.MarkdownDocumentation=n},9859:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.PlainTextDocumentation=void 0;var n=function(){function e(){this.dockerMessages={hoverAdd:"Copy files, folders, or remote URLs from `source` to the `dest` path in the image's filesystem.\n\n",hoverArg:"Define a variable with an optional default value that users can override at build-time when using `docker build`.\n\nSince Docker 1.9\n\n",hoverCmd:"Provide defaults for an executing container. If an executable is not specified, then ENTRYPOINT must be specified as well. There can only be one CMD instruction in a Dockerfile.\n\n",hoverCopy:"Copy files or folders from `source` to the `dest` path in the image's filesystem.\n\n",hoverEntrypoint:"Configures the container to be run as an executable.\n\n",hoverEnv:"Set the environment variable `key` to the value `value`.\n\n",hoverExpose:"Define the network `port`s that this container will listen on at runtime.\n\n",hoverFrom:"Set the `baseImage` to use for subsequent instructions. FROM must be the first instruction in a Dockerfile.\n\n",hoverHealthcheck:"Define how Docker should test the container to check that it is still working. Alternatively, disable the base image's HEALTHCHECK instruction. There can only be one HEALTHCHECK instruction in a Dockerfile.\n\nSince Docker 1.12\n\n",hoverLabel:"Adds metadata to an image.\n\nSince Docker 1.6\n\n",hoverMaintainer:"Set the Author field of the generated images. This instruction has been deprecated in favor of LABEL.\n\n",hoverOnbuild:"Add a trigger instruction to the image that will be executed when the image is used as a base image for another build.\n\n",hoverRun:"Execute any commands on top of the current image as a new layer and commit the results.\n\n",hoverShell:"Override the default shell used for the shell form of commands.\n\nSince Docker 1.12\n\n",hoverStopsignal:"Set the system call signal to use to send to the container to exit. Signals can be valid unsigned numbers or a signal name in the SIGNAME format such as SIGKILL.\n\nSince Docker 1.9\n\n",hoverUser:"Set the user name or UID to use when running the image in addition to any subsequent CMD, ENTRYPOINT, or RUN instructions that follow it in the Dockerfile.\n\n",hoverVolume:"Create a mount point with the specified name and mark it as holding externally mounted volumes from the native host or from other containers.\n\n",hoverWorkdir:"Set the working directory for any subsequent ADD, COPY, CMD, ENTRYPOINT, or RUN` instructions that follow it in the `Dockerfile`.\n\n",hoverAddFlagChown:"The username, groupname, or UID/GID combination to own the added content.",hoverCopyFlagChown:"The username, groupname, or UID/GID combination to own the copied content.",hoverCopyFlagFrom:"The previous build stage to use as the source location instead of the build's context.\n\nSince Docker 17.05.0-ce.",hoverFromFlagPlatform:"The platform of the image if referencing a multi-platform image.\n\nSince Docker CE 18.04.",hoverHealthcheckFlagInterval:"The seconds to wait for the health check to run after the container has started, and then again the number of seconds to wait before running again after the previous check has completed.",hoverHealthcheckFlagRetries:"The number of consecutive failures of this health check before the container is considered to be `unhealthy`.",hoverHealthcheckFlagStartPeriod:"The number of seconds to wait for the container to startup. Failures during this grace period will not count towards the maximum number of retries. However, should a health check succeed during this period then any subsequent failures will count towards the maximum number of retries.\n\nSince Docker 17.05.0-ce.",hoverHealthcheckFlagTimeout:"The number of seconds to wait for the check to complete before considering it to have failed.",hoverEscape:"Sets the character to use to escape characters and newlines in this Dockerfile. If unspecified, the default escape character is `\\`.\n\n",hoverSyntax:"Set the location of the Dockerfile builder to use for building the current Dockerfile.\n\n",signatureEscape:"Sets this Dockerfile's escape character. If unspecified, the default escape character is `\\`.",signatureEscape_Param:"The character to use to escape characters and newlines in this Dockerfile.",signatureAdd_Signature0:"Copy new files, directories or remote URLs to the image's filesystem.",signatureAdd_Signature0_Param1:"The resource to copy or unpack if it is a local tar archive in a recognized compression format.",signatureAdd_Signature0_Param3:"The name of the destination file or folder.",signatureArg_Signature0:"Define a variable that users can pass a value to at build-time with `docker build`.",signatureArg_Signature0_Param:"The name of the variable.",signatureArg_Signature1:"Define a variable with an optional default value that users can override at build-time with `docker build`.",signatureArg_Signature1_Param1:"The default value of the variable.",signatureCmd_Signature0:"Set the default executable and parameters for this executing container.",signatureCmd_Signature0_Param0:"The default executable for this executing container.",signatureCmd_Signature0_Param1:"A parameter to the default executable.",signatureCmd_Signature1:"Set the default parameters for this executing container. An ENTRYPOINT instruction must also be specified.",signatureCmd_Signature1_Param0:"A parameter to the entrypoint executable.",signatureCopy_Signature0:"Copy new files and directories to the image's filesystem.",signatureCopy_Signature0_Param0:"Optional flags to configure this instruction.",signatureCopy_Signature0_Param1:"The resource to copy.",signatureCopyFlagFrom:"Set the build stage to use as the source location of this copy instruction instead of the build's context.",signatureCopyFlagFrom_Param:"The build stage or image name to use as the source. Also may be a numeric index.",signatureEntrypoint_Signature0:"Configure this container for running as an executable.",signatureEntrypoint_Signature0_Param1:"The container's main executable.",signatureEntrypoint_Signature0_Param2:"A parameter to the entrypoint executable.",signatureEnv_Signature0:"Set an environment variable to the specified value. The value will be in the environment of any descendent Dockerfiles",signatureEnv_Signature0_Param0:"The name of the environment variable.",signatureEnv_Signature0_Param1:"The value to set the environment variable to.",signatureExpose:"Define network ports for this container to listen on at runtime.",signatureExpose_Param0:"The port that this container should listen on.",signatureFrom_Signature0:"Set the base image to use for any subsequent instructions that follow.",signatureFrom_Signature0_Param:"The name of the base image to use.",signatureFrom_Signature1_Param1:"The tag of the base image to use.",signatureFrom_Signature2_Param1:"The digest of the base image to use.",signatureFrom_Signature3:"Set the base image to use for any subsequent instructions that follow and also give this build stage a name.",signatureFrom_Signature3_Param2:"The name of this build stage.",signatureFrom_Param2:"The name of this build stage.",signatureHealthcheck_Signature0:"Define how Docker should test the container to check that it is still working.",signatureHealthcheck_Signature1_Param2:"The parameters to the CMD instruction for the healthcheck.",signatureHealthcheck_Signature2:"Disable the inherited HEALTHCHECK instruction from the base image.",signatureLabel_Signature0:"Set metadata to an image.",signatureLabel_Signature0_Param0:"The name of the metadata.",signatureLabel_Signature0_Param1:"The value of the metadata.",signatureMaintainer:'Set the "Author" field of this image.',signatureMaintainer_Param:"The name of this image's maintainer.",signatureOnbuild:"Register a build instruction as a trigger to be executed when this image is used as a base image for another build.",signatureOnbuild_Param:"The build instruction to register as a trigger instruction.",signatureRun_Signature0:"Execute commands inside a shell.",signatureRun_Signature0_Param0:"The command to run.",signatureRun_Signature0_Param1:"A parameter to the command.",signatureRun_Signature1:"Execute commands without invoking a command shell.",signatureShell:"Override default shell used for the shell form of commands.",signatureShell_Param1:"The shell executable to use.",signatureShell_Param2:"The parameters to the shell executable.",signatureStopsignal:"Set the system call signal to use to send to the container to exit.",signatureStopsignal_Param:"The signal to send to the container to exit. This may be an valid unsigned number or a signal name in the SIGNAME format such as SIGKILL.",signatureUser_Signature0:"Set the user name to use for running any RUN, CMD, and ENTRYPOINT instructions that follow.",signatureUser_Signature0_Param:"The user name to use.",signatureUser_Signature1:"Set the user name and user group to use for running any RUN, CMD, and ENTRYPOINT instructions that follow.",signatureUser_Signature1_Param1:"The group name to use.",signatureUser_Signature2:"Set the UID to use for running any RUN, CMD, and ENTRYPOINT instructions that follow.",signatureUser_Signature2_Param:"The UID to use.",signatureUser_Signature3:"Set the UID and GID to use for running any RUN, CMD, and ENTRYPOINT instructions that follow.",signatureUser_Signature3_Param1:"The GID to use.",signatureVolume_Signature0:"Create mount points for holding externally mounted volumes from the native host or other containers.",signatureVolume_Signature0_Param0:"The name of the mount point.",signatureWorkdir:"Set the working directory for any ADD, COPY, CMD, ENTRYPOINT, or RUN instructions that follow.",signatureWorkdir_Param:"The absolute or relative path to use as the working directory. Will be created if it does not exist.",proposalArgNameOnly:"Define a variable that users can set at build-time when using `docker build`.\n\n",proposalArgDefaultValue:"Define a variable with the given default value that users can override at build-time when using `docker build`.\n\n",proposalHealthcheckExec:"Define how Docker should test the container to check that it is still working. There can only be one HEALTHCHECK instruction in a Dockerfile.\n\nSince Docker 1.12\n\n",proposalHealthcheckNone:"Disable the HEALTHCHECK instruction inherited from the base image if one exists. There can only be one HEALTHCHECK instruction in a Dockerfile.\n\nSince Docker 1.12"},this.markdowns={ADD:this.dockerMessages.hoverAdd+"ADD hello.txt /absolute/path\nADD hello.txt relative/to/workdir",ADD_FlagChown:this.dockerMessages.hoverAddFlagChown,ARG:this.dockerMessages.hoverArg+"ARG userName\nARG testOutputDir=test",ARG_NameOnly:this.dockerMessages.proposalArgNameOnly+"ARG userName",ARG_DefaultValue:this.dockerMessages.proposalArgDefaultValue+"ARG testOutputDir=test",CMD:this.dockerMessages.hoverCmd+'CMD [ "/bin/ls", "-l" ]',COPY:this.dockerMessages.hoverCopy+"COPY hello.txt /absolute/path\nCOPY hello.txt relative/to/workdir",COPY_FlagChown:this.dockerMessages.hoverCopyFlagChown,COPY_FlagFrom:this.dockerMessages.hoverCopyFlagFrom,ENTRYPOINT:this.dockerMessages.hoverEntrypoint+'ENTRYPOINT [ "/opt/app/run.sh", "--port", "8080" ]',ENV:this.dockerMessages.hoverEnv+"ENV buildTag=1.0",EXPOSE:this.dockerMessages.hoverExpose+"EXPOSE 8080\nEXPOSE 80 443 22\nEXPOSE 7000-8000",FROM:this.dockerMessages.hoverFrom+"FROM baseImage\nFROM baseImage:tag\nFROM baseImage@digest",FROM_FlagPlatform:this.dockerMessages.hoverFromFlagPlatform,HEALTHCHECK:this.dockerMessages.hoverHealthcheck+"HEALTHCHECK --interval=10m --timeout=5s \\\n    CMD curl -f http://localhost/ || exit 1\nHEALTHCHECK NONE",HEALTHCHECK_CMD:this.dockerMessages.proposalHealthcheckExec+"HEALTHCHECK --interval=10m --timeout=5s \\\n    CMD curl -f http://localhost/ || exit 1",HEALTHCHECK_FlagInterval:this.dockerMessages.hoverHealthcheckFlagInterval,HEALTHCHECK_FlagRetries:this.dockerMessages.hoverHealthcheckFlagRetries,HEALTHCHECK_FlagStartPeriod:this.dockerMessages.hoverHealthcheckFlagStartPeriod,HEALTHCHECK_FlagTimeout:this.dockerMessages.hoverHealthcheckFlagTimeout,HEALTHCHECK_NONE:this.dockerMessages.proposalHealthcheckNone,LABEL:this.dockerMessages.hoverLabel+'LABEL version="1.0"',MAINTAINER:this.dockerMessages.hoverMaintainer+"MAINTAINER name",ONBUILD:this.dockerMessages.hoverOnbuild+"ONBUILD ADD . /opt/app/src/extensions\nONBUILD RUN /usr/local/bin/build.sh /opt/app",RUN:this.dockerMessages.hoverRun+"RUN apt-get update && apt-get install -y curl",SHELL:this.dockerMessages.hoverShell+'SHELL [ "powershell", "-command" ]',STOPSIGNAL:this.dockerMessages.hoverStopsignal+"STOPSIGNAL 9",USER:this.dockerMessages.hoverUser+"USER daemon",VOLUME:this.dockerMessages.hoverVolume+'VOLUME [ "/var/db" ]',WORKDIR:this.dockerMessages.hoverWorkdir+"WORKDIR /path/to/workdir\nWORKDIR relative/path",escape:this.dockerMessages.hoverEscape+"# escape=`",syntax:this.dockerMessages.hoverSyntax+"# syntax=docker/dockerfile:1.0\n# syntax=docker/dockerfile:1.0.0-experimental",signatureEscape:this.dockerMessages.signatureEscape,signatureEscape_Param:this.dockerMessages.signatureEscape_Param,signatureAdd_Signature0:this.dockerMessages.signatureAdd_Signature0,signatureAdd_Signature0_Param0:this.dockerMessages.signatureCopy_Signature0_Param0,signatureAdd_Signature0_Param1:this.dockerMessages.signatureAdd_Signature0_Param1,signatureAdd_Signature0_Param2:this.dockerMessages.signatureAdd_Signature0_Param1,signatureAdd_Signature0_Param3:this.dockerMessages.signatureAdd_Signature0_Param3,signatureAdd_Signature1:this.dockerMessages.signatureAdd_Signature0,signatureAdd_Signature1_Param0:this.dockerMessages.signatureCopy_Signature0_Param0,signatureAdd_Signature1_Param2:this.dockerMessages.signatureAdd_Signature0_Param1,signatureAdd_Signature1_Param3:this.dockerMessages.signatureAdd_Signature0_Param1,signatureAdd_Signature1_Param4:this.dockerMessages.signatureAdd_Signature0_Param3,signatureArg_Signature0:this.dockerMessages.signatureArg_Signature0,signatureArg_Signature0_Param:this.dockerMessages.signatureArg_Signature0_Param,signatureArg_Signature1:this.dockerMessages.signatureArg_Signature1,signatureArg_Signature1_Param0:this.dockerMessages.signatureArg_Signature0_Param,signatureArg_Signature1_Param1:this.dockerMessages.signatureArg_Signature1_Param1,signatureCmd_Signature0:this.dockerMessages.signatureCmd_Signature0,signatureCmd_Signature0_Param1:this.dockerMessages.signatureCmd_Signature0_Param0,signatureCmd_Signature0_Param2:this.dockerMessages.signatureCmd_Signature0_Param1,signatureCmd_Signature0_Param3:this.dockerMessages.signatureCmd_Signature0_Param1,signatureCmd_Signature1:this.dockerMessages.signatureCmd_Signature1,signatureCmd_Signature1_Param1:this.dockerMessages.signatureCmd_Signature1_Param0,signatureCmd_Signature1_Param2:this.dockerMessages.signatureCmd_Signature1_Param0,signatureCmd_Signature1_Param3:this.dockerMessages.signatureCmd_Signature1_Param0,signatureCmd_Signature2:this.dockerMessages.signatureCmd_Signature0,signatureCmd_Signature2_Param0:this.dockerMessages.signatureCmd_Signature0_Param0,signatureCmd_Signature2_Param1:this.dockerMessages.signatureCmd_Signature0_Param1,signatureCmd_Signature2_Param2:this.dockerMessages.signatureCmd_Signature0_Param1,signatureCopy_Signature0:this.dockerMessages.signatureCopy_Signature0,signatureCopy_Signature0_Param0:this.dockerMessages.signatureCopy_Signature0_Param0,signatureCopy_Signature0_Param1:this.dockerMessages.signatureCopy_Signature0_Param1,signatureCopy_Signature0_Param2:this.dockerMessages.signatureCopy_Signature0_Param1,signatureCopy_Signature0_Param3:this.dockerMessages.signatureAdd_Signature0_Param3,signatureCopy_Signature1:this.dockerMessages.signatureCopy_Signature0,signatureCopy_Signature1_Param0:this.dockerMessages.signatureCopy_Signature0_Param0,signatureCopy_Signature1_Param2:this.dockerMessages.signatureCopy_Signature0_Param1,signatureCopy_Signature1_Param3:this.dockerMessages.signatureCopy_Signature0_Param1,signatureCopy_Signature1_Param4:this.dockerMessages.signatureAdd_Signature0_Param3,signatureCopyFlagFrom:this.dockerMessages.signatureCopyFlagFrom,signatureCopyFlagFrom_Param:this.dockerMessages.signatureCopyFlagFrom_Param,signatureEntrypoint_Signature0:this.dockerMessages.signatureEntrypoint_Signature0,signatureEntrypoint_Signature0_Param1:this.dockerMessages.signatureEntrypoint_Signature0_Param1,signatureEntrypoint_Signature0_Param2:this.dockerMessages.signatureEntrypoint_Signature0_Param2,signatureEntrypoint_Signature0_Param3:this.dockerMessages.signatureEntrypoint_Signature0_Param2,signatureEntrypoint_Signature1:this.dockerMessages.signatureEntrypoint_Signature0,signatureEntrypoint_Signature1_Param0:this.dockerMessages.signatureEntrypoint_Signature0_Param1,signatureEntrypoint_Signature1_Param1:this.dockerMessages.signatureEntrypoint_Signature0_Param2,signatureEntrypoint_Signature1_Param2:this.dockerMessages.signatureEntrypoint_Signature0_Param2,signatureEnv_Signature0:this.dockerMessages.signatureEnv_Signature0,signatureEnv_Signature0_Param0:this.dockerMessages.signatureEnv_Signature0_Param0,signatureEnv_Signature0_Param1:this.dockerMessages.signatureEnv_Signature0_Param1,signatureEnv_Signature1:this.dockerMessages.signatureEnv_Signature0,signatureEnv_Signature1_Param0:this.dockerMessages.signatureEnv_Signature0_Param0,signatureEnv_Signature1_Param1:this.dockerMessages.signatureEnv_Signature0_Param1,signatureEnv_Signature2:this.dockerMessages.signatureEnv_Signature0,signatureEnv_Signature2_Param0:this.dockerMessages.signatureEnv_Signature0_Param0,signatureEnv_Signature2_Param1:this.dockerMessages.signatureEnv_Signature0_Param1,signatureEnv_Signature2_Param2:this.dockerMessages.signatureEnv_Signature0_Param0,signatureEnv_Signature2_Param3:this.dockerMessages.signatureEnv_Signature0_Param1,signatureExpose:this.dockerMessages.signatureExpose,signatureExpose_Param0:this.dockerMessages.signatureExpose_Param0,signatureExpose_Param1:this.dockerMessages.signatureExpose_Param0,signatureFrom_Signature0:this.dockerMessages.signatureFrom_Signature0,signatureFrom_Signature0_Param:this.dockerMessages.signatureFrom_Signature0_Param,signatureFrom_Signature1:this.dockerMessages.signatureFrom_Signature0,signatureFrom_Signature1_Param0:this.dockerMessages.signatureFrom_Signature0_Param,signatureFrom_Signature1_Param1:this.dockerMessages.signatureFrom_Signature1_Param1,signatureFrom_Signature2:this.dockerMessages.signatureFrom_Signature0,signatureFrom_Signature2_Param0:this.dockerMessages.signatureFrom_Signature0_Param,signatureFrom_Signature2_Param1:this.dockerMessages.signatureFrom_Signature2_Param1,signatureFrom_Signature3:this.dockerMessages.signatureFrom_Signature3,signatureFrom_Signature3_Param0:this.dockerMessages.signatureFrom_Signature0_Param,signatureFrom_Signature3_Param2:this.dockerMessages.signatureFrom_Signature3_Param2,signatureFrom_Signature4:this.dockerMessages.signatureFrom_Signature3,signatureFrom_Signature4_Param0:this.dockerMessages.signatureFrom_Signature0_Param,signatureFrom_Signature4_Param1:this.dockerMessages.signatureFrom_Signature1_Param1,signatureFrom_Signature4_Param3:this.dockerMessages.signatureFrom_Signature3_Param2,signatureFrom_Signature5:this.dockerMessages.signatureFrom_Signature3,signatureFrom_Signature5_Param0:this.dockerMessages.signatureFrom_Signature0_Param,signatureFrom_Signature5_Param1:this.dockerMessages.signatureFrom_Signature2_Param1,signatureFrom_Signature5_Param3:this.dockerMessages.signatureFrom_Signature3_Param2,signatureHealthcheck:this.dockerMessages.signatureHealthcheck_Signature0,signatureHealthcheck_Signature0:this.dockerMessages.signatureHealthcheck_Signature0,signatureHealthcheck_Signature1:this.dockerMessages.signatureHealthcheck_Signature0,signatureHealthcheck_Signature1_Param0:this.dockerMessages.signatureCopy_Signature0_Param0,signatureHealthcheck_Signature1_Param2:this.dockerMessages.signatureHealthcheck_Signature1_Param2,signatureHealthcheck_Signature2:this.dockerMessages.signatureHealthcheck_Signature0,signatureHealthcheckFlagInterval_Param:this.dockerMessages.hoverHealthcheckFlagInterval,signatureHealthcheckFlagRetries_Param:this.dockerMessages.hoverHealthcheckFlagRetries,signatureHealthcheckFlagStartPeriod_Param:this.dockerMessages.hoverHealthcheckFlagStartPeriod,signatureHealthcheckFlagTimeout_Param:this.dockerMessages.hoverHealthcheckFlagTimeout,signatureLabel_Signature0:this.dockerMessages.signatureLabel_Signature0,signatureLabel_Signature0_Param0:this.dockerMessages.signatureLabel_Signature0_Param0,signatureLabel_Signature0_Param1:this.dockerMessages.signatureLabel_Signature0_Param1,signatureLabel_Signature1:this.dockerMessages.signatureLabel_Signature0,signatureLabel_Signature1_Param0:this.dockerMessages.signatureLabel_Signature0_Param0,signatureLabel_Signature1_Param1:this.dockerMessages.signatureLabel_Signature0_Param1,signatureLabel_Signature2:this.dockerMessages.signatureLabel_Signature0,signatureLabel_Signature2_Param0:this.dockerMessages.signatureLabel_Signature0_Param0,signatureLabel_Signature2_Param1:this.dockerMessages.signatureLabel_Signature0_Param1,signatureLabel_Signature2_Param2:this.dockerMessages.signatureLabel_Signature0_Param0,signatureLabel_Signature2_Param3:this.dockerMessages.signatureLabel_Signature0_Param1,signatureMaintainer:this.dockerMessages.signatureMaintainer,signatureMaintainer_Param:this.dockerMessages.signatureMaintainer_Param,signatureOnbuild:this.dockerMessages.signatureOnbuild,signatureOnbuild_Param:this.dockerMessages.signatureOnbuild_Param,signatureRun_Signature0:this.dockerMessages.signatureRun_Signature0,signatureRun_Signature0_Param0:this.dockerMessages.signatureRun_Signature0_Param0,signatureRun_Signature0_Param1:this.dockerMessages.signatureRun_Signature0_Param1,signatureRun_Signature0_Param2:this.dockerMessages.signatureRun_Signature0_Param1,signatureRun_Signature1:this.dockerMessages.signatureRun_Signature1,signatureRun_Signature1_Param1:this.dockerMessages.signatureRun_Signature0_Param0,signatureRun_Signature1_Param2:this.dockerMessages.signatureRun_Signature0_Param1,signatureRun_Signature1_Param3:this.dockerMessages.signatureRun_Signature0_Param1,signatureShell:this.dockerMessages.signatureShell,signatureShell_Param1:this.dockerMessages.signatureShell_Param1,signatureShell_Param2:this.dockerMessages.signatureShell_Param2,signatureShell_Param3:this.dockerMessages.signatureShell_Param2,signatureStopsignal:this.dockerMessages.signatureStopsignal,signatureStopsignal_Param:this.dockerMessages.signatureStopsignal_Param,signatureUser_Signature0:this.dockerMessages.signatureUser_Signature0,signatureUser_Signature0_Param:this.dockerMessages.signatureUser_Signature0_Param,signatureUser_Signature1:this.dockerMessages.signatureUser_Signature1,signatureUser_Signature1_Param0:this.dockerMessages.signatureUser_Signature0,signatureUser_Signature1_Param1:this.dockerMessages.signatureUser_Signature1_Param1,signatureUser_Signature2:this.dockerMessages.signatureUser_Signature2,signatureUser_Signature2_Param:this.dockerMessages.signatureUser_Signature2_Param,signatureUser_Signature3:this.dockerMessages.signatureUser_Signature3,signatureUser_Signature3_Param0:this.dockerMessages.signatureUser_Signature2_Param,signatureUser_Signature3_Param1:this.dockerMessages.signatureUser_Signature3_Param1,signatureVolume_Signature0:this.dockerMessages.signatureVolume_Signature0,signatureVolume_Signature0_Param0:this.dockerMessages.signatureVolume_Signature0_Param0,signatureVolume_Signature0_Param1:this.dockerMessages.signatureVolume_Signature0_Param0,signatureVolume_Signature1:this.dockerMessages.signatureVolume_Signature0,signatureVolume_Signature1_Param1:this.dockerMessages.signatureVolume_Signature0_Param0,signatureVolume_Signature1_Param2:this.dockerMessages.signatureVolume_Signature0_Param0,signatureWorkdir:this.dockerMessages.signatureWorkdir,signatureWorkdir_Param:this.dockerMessages.signatureWorkdir_Param}}return e.prototype.getDocumentation=function(e){return this.markdowns[e]},e}();t.PlainTextDocumentation=n},3014:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.DockerRegistryClient=void 0;var r=n(1657),a=function(){function e(e){this.logger=e}return e.prototype.getTags=function(e,t){var n=this;return-1===e.indexOf("/")&&(e="library/"+e),this.requestToken(e).then((function(r){return null===r?[]:n.listTags(r.token,e).then((function(e){if(!t)return e.tags;for(var n=[],r=0,a=e.tags;r<a.length;r++){var i=a[r];0===i.indexOf(t)&&n.push(i)}return n}))}))},e.prototype.requestToken=function(e){var t=this;return this.performHttpsGet({hostname:"auth.docker.io",port:443,path:"/token?service=registry.docker.io&scope=repository:"+e+":pull",headers:{Accept:"application/json"}}).catch((function(e){return t.log(e),null}))},e.prototype.listTags=function(e,t){var n=this;return this.performHttpsGet({hostname:"registry-1.docker.io",port:443,path:"/v2/"+t+"/tags/list",headers:{Accept:"application/json",Authorization:"Bearer "+e}}).catch((function(e){return n.log(e),{tags:[]}}))},e.prototype.performHttpsGet=function(e){return new Promise((function(t,n){var a=r.get(e,(function(e){if(200!==e.statusCode){var r=new Error(e.statusMessage);r.statusCode=e.statusCode,n(r)}else{var a="";e.on("data",(function(e){a+=e})),e.on("end",(function(){t(JSON.parse(a))}))}}));a.end(),a.on("error",(function(e){n(e)}))}))},e.prototype.log=function(e){this.logger&&this.logger.log(e.toString())},e}();t.DockerRegistryClient=a},5907:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.DockerRename=void 0;var r=n(8661),a=n(243),i=n(9759),s=n(4513),o=function(){function e(){}return e.prototype.prepareRename=function(e,t){for(var n=a.DockerfileParser.parse(e),r=n.getContainingImage(t),i=0,o=n.getCOPYs();i<o.length;i++){var c=o[i].getFromFlag();if(c){var u=c.getValueRange();if(s.Util.isInsideRange(t,u))return u}}for(var g=0,l=r.getFROMs();g<l.length;g++){var h=l[g];if(s.Util.isInsideRange(t,h.getBuildStageRange()))return h.getBuildStageRange()}for(var d=0,m=r.getENVs();d<m.length;d++)for(var f=0,p=m[d].getProperties();f<p.length;f++){var _=p[f];if(s.Util.isInsideRange(t,_.getNameRange()))return _.getNameRange()}for(var v=0,A=r.getARGs();v<A.length;v++)if(null!==(_=A[v].getProperty())&&s.Util.isInsideRange(t,_.getNameRange()))return _.getNameRange();for(var R=0,S=r.getInstructions();R<S.length;R++)for(var k=0,b=S[R].getVariables();k<b.length;k++){var E=b[k];if(s.Util.isInsideRange(t,E.getNameRange()))return E.getNameRange()}return null},e.prototype.rename=function(e,t,n,a){for(var s=[],o=0,c=(new i.DockerHighlight).computeHighlightRanges(t,n);o<c.length;o++){var u=c[o];s.push(r.TextEdit.replace(u.range,a))}return s},e}();t.DockerRename=o},450:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.DockerSemanticTokens=t.TokensLegend=void 0;var r=n(8661),a=n(243),i=n(4513),s=function(){function e(){}return e.init=function(){var e=0;this.tokenTypes[r.SemanticTokenTypes.keyword]=e++,this.tokenTypes[r.SemanticTokenTypes.comment]=e++,this.tokenTypes[r.SemanticTokenTypes.parameter]=e++,this.tokenTypes[r.SemanticTokenTypes.property]=e++,this.tokenTypes[r.SemanticTokenTypes.namespace]=e++,this.tokenTypes[r.SemanticTokenTypes.class]=e++,this.tokenTypes[r.SemanticTokenTypes.macro]=e++,this.tokenTypes[r.SemanticTokenTypes.string]=e++,this.tokenTypes[r.SemanticTokenTypes.variable]=e++,this.tokenTypes[r.SemanticTokenTypes.operator]=e++,this.tokenTypes[r.SemanticTokenTypes.modifier]=e++,this.tokenModifiers[r.SemanticTokenModifiers.declaration]=1,this.tokenModifiers[r.SemanticTokenModifiers.definition]=2,this.tokenModifiers[r.SemanticTokenModifiers.deprecated]=4},e.getTokenType=function(e){return this.tokenTypes[e]},e.getTokenModifiers=function(e){for(var t=0,n=0,r=e;n<r.length;n++){var a=r[n];t|=this.tokenModifiers[a]}return t},e.tokenTypes={},e.tokenModifiers={},e}();t.TokensLegend=s,s.init();var o=function(){function e(e){this.currentRange=null,this.tokens=[],this.quote=null,this.escapedQuote=null,this.content=e,this.document=r.TextDocument.create("","",0,e),this.dockerfile=a.DockerfileParser.parse(e),this.escapeCharacter=this.dockerfile.getEscapeCharacter()}return e.prototype.computeSemanticTokens=function(){for(var e=this.dockerfile.getComments(),t=0,n=this.dockerfile.getInstructions();t<n.length;t++)if((g=n[t].getRange()).start.line!==g.end.line)for(var i=0;i<e.length;i++){var s=e[i].getRange();g.start.line<s.start.line&&s.start.line<g.end.line&&(e.splice(i,1),i--)}(e=e.concat(this.dockerfile.getInstructions())).sort((function(e,t){return e.getRange().start.line-t.getRange().start.line}));for(var o=0,c=this.dockerfile.getDirectives();o<c.length;o++){var u=c[o],g=u.getRange(),l=u.getNameRange(),h={start:g.start,end:l.start};this.createToken(null,h,r.SemanticTokenTypes.comment,[],!1),this.createToken(null,l,r.SemanticTokenTypes.property,[],!1);var d=u.getValueRange(),m={start:{character:d.start.character-1,line:d.start.line},end:{character:d.start.character,line:d.start.line}};this.createToken(null,m,r.SemanticTokenTypes.operator,[],!1),d.start.character!==d.end.character&&this.createToken(null,d,r.SemanticTokenTypes.parameter,[],!1)}for(i=0;i<e.length;i++)e[i]instanceof a.Comment?(g=e[i].getRange(),this.createToken(null,g,r.SemanticTokenTypes.comment,[],!1)):(this.quote=null,this.escapedQuote=null,this.createTokensForInstruction(e[i]));return{data:this.tokens}},e.prototype.createTokensForInstruction=function(e){var t=e.getInstructionRange(),n=[];if(e.getKeyword()===a.Keyword.MAINTAINER&&(n=[r.SemanticTokenModifiers.deprecated]),this.createToken(e,t,r.SemanticTokenTypes.keyword,n),e instanceof a.ModifiableInstruction)for(var i=0,s=e.getFlags();i<s.length;i++){var o=s[i],c=o.getRange(),u=o.getNameRange(),g={start:c.start,end:u.end};this.createToken(e,g,r.SemanticTokenTypes.parameter);var l=o.getValue();if(null!==l)if(o.hasOptions()){var h={start:g.end,end:{line:g.end.line,character:g.end.character+1}};this.createToken(e,h,r.SemanticTokenTypes.operator,[],!1,!1);for(var d=0,m=o.getOptions();d<m.length;d++){var f=m[d];if(u=f.getNameRange(),this.createToken(e,u,r.SemanticTokenTypes.parameter),null!==(_=f.getValueRange())){var p={start:u.end,end:_.start};this.createToken(e,p,r.SemanticTokenTypes.operator,[],!1,!1),""!==f.getValue()&&this.createToken(e,_,r.SemanticTokenTypes.property)}}}else{var _=o.getValueRange();h={start:g.end,end:_.start},this.createToken(e,h,r.SemanticTokenTypes.operator,[],!1,!1),""!==l&&this.createToken(e,_,r.SemanticTokenTypes.property)}}var v=e.getArguments();if(0!==v.length){switch(e.getKeyword()){case a.Keyword.ARG:case a.Keyword.ENV:for(var A=0,R=e.getProperties();A<R.length;A++){var S=R[A];if(u=S.getNameRange(),this.createToken(e,u,r.SemanticTokenTypes.variable,[r.SemanticTokenModifiers.declaration],!1),null!==(_=S.getValueRange())){if(h={start:u.end,end:_.start},this.document.getText(h).startsWith("=")){var k=this.document.offsetAt(u.end);h={start:u.end,end:this.document.positionAt(k+1)},this.createToken(e,h,r.SemanticTokenTypes.operator,[],!1,!1)}this.createToken(e,_,r.SemanticTokenTypes.parameter,[],!0,!0)}}return;case a.Keyword.FROM:var b=e;this.createToken(e,b.getImageNameRange(),r.SemanticTokenTypes.class);var E=b.getImageTagRange();null!==E&&this.createToken(e,E,r.SemanticTokenTypes.property);var I=b.getImageDigestRange();null!==I&&this.createToken(e,I,r.SemanticTokenTypes.property);var C=e.getArguments();if(C.length>1)if("AS"===C[1].getValue().toUpperCase()){var D=C[1].getRange();this.createToken(e,D,r.SemanticTokenTypes.keyword),C.length>2&&(this.createToken(e,C[2].getRange(),r.SemanticTokenTypes.namespace),C.length>3&&this.createArgumentTokens(e,C.slice(3)))}else this.createArgumentTokens(e,C.slice(1));return;case a.Keyword.HEALTHCHECK:return N=e.getSubcommand().getRange(),this.createToken(e,N,r.SemanticTokenTypes.keyword),void(v.length>1&&this.createArgumentTokens(e,v.slice(1)));case a.Keyword.ONBUILD:var T=e;return void this.createTokensForInstruction(T.getTriggerInstruction())}this.createArgumentTokens(e,v)}else{var N;(N=e.getRange()).start.line!==N.end.line&&this.handleLineChange(e,t.end,N.end)}},e.prototype.createArgumentTokens=function(e,t){for(var n=null,a=0;a<t.length;a++)n=t[a].getRange(),this.createToken(e,t[a].getRange(),r.SemanticTokenTypes.parameter,[],!0,!0);var i=e.getRange();n.end.line===i.end.line&&n.end.character===i.end.character||this.handleLineChange(e,n.end,i.end)},e.prototype.handleLineChange=function(e,t,n){for(var a=-1,i=this.document.offsetAt(t);i<this.document.offsetAt(n);i++)switch(this.content.charAt(i)){case this.escapeCharacter:-1===a&&this.createEscapeToken(e,i);break;case"\r":case"\n":if(-1!==a){var s={start:this.document.positionAt(a),end:this.document.positionAt(i)};this.createToken(null,s,r.SemanticTokenTypes.comment,[],!1),a=-1}break;case"#":-1===a&&(a=i)}},e.prototype.createEscapeToken=function(e,t){var n={start:this.document.positionAt(t),end:this.document.positionAt(t+1)};this.createToken(e,n,r.SemanticTokenTypes.macro,[],!1,!1,!1)},e.prototype.createVariableToken=function(e,t,n){var a=t.getModifierRange();if(null===a)this.createToken(e,n,r.SemanticTokenTypes.variable,[],!1);else{var i=r.Range.create(r.Position.create(a.start.line,a.start.character-1),a.start);this.createToken(e,r.Range.create(n.start,i.start),r.SemanticTokenTypes.variable,[],!1),this.createToken(e,i,r.SemanticTokenTypes.operator,[],!1,!1,!1),a.start.character!==a.end.character&&this.createToken(e,a,r.SemanticTokenTypes.modifier,[],!1,!1,!1),this.createToken(e,r.Range.create(a.end,n.end),r.SemanticTokenTypes.variable,[],!1)}},e.prototype.createToken=function(e,t,n,a,o,c,u){if(void 0===a&&(a=[]),void 0===o&&(o=!0),void 0===c&&(c=!1),void 0===u&&(u=!0),u&&null!==this.currentRange&&this.currentRange.end.line!==t.start.line&&this.handleLineChange(e,this.currentRange.end,t.start),c){for(var g=k=this.document.offsetAt(t.start),l=-1,h=this.document.offsetAt(t.end),d=k;d<h;d++)switch(C=this.content.charAt(d)){case"'":case'"':if(null===this.quote){if(null===this.escapedQuote&&(this.quote=C,g=d,-1!==k&&k!==g)){var m={start:this.document.positionAt(k),end:this.document.positionAt(g)};this.createToken(e,m,n,a)}}else if(this.quote===C){var f={start:this.document.positionAt(g),end:this.document.positionAt(d+1)};this.createToken(e,f,r.SemanticTokenTypes.string,[],!0,!1),l=d+1,k=-1,this.quote=null}break;default:-1===k&&(k=d)}if(null!==this.quote)return f={start:this.document.positionAt(g),end:this.document.positionAt(h)},void this.createToken(e,f,r.SemanticTokenTypes.string,[],!0,!1);if(-1!==l)return void(l!==h&&(m={start:this.document.positionAt(l),end:this.document.positionAt(h)},this.createToken(e,m,n,a)));null===this.quote&&null===this.escapedQuote||(n=r.SemanticTokenTypes.string,t={start:this.document.positionAt(g),end:t.end})}if(t.start.line===t.end.line){if(o){for(var p=t.start,_=null,v=0,A=e.getVariables();v<A.length;v++){var R=A[v],S=R.getRange();if(i.Util.isInsideRange(t.start,S)&&i.Util.isInsideRange(t.end,S))return void this.createVariableToken(e,R,t);if(i.Util.isInsideRange(S.start,t)){if(i.Util.positionBefore(p,S.start)&&this.createToken(e,{start:p,end:S.start},n,a,!1),this.createVariableToken(e,R,S),_=S,i.Util.positionEquals(t.end,S.end))return;p=S.end}}null!==_&&(t={start:_.end,end:t.end})}null===this.currentRange?this.tokens=this.tokens.concat([t.start.line,t.start.character,t.end.character-t.start.character,s.getTokenType(n),s.getTokenModifiers(a)]):this.currentRange.end.line!==t.start.line?this.tokens=this.tokens.concat([t.start.line-this.currentRange.end.line,t.start.character,t.end.character-t.start.character,s.getTokenType(n),s.getTokenModifiers(a)]):this.tokens=this.tokens.concat([t.start.line-this.currentRange.start.line,t.start.character-this.currentRange.start.character,t.end.character-t.start.character,s.getTokenType(n),s.getTokenModifiers(a)]),this.currentRange=t}else{var k=this.document.offsetAt(t.start),b=(h=this.document.offsetAt(t.end),!1),E=!0,I=!1;for(d=k;d<h;d++){var C;switch(C=this.content.charAt(d)){case"#":if(I){var D=!0;e:for(var T=d+1;T<h;T++)switch(this.content.charAt(T)){case" ":case"\t":break;case"\r":var N={start:this.document.positionAt(d),end:this.document.positionAt(T)};this.createToken(null,N,r.SemanticTokenTypes.comment,[],!1),d=T+1,k=-1,D=!1,T++;break;case"\n":var P={start:this.document.positionAt(d),end:this.document.positionAt(T)};this.createToken(null,P,r.SemanticTokenTypes.comment,[],!1),d=T,k=-1,D=!1;break;case"#":D||(d=T),D=!0;break;default:if(D)break;d=T-1;break e}}break;case this.escapeCharacter:var y=!1;e:for(T=d+1;T<h;T++)switch(this.content.charAt(T)){case" ":case"\t":case"\r":break;case"\n":if(!y){if(!b&&-1!==k){var O={start:this.document.positionAt(k),end:this.document.positionAt(d)};this.createToken(e,O,n,a),b=!0}this.createEscapeToken(e,d)}E=!1,I=!0,y=!0,d=T,k=-1;break;case"#":if(I){d=T-1;break e}case"\\":if(!I){b=!1,I=!1,d=T;break e}d=T,y=!1,k=T;break;default:-1===k&&(b=!1,I=!1,k=T,d=T);break e}break;default:-1===k&&(b=!1,I=!1,k=d)}}if(-1===k)return;m={start:this.document.positionAt(k),end:this.document.positionAt(h)},this.createToken(e,m,n,a,o,c,E)}},e}();t.DockerSemanticTokens=o},714:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.DockerSignatures=void 0;var r=n(8661),a=n(9859),i=n(243),s=n(4513),o=function(){function e(){this.documentation=new a.PlainTextDocumentation}return e.prototype.computeSignatures=function(e,t){var n=r.TextDocument.create("","",0,e),a=i.DockerfileParser.parse(n.getText());if(0===t.line){var o=a.getDirective();if(null!==o&&o.getDirective()===i.Directive.escape)return{signatures:[{label:"escape=\\",documentation:this.documentation.getDocumentation("signatureEscape"),parameters:[{label:"\\",documentation:this.documentation.getDocumentation("signatureEscape_Param")}]}],activeSignature:0,activeParameter:0}}for(var c=0,u=a.getComments();c<u.length;c++){var g=u[c];if(s.Util.isInsideRange(t,g.getRange()))return{signatures:[],activeSignature:null,activeParameter:null}}var l=this.getInstructionSignatures(n,a.getOnbuildTriggers(),t);return l||(l=this.getInstructionSignatures(n,a.getInstructions(),t))||(l={signatures:[],activeSignature:null,activeParameter:null}),l},e.prototype.getInstructionSignatures=function(e,t,n){for(var r=0,a=t;r<a.length;r++){var i=a[r];if(s.Util.isInsideRange(n,i.getRange())){if(s.Util.isInsideRange(n,i.getInstructionRange()))return null;switch(i.getKeyword()){case"ADD":var o=i,c={label:"ADD [flags] source ... dest",documentation:this.documentation.getDocumentation("signatureAdd_Signature0"),parameters:[{label:"[flags]",documentation:this.documentation.getDocumentation("signatureAdd_Signature0_Param0")},{label:"source",documentation:this.documentation.getDocumentation("signatureAdd_Signature0_Param1")},{label:"...",documentation:this.documentation.getDocumentation("signatureAdd_Signature0_Param2")},{label:"dest",documentation:this.documentation.getDocumentation("signatureAdd_Signature0_Param3")}]},u={label:'ADD [flags] [ "source", ..., "dest" ]',documentation:this.documentation.getDocumentation("signatureAdd_Signature1"),parameters:[{label:"[flags]",documentation:this.documentation.getDocumentation("signatureAdd_Signature1_Param0")},{label:"["},{label:'"source"',documentation:this.documentation.getDocumentation("signatureAdd_Signature1_Param2")},{label:"...",documentation:this.documentation.getDocumentation("signatureAdd_Signature1_Param3")},{label:'"dest"',documentation:this.documentation.getDocumentation("signatureAdd_Signature1_Param4")},{label:"]"}]};return this.getJSONInstructionSignatureHelp(e,o,n,[u],c,!0,!1,!1,!1);case"ARG":var g={signatures:[{label:"ARG name",documentation:this.documentation.getDocumentation("signatureArg_Signature0"),parameters:[{label:"name",documentation:this.documentation.getDocumentation("signatureArg_Signature0_Param")}]},{label:"ARG name=defaultValue",documentation:this.documentation.getDocumentation("signatureArg_Signature1"),parameters:[{label:"name",documentation:this.documentation.getDocumentation("signatureArg_Signature1_Param0")},{label:"defaultValue",documentation:this.documentation.getDocumentation("signatureArg_Signature1_Param1")}]}],activeSignature:0,activeParameter:0},l=i.getTextContent().indexOf("=");return-1!==l&&(g={signatures:[{label:"ARG name=defaultValue",documentation:this.documentation.getDocumentation("signatureArg_Signature1"),parameters:[{label:"name",documentation:this.documentation.getDocumentation("signatureArg_Signature1_Param0")},{label:"defaultValue",documentation:this.documentation.getDocumentation("signatureArg_Signature1_Param1")}]}],activeSignature:0,activeParameter:0},e.offsetAt(n)>e.offsetAt(i.getRange().start)+l&&(g.activeParameter=1)),g;case"CMD":var h=i,d={label:'CMD [ "executable", "parameter", ... ]',documentation:this.documentation.getDocumentation("signatureCmd_Signature0"),parameters:[{label:"["},{label:'"executable"',documentation:this.documentation.getDocumentation("signatureCmd_Signature0_Param1")},{label:'"parameter"',documentation:this.documentation.getDocumentation("signatureCmd_Signature0_Param2")},{label:"...",documentation:this.documentation.getDocumentation("signatureCmd_Signature0_Param3")},{label:"]"}]},m={label:'CMD [ "parameter", "parameter2", ... ]',documentation:this.documentation.getDocumentation("signatureCmd_Signature1"),parameters:[{label:"["},{label:'"parameter"',documentation:this.documentation.getDocumentation("signatureCmd_Signature1_Param1")},{label:'"parameter2"',documentation:this.documentation.getDocumentation("signatureCmd_Signature1_Param2")},{label:"...",documentation:this.documentation.getDocumentation("signatureCmd_Signature1_Param3")},{label:"]"}]},f={label:"CMD executable parameter ...",documentation:this.documentation.getDocumentation("signatureCmd_Signature2"),parameters:[{label:"executable",documentation:this.documentation.getDocumentation("signatureCmd_Signature2_Param0")},{label:"parameter",documentation:this.documentation.getDocumentation("signatureCmd_Signature2_Param1")},{label:"...",documentation:this.documentation.getDocumentation("signatureCmd_Signature2_Param2")}]};return this.getJSONInstructionSignatureHelp(e,h,n,[d,m],f,!1,!0,!1,!0);case"COPY":var p=i,_=p.getFromFlag();if(null!==_&&null!==(M=_.getValueRange())&&s.Util.isInsideRange(n,M))return{signatures:[{label:"--from=stage",documentation:this.documentation.getDocumentation("signatureCopyFlagFrom"),parameters:[{label:"stage",documentation:this.documentation.getDocumentation("signatureCopyFlagFrom_Param")}]}],activeSignature:0,activeParameter:0};var v={label:"COPY [flags] source ... dest",documentation:this.documentation.getDocumentation("signatureCopy_Signature0"),parameters:[{label:"[flags]",documentation:this.documentation.getDocumentation("signatureCopy_Signature0_Param0")},{label:"source",documentation:this.documentation.getDocumentation("signatureCopy_Signature0_Param1")},{label:"...",documentation:this.documentation.getDocumentation("signatureCopy_Signature0_Param2")},{label:"dest",documentation:this.documentation.getDocumentation("signatureCopy_Signature0_Param3")}]},A={label:'COPY [flags] [ "source", ..., "dest" ]',documentation:this.documentation.getDocumentation("signatureCopy_Signature1"),parameters:[{label:"[flags]",documentation:this.documentation.getDocumentation("signatureCopy_Signature1_Param0")},{label:"["},{label:'"source"',documentation:this.documentation.getDocumentation("signatureCopy_Signature1_Param2")},{label:"...",documentation:this.documentation.getDocumentation("signatureCopy_Signature1_Param3")},{label:'"dest"',documentation:this.documentation.getDocumentation("signatureCopy_Signature1_Param4")},{label:"]"}]};return this.getJSONInstructionSignatureHelp(e,p,n,[A],v,!0,!1,!1,!1);case"ENTRYPOINT":var R=i,S={label:'ENTRYPOINT [ "executable", "parameter", ... ]',documentation:this.documentation.getDocumentation("signatureEntrypoint_Signature0"),parameters:[{label:"["},{label:'"executable"',documentation:this.documentation.getDocumentation("signatureEntrypoint_Signature0_Param1")},{label:'"parameter"',documentation:this.documentation.getDocumentation("signatureEntrypoint_Signature0_Param2")},{label:"...",documentation:this.documentation.getDocumentation("signatureEntrypoint_Signature0_Param3")},{label:"]"}]},k={label:"ENTRYPOINT executable parameter ...",documentation:this.documentation.getDocumentation("signatureEntrypoint_Signature1"),parameters:[{label:"executable",documentation:this.documentation.getDocumentation("signatureEntrypoint_Signature1_Param0")},{label:"parameter",documentation:this.documentation.getDocumentation("signatureEntrypoint_Signature1_Param1")},{label:"...",documentation:this.documentation.getDocumentation("signatureEntrypoint_Signature1_Param2")}]};return this.getJSONInstructionSignatureHelp(e,R,n,[S],k,!1,!0,!1,!0);case"ENV":var b=[{label:"ENV key value",documentation:this.documentation.getDocumentation("signatureEnv_Signature0"),parameters:[{label:"key",documentation:this.documentation.getDocumentation("signatureEnv_Signature0_Param0")},{label:"value",documentation:this.documentation.getDocumentation("signatureEnv_Signature0_Param1")}]},{label:"ENV key=value",documentation:this.documentation.getDocumentation("signatureEnv_Signature1"),parameters:[{label:"key",documentation:this.documentation.getDocumentation("signatureEnv_Signature1_Param0")},{label:"value",documentation:this.documentation.getDocumentation("signatureEnv_Signature1_Param1")}]},{label:"ENV key=value key2=value2",documentation:this.documentation.getDocumentation("signatureEnv_Signature2"),parameters:[{label:"key",documentation:this.documentation.getDocumentation("signatureEnv_Signature2_Param0")},{label:"value",documentation:this.documentation.getDocumentation("signatureEnv_Signature2_Param1")},{label:"key2",documentation:this.documentation.getDocumentation("signatureEnv_Signature2_Param2")},{label:"value2",documentation:this.documentation.getDocumentation("signatureEnv_Signature2_Param3")}]}];return this.getPropertySignatureHelp(e,n,b,i.getProperties());case"EXPOSE":var E={signatures:[{label:"EXPOSE port ...",documentation:this.documentation.getDocumentation("signatureExpose"),parameters:[{label:"port",documentation:this.documentation.getDocumentation("signatureExpose_Param0")},{label:"...",documentation:this.documentation.getDocumentation("signatureExpose_Param1")}]}],activeSignature:0,activeParameter:0},I=i.getArguments();return I.length>0&&e.offsetAt(n)>e.offsetAt(I[0].getRange().end)&&(E.activeParameter=1),E;case"FROM":return this.getFromSignatureHelp(n,i);case"HEALTHCHECK":for(var C={label:"HEALTHCHECK [flags] CMD ...",documentation:this.documentation.getDocumentation("signatureHealthcheck_Signature0"),parameters:[{label:"CMD"}]},D={label:"HEALTHCHECK [flags] CMD ...",documentation:this.documentation.getDocumentation("signatureHealthcheck_Signature1"),parameters:[{label:"[flags]",documentation:this.documentation.getDocumentation("signatureHealthcheck_Signature1_Param0")},{label:"CMD"},{label:"...",documentation:this.documentation.getDocumentation("signatureHealthcheck_Signature1_Param2")}]},T={label:"HEALTHCHECK NONE",documentation:this.documentation.getDocumentation("signatureHealthcheck_Signature2"),parameters:[{label:"NONE"}]},N=i,P=N.getFlags(),y=0,O=P;y<O.length;y++){var M,L=O[y];if(null!==(M=L.getValueRange())&&s.Util.isInsideRange(n,M)){switch(L.getName()){case"interval":return{signatures:[{label:"HEALTHCHECK --interval=30s ...",documentation:this.documentation.getDocumentation("signatureHealthcheck"),parameters:[{label:"30s",documentation:this.documentation.getDocumentation("signatureHealthcheckFlagInterval_Param")}]}],activeSignature:0,activeParameter:0};case"retries":return{signatures:[{label:"HEALTHCHECK --retries=3 ...",documentation:this.documentation.getDocumentation("signatureHealthcheck"),parameters:[{label:"3",documentation:this.documentation.getDocumentation("signatureHealthcheckFlagRetries_Param")}]}],activeSignature:0,activeParameter:0};case"start-period":return{signatures:[{label:"HEALTHCHECK --start-period=5s ...",documentation:this.documentation.getDocumentation("signatureHealthcheck"),parameters:[{label:"5s",documentation:this.documentation.getDocumentation("signatureHealthcheckFlagStartPeriod_Param")}]}],activeSignature:0,activeParameter:0};case"timeout":return{signatures:[{label:"HEALTHCHECK --timeout=30s ...",documentation:this.documentation.getDocumentation("signatureHealthcheck"),parameters:[{label:"30s",documentation:this.documentation.getDocumentation("signatureHealthcheckFlagTimeout_Param")}]}],activeSignature:0,activeParameter:0}}break}}var F=N.getArguments();if(0==P.length&&0===F.length)return{signatures:[C,T],activeSignature:0,activeParameter:0};var w=N.getSubcommand();if(null===w)return{signatures:[D],activeSignature:0,activeParameter:0};var H=w.isBefore(n),x=w.isAfter(n),U=w.getValue();return 0==="NONE".indexOf(U.toUpperCase())?H?null:{signatures:[T],activeSignature:0,activeParameter:0}:{signatures:[D],activeSignature:0,activeParameter:H?2:x?0:1};case"LABEL":var V=[{label:"LABEL key value",documentation:this.documentation.getDocumentation("signatureLabel_Signature0"),parameters:[{label:"key",documentation:this.documentation.getDocumentation("signatureLabel_Signature0_Param0")},{label:"value",documentation:this.documentation.getDocumentation("signatureLabel_Signature0_Param1")}]},{label:"LABEL key=value",documentation:this.documentation.getDocumentation("signatureLabel_Signature1"),parameters:[{label:"key",documentation:this.documentation.getDocumentation("signatureLabel_Signature1_Param0")},{label:"value",documentation:this.documentation.getDocumentation("signatureLabel_Signature1_Param1")}]},{label:"LABEL key=value key2=value2",documentation:this.documentation.getDocumentation("signatureLabel_Signature2"),parameters:[{label:"key",documentation:this.documentation.getDocumentation("signatureLabel_Signature2_Param0")},{label:"value",documentation:this.documentation.getDocumentation("signatureLabel_Signature2_Param1")},{label:"key2",documentation:this.documentation.getDocumentation("signatureLabel_Signature2_Param2")},{label:"value2",documentation:this.documentation.getDocumentation("signatureLabel_Signature2_Param3")}]}];return this.getPropertySignatureHelp(e,n,V,i.getProperties());case"MAINTAINER":return{signatures:[{label:"MAINTAINER name",documentation:this.documentation.getDocumentation("signatureMaintainer"),parameters:[{label:"name",documentation:this.documentation.getDocumentation("signatureMaintainer_Param")}]}],activeSignature:0,activeParameter:0};case"ONBUILD":var K=i.getArguments();return K.length>0&&K[0].isBefore(n)?null:{signatures:[{label:"ONBUILD INSTRUCTION",documentation:this.documentation.getDocumentation("signatureOnbuild"),parameters:[{label:"INSTRUCTION",documentation:this.documentation.getDocumentation("signatureOnbuild_Param")}]}],activeSignature:0,activeParameter:0};case"RUN":var G=i,B={label:"RUN command parameter ...",documentation:this.documentation.getDocumentation("signatureRun_Signature0"),parameters:[{label:"command",documentation:this.documentation.getDocumentation("signatureRun_Signature0_Param0")},{label:"parameter",documentation:this.documentation.getDocumentation("signatureRun_Signature0_Param1")},{label:"...",documentation:this.documentation.getDocumentation("signatureRun_Signature0_Param2")}]},W={label:'RUN [ "command", "parameter", ... ]',documentation:this.documentation.getDocumentation("signatureRun_Signature1"),parameters:[{label:"["},{label:'"command"',documentation:this.documentation.getDocumentation("signatureRun_Signature1_Param1")},{label:'"parameter"',documentation:this.documentation.getDocumentation("signatureRun_Signature1_Param2")},{label:"...",documentation:this.documentation.getDocumentation("signatureRun_Signature1_Param3")},{label:"]"}]};return this.getJSONInstructionSignatureHelp(e,G,n,[W],B,!1,!1,!1,!0);case"SHELL":var Y=i,j={signatures:[{label:'SHELL [ "executable", "parameter", ... ]',documentation:this.documentation.getDocumentation("signatureShell"),parameters:[{label:"["},{label:'"executable"',documentation:this.documentation.getDocumentation("signatureShell_Param1")},{label:'"parameter"',documentation:this.documentation.getDocumentation("signatureShell_Param2")},{label:"...",documentation:this.documentation.getDocumentation("signatureShell_Param3")},{label:"]"}]}],activeSignature:0,activeParameter:null};return j.activeParameter=this.getJSONSignatureActiveParameter(e,Y,n,!1,!1,!0),-1===j.activeParameter?null:j;case"STOPSIGNAL":return{signatures:[{label:"STOPSIGNAL signal",documentation:this.documentation.getDocumentation("signatureStopsignal"),parameters:[{label:"signal",documentation:this.documentation.getDocumentation("signatureStopsignal_Param")}]}],activeSignature:0,activeParameter:0};case"USER":var $={signatures:[{label:"USER user",documentation:this.documentation.getDocumentation("signatureUser_Signature0"),parameters:[{label:"user",documentation:this.documentation.getDocumentation("signatureUser_Signature0_Param")}]},{label:"USER user:group",documentation:this.documentation.getDocumentation("signatureUser_Signature1"),parameters:[{label:"user",documentation:this.documentation.getDocumentation("signatureUser_Signature1_Param0")},{label:"group",documentation:this.documentation.getDocumentation("signatureUser_Signature1_Param1")}]},{label:"USER uid",documentation:this.documentation.getDocumentation("signatureUser_Signature2"),parameters:[{label:"uid",documentation:this.documentation.getDocumentation("signatureUser_Signature2_Param")}]},{label:"USER uid:gid",documentation:this.documentation.getDocumentation("signatureUser_Signature3"),parameters:[{label:"uid",documentation:this.documentation.getDocumentation("signatureUser_Signature3_Param0")},{label:"gid",documentation:this.documentation.getDocumentation("signatureUser_Signature3_Param1")}]}],activeSignature:0,activeParameter:0},q=i.getTextContent().indexOf(":");return-1!==q&&($={signatures:[{label:"USER user:group",documentation:this.documentation.getDocumentation("signatureUser_Signature1"),parameters:[{label:"user",documentation:this.documentation.getDocumentation("signatureUser_Signature1_Param0")},{label:"group",documentation:this.documentation.getDocumentation("signatureUser_Signature1_Param1")}]},{label:"USER uid:gid",documentation:this.documentation.getDocumentation("signatureUser_Signature3"),parameters:[{label:"uid",documentation:this.documentation.getDocumentation("signatureUser_Signature3_Param0")},{label:"gid",documentation:this.documentation.getDocumentation("signatureUser_Signature3_Param1")}]}],activeSignature:0,activeParameter:0},e.offsetAt(n)>e.offsetAt(i.getRange().start)+q&&($.activeParameter=1)),$;case"VOLUME":var J=i,Q={label:'VOLUME [ "/vol", ... ]',documentation:this.documentation.getDocumentation("signatureVolume_Signature1"),parameters:[{label:"["},{label:'"/vol"',documentation:this.documentation.getDocumentation("signatureVolume_Signature1_Param1")},{label:"...",documentation:this.documentation.getDocumentation("signatureVolume_Signature1_Param2")},{label:"]"}]},X={label:"VOLUME /vol ...",documentation:this.documentation.getDocumentation("signatureVolume_Signature0"),parameters:[{label:"/vol",documentation:this.documentation.getDocumentation("signatureVolume_Signature0_Param0")},{label:"...",documentation:this.documentation.getDocumentation("signatureVolume_Signature0_Param1")}]};return this.getJSONInstructionSignatureHelp(e,J,n,[Q],X,!1,!0,!0,!0);case"WORKDIR":return{signatures:[{label:"WORKDIR /the/workdir/path",documentation:this.documentation.getDocumentation("signatureWorkdir"),parameters:[{label:"/the/workdir/path",documentation:this.documentation.getDocumentation("signatureWorkdir_Param")}]}],activeSignature:0,activeParameter:0}}}}return null},e.prototype.getFromSignatureHelp=function(e,t){var n=[{label:"FROM baseImage",documentation:this.documentation.getDocumentation("signatureFrom_Signature0"),parameters:[{label:"baseImage",documentation:this.documentation.getDocumentation("signatureFrom_Signature0_Param")}]},{label:"FROM baseImage:tag",documentation:this.documentation.getDocumentation("signatureFrom_Signature1"),parameters:[{label:"baseImage",documentation:this.documentation.getDocumentation("signatureFrom_Signature1_Param0")},{label:"tag",documentation:this.documentation.getDocumentation("signatureFrom_Signature1_Param1")}]},{label:"FROM baseImage@digest",documentation:this.documentation.getDocumentation("signatureFrom_Signature2"),parameters:[{label:"baseImage",documentation:this.documentation.getDocumentation("signatureFrom_Signature2_Param0")},{label:"digest",documentation:this.documentation.getDocumentation("signatureFrom_Signature2_Param1")}]},{label:"FROM baseImage AS stage",documentation:this.documentation.getDocumentation("signatureFrom_Signature3"),parameters:[{label:"baseImage",documentation:this.documentation.getDocumentation("signatureFrom_Signature3_Param0")},{label:""},{label:"AS"},{label:"stage",documentation:this.documentation.getDocumentation("signatureFrom_Signature3_Param2")}]},{label:"FROM baseImage:tag AS stage",documentation:this.documentation.getDocumentation("signatureFrom_Signature4"),parameters:[{label:"baseImage",documentation:this.documentation.getDocumentation("signatureFrom_Signature4_Param0")},{label:"tag",documentation:this.documentation.getDocumentation("signatureFrom_Signature4_Param1")},{label:"AS"},{label:"stage",documentation:this.documentation.getDocumentation("signatureFrom_Signature4_Param3")}]},{label:"FROM baseImage@digest AS stage",documentation:this.documentation.getDocumentation("signatureFrom_Signature5"),parameters:[{label:"baseImage",documentation:this.documentation.getDocumentation("signatureFrom_Signature5_Param0")},{label:"digest",documentation:this.documentation.getDocumentation("signatureFrom_Signature5_Param1")},{label:"AS"},{label:"stage",documentation:this.documentation.getDocumentation("signatureFrom_Signature5_Param3")}]}],r=t.getArguments();if(r.length>=3&&r[2].isBefore(e))return null;if(0===r.length)return{signatures:n,activeSignature:0,activeParameter:0};var a=r[0].getValue(),i=-1!==a.indexOf("@"),s=!i&&-1!==a.indexOf(":"),o=r.length>1||r[0].isBefore(e);return{signatures:this.getFromSignatures(n,s,i,o),activeSignature:0,activeParameter:this.getFromActiveParameter(e,t,s,i,r)}},e.prototype.getFromSignatures=function(e,t,n,r){return n?r?[e[5]]:[e[2],e[5]]:t?r?[e[4]]:[e[1],e[4]]:r?[e[3],e[4],e[5]]:e},e.prototype.getFromActiveParameter=function(e,t,n,r,a){var i=n&&s.Util.isInsideRange(e,t.getImageTagRange()),o=r&&s.Util.isInsideRange(e,t.getImageDigestRange());if(1===a.length){if(a[0].isBefore(e))return 2}else if(2===a.length){if(a[1].isBefore(e))return 3;if(s.Util.isInsideRange(e,a[1].getRange())||a[0].isBefore(e))return 2}else{if(s.Util.isInsideRange(e,a[2].getRange())||a[1].isBefore(e))return 3;if(s.Util.isInsideRange(e,a[1].getRange())||a[0].isBefore(e))return 2}return i||o?1:0},e.prototype.getJSONInstructionSignatureHelp=function(e,t,n,r,a,i,s,o,c){var u=this.getJSONSignatureActiveParameter(e,t,n,i,o,c);return-1===u?{signatures:[a],activeSignature:0,activeParameter:u=this.getSignatureActiveParameter(t,n,i,o?1:2,c)}:0===u?s?(r.push(a),{signatures:r,activeSignature:0,activeParameter:0}):(r.unshift(a),{signatures:r,activeSignature:0,activeParameter:0}):1===u&&i?s?(r.push(a),{signatures:r,activeSignature:0,activeParameter:1}):(r.unshift(a),{signatures:r,activeSignature:0,activeParameter:1}):{signatures:r,activeSignature:0,activeParameter:u}},e.prototype.getJSONSignatureActiveParameter=function(e,t,n,r,a,i){var o=r?1:0;if(r){var c=t.getFlags();if(c.length>0){var u=c[c.length-1].getRange().end;if(s.Util.positionBefore(n,u)||s.Util.positionEquals(n,u))return 0}}var g=t.getClosingBracket();if(g){if((m=g.getRange()).end.line===n.line&&m.end.character===n.character)return a?3+o:4+o;if(g.isBefore(n))return-1}var l=t.getJSONStrings();if(!a&&l.length>1&&l[1].isBefore(n))return 2===l.length||i||s.Util.isInsideRange(n,l[l.length-1].getRange())?3+o:2+o;if(l.length>0&&l[0].isBefore(n)){if(l.length>2)return 2+o;var h=e.offsetAt(l[0].getRange().end),d=e.offsetAt(n);return-1===e.getText().substring(h,d).indexOf(",")?1+o:i?2+o:3+o}var m,f=t.getOpeningBracket();return f?(m=f.getRange()).end.line===n.line&&m.end.character===n.character||f.isBefore(n)?1+o:0+o:0===t.getArguments().length?0+o:-1},e.prototype.getSignatureActiveParameter=function(e,t,n,r,a){var i=n?1:0,o=e.getArguments();if(a)for(var c=o.length-1;c>=0;c--){if(o[c].isBefore(t))return Math.min(c+1,r)+i;if(s.Util.isInsideRange(t,o[c].getRange()))return Math.min(c,r)+i}switch(o.length){case 1:return o[0].isBefore(t)?2+i:0+i;default:return o[o.length-1].isBefore(t)||s.Util.isInsideRange(t,o[o.length-1].getRange())?2+i:o[0].isBefore(t)?1+i:0+i}},e.prototype.getPropertySignatureHelp=function(e,t,n,r){return{signatures:this.getPropertySignatures(e,t,n,r),activeSignature:0,activeParameter:this.getPropertySignatureActiveParameter(e,t,r)}},e.prototype.getPropertySignatures=function(t,n,r,a){if(0===a.length)return r;if(1!==a.length)return[r[2]];var i=a[0].getValueRange();return null===i?e.isNameBefore(a[0],n)?[r[0]]:r:-1===t.getText().substring(t.offsetAt(a[0].getNameRange().end),t.offsetAt(i.start)).indexOf("=")?[r[0]]:e.isValueBefore(a[0],n)?[r[2]]:[r[1],r[2]]},e.prototype.getPropertySignatureActiveParameter=function(t,n,r){if(0===r.length)return 0;for(var a=r.length-1;a>0;a--){if(e.isInValue(r[a],n))return 3;if(e.isNameBefore(r[a],n)||e.isInName(r[a],n))return 2}return e.isInValue(r[0],n)?1:e.isValueBefore(r[0],n)?-1===t.getText().substring(t.offsetAt(r[0].getNameRange().end),t.offsetAt(r[0].getValueRange().start)).indexOf("=")?1:2:e.isNameBefore(r[0],n)?1:0},e.isInName=function(e,t){return s.Util.isInsideRange(t,e.getNameRange())},e.isNameBefore=function(t,n){var r=t.getNameRange();return!e.isInName(t,n)&&(r.start.line<n.line||r.start.line===n.line&&r.end.character<n.character)},e.isInValue=function(e,t){var n=e.getValueRange();return!!n&&s.Util.isInsideRange(t,n)},e.isValueBefore=function(e,t){var n=e.getValueRange();return null!==n&&(n.start.line<t.line||n.start.line===t.line&&(n.start.line===n.end.line?n.end.character<t.character:n.start.character<t.character))},e}();t.DockerSignatures=o},5409:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.DockerSymbols=void 0;var r=n(8661),a=n(243),i=function(){function e(){}return e.prototype.createSymbolInformation=function(e,t,n,r,a){return a?{name:e,location:{uri:t,range:n},kind:r,deprecated:!0}:{name:e,location:{uri:t,range:n},kind:r}},e.prototype.parseSymbolInformation=function(e,t){for(var n=a.DockerfileParser.parse(t),i=[],s=0,o=n.getDirectives();s<o.length;s++){var c=o[s];i.push(this.createSymbolInformation(c.getName(),e.uri,c.getNameRange(),r.SymbolKind.Property,!1))}for(var u=0,g=n.getInstructions();u<g.length;u++){var l=g[u],h=l.getKeyword();i.push(this.createSymbolInformation(l.getInstruction(),e.uri,l.getInstructionRange(),r.SymbolKind.Function,h===a.Keyword.MAINTAINER))}return i},e}();t.DockerSymbols=i},2796:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.LanguageService=void 0;var r=n(8661),a=n(7918),i=n(3012),s=n(3014),o=n(3591),c=n(883),u=n(4073),g=n(9759),l=n(5409),h=n(714),d=n(7776),m=n(9859),f=n(5907),p=n(6461),_=n(3764),v=n(8228),A=n(450),R=function(){function e(){this.markdownDocumentation=new _.MarkdownDocumentation,this.plainTextDocumentation=new m.PlainTextDocumentation,this.foldingRangeLineFoldingOnly=!1,this.foldingRangeLimit=Number.MAX_VALUE}return e.prototype.setLogger=function(e){this.logger=e},e.prototype.setCapabilities=function(e){this.completionItemCapabilities=e&&e.completion&&e.completion.completionItem,this.hoverContentFormat=e&&e.hover&&e.hover.contentFormat,this.foldingRangeLineFoldingOnly=e&&e.foldingRange&&e.foldingRange.lineFoldingOnly,this.foldingRangeLimit=e&&e.foldingRange&&e.foldingRange.rangeLimit},e.prototype.computeCodeActions=function(e,t,n){return(new o.DockerCommands).analyzeDiagnostics(n.diagnostics,e.uri)},e.prototype.computeLinks=function(e){return(new d.DockerLinks).getLinks(e)},e.prototype.resolveLink=function(e){return(new d.DockerLinks).resolveLink(e)},e.prototype.computeCommandEdits=function(e,t,n){return(new o.DockerCommands).computeCommandEdits(e,t,n)},e.prototype.computeCompletionItems=function(e,t){var n=r.TextDocument.create("","",0,e);return new i.DockerAssist(n,new s.DockerRegistryClient(this.logger),this.completionItemCapabilities).computeProposals(t)},e.prototype.resolveCompletionItem=function(e){return e.documentation?e:(new v.DockerCompletion).resolveCompletionItem(e,this.completionItemCapabilities&&this.completionItemCapabilities.documentationFormat)},e.prototype.computeDefinition=function(e,t,n){return(new u.DockerDefinition).computeDefinition(e,t,n)},e.prototype.computeFoldingRanges=function(e){return(new c.DockerFolding).computeFoldingRanges(e,this.foldingRangeLineFoldingOnly,this.foldingRangeLimit)},e.prototype.computeHighlightRanges=function(e,t){return(new g.DockerHighlight).computeHighlightRanges(e,t)},e.prototype.computeHover=function(e,t){return new p.DockerHover(this.markdownDocumentation,this.plainTextDocumentation).onHover(e,t,this.hoverContentFormat)},e.prototype.computeSymbols=function(e,t){return(new l.DockerSymbols).parseSymbolInformation(e,t)},e.prototype.computeSignatureHelp=function(e,t){return(new h.DockerSignatures).computeSignatures(e,t)},e.prototype.computeRename=function(e,t,n,r){return(new f.DockerRename).rename(e,t,n,r)},e.prototype.prepareRename=function(e,t){return(new f.DockerRename).prepareRename(e,t)},e.prototype.computeSemanticTokens=function(e){return new A.DockerSemanticTokens(e).computeSemanticTokens()},e.prototype.validate=function(e,t){return a.validate(e,t)},e.prototype.format=function(e,t){return a.format(e,t)},e.prototype.formatRange=function(e,t,n){return a.formatRange(e,t,n)},e.prototype.formatOnType=function(e,t,n,r){return a.formatOnType(e,t,n,r)},e}();t.LanguageService=R},7506:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.DockerfileLanguageServiceFactory=t.CommandIds=void 0;var r,a=n(2796);(r=t.CommandIds||(t.CommandIds={})).LOWERCASE="docker.command.convertToLowercase",r.UPPERCASE="docker.command.convertToUppercase",r.EXTRA_ARGUMENT="docker.command.removeExtraArgument",r.DIRECTIVE_TO_BACKTICK="docker.command.directiveToBacktick",r.DIRECTIVE_TO_BACKSLASH="docker.command.directiveToBackslash",r.FLAG_TO_CHOWN="docker.command.flagToChown",r.FLAG_TO_COPY_FROM="docker.command.flagToCopyFrom",r.FLAG_TO_HEALTHCHECK_INTERVAL="docker.command.flagToHealthcheckInterval",r.FLAG_TO_HEALTHCHECK_RETRIES="docker.command.flagToHealthcheckRetries",r.FLAG_TO_HEALTHCHECK_START_PERIOD="docker.command.flagToHealthcheckStartPeriod",r.FLAG_TO_HEALTHCHECK_TIMEOUT="docker.command.flagToHealthcheckTimeout",r.REMOVE_EMPTY_CONTINUATION_LINE="docker.command.removeEmptyContinuationLine",r.CONVERT_TO_AS="docker.command.convertToAS",(t.DockerfileLanguageServiceFactory||(t.DockerfileLanguageServiceFactory={})).createLanguageService=function(){return new a.LanguageService}},8661:(e,t,n)=>{"use strict";var r,a,i,s,o,c,u,g,l,h,d,m,f,p,_,v,A,R,S,k,b,E,I,C,D,T;n.r(t),n.d(t,{integer:()=>r,uinteger:()=>a,Position:()=>i,Range:()=>s,Location:()=>o,LocationLink:()=>c,Color:()=>u,ColorInformation:()=>g,ColorPresentation:()=>l,FoldingRangeKind:()=>h,FoldingRange:()=>d,DiagnosticRelatedInformation:()=>m,DiagnosticSeverity:()=>f,DiagnosticTag:()=>p,CodeDescription:()=>_,Diagnostic:()=>v,Command:()=>A,TextEdit:()=>R,ChangeAnnotation:()=>S,ChangeAnnotationIdentifier:()=>k,AnnotatedTextEdit:()=>b,TextDocumentEdit:()=>E,CreateFile:()=>I,RenameFile:()=>C,DeleteFile:()=>D,WorkspaceEdit:()=>T,WorkspaceChange:()=>le,TextDocumentIdentifier:()=>N,VersionedTextDocumentIdentifier:()=>P,OptionalVersionedTextDocumentIdentifier:()=>y,TextDocumentItem:()=>O,MarkupKind:()=>M,MarkupContent:()=>L,CompletionItemKind:()=>F,InsertTextFormat:()=>w,CompletionItemTag:()=>H,InsertReplaceEdit:()=>x,InsertTextMode:()=>U,CompletionItemLabelDetails:()=>V,CompletionItem:()=>K,CompletionList:()=>G,MarkedString:()=>B,Hover:()=>W,ParameterInformation:()=>Y,SignatureInformation:()=>j,DocumentHighlightKind:()=>$,DocumentHighlight:()=>q,SymbolKind:()=>J,SymbolTag:()=>Q,SymbolInformation:()=>X,DocumentSymbol:()=>z,CodeActionKind:()=>Z,CodeActionContext:()=>ee,CodeAction:()=>te,CodeLens:()=>ne,FormattingOptions:()=>re,DocumentLink:()=>ae,SelectionRange:()=>ie,SemanticTokenTypes:()=>se,SemanticTokenModifiers:()=>oe,SemanticTokens:()=>ce,EOL:()=>de,TextDocument:()=>he}),function(e){e.MIN_VALUE=-2147483648,e.MAX_VALUE=2147483647}(r||(r={})),function(e){e.MIN_VALUE=0,e.MAX_VALUE=2147483647}(a||(a={})),function(e){e.create=function(e,t){return e===Number.MAX_VALUE&&(e=a.MAX_VALUE),t===Number.MAX_VALUE&&(t=a.MAX_VALUE),{line:e,character:t}},e.is=function(e){var t=e;return me.objectLiteral(t)&&me.uinteger(t.line)&&me.uinteger(t.character)}}(i||(i={})),function(e){e.create=function(e,t,n,r){if(me.uinteger(e)&&me.uinteger(t)&&me.uinteger(n)&&me.uinteger(r))return{start:i.create(e,t),end:i.create(n,r)};if(i.is(e)&&i.is(t))return{start:e,end:t};throw new Error("Range#create called with invalid arguments["+e+", "+t+", "+n+", "+r+"]")},e.is=function(e){var t=e;return me.objectLiteral(t)&&i.is(t.start)&&i.is(t.end)}}(s||(s={})),function(e){e.create=function(e,t){return{uri:e,range:t}},e.is=function(e){var t=e;return me.defined(t)&&s.is(t.range)&&(me.string(t.uri)||me.undefined(t.uri))}}(o||(o={})),function(e){e.create=function(e,t,n,r){return{targetUri:e,targetRange:t,targetSelectionRange:n,originSelectionRange:r}},e.is=function(e){var t=e;return me.defined(t)&&s.is(t.targetRange)&&me.string(t.targetUri)&&(s.is(t.targetSelectionRange)||me.undefined(t.targetSelectionRange))&&(s.is(t.originSelectionRange)||me.undefined(t.originSelectionRange))}}(c||(c={})),function(e){e.create=function(e,t,n,r){return{red:e,green:t,blue:n,alpha:r}},e.is=function(e){var t=e;return me.numberRange(t.red,0,1)&&me.numberRange(t.green,0,1)&&me.numberRange(t.blue,0,1)&&me.numberRange(t.alpha,0,1)}}(u||(u={})),function(e){e.create=function(e,t){return{range:e,color:t}},e.is=function(e){var t=e;return s.is(t.range)&&u.is(t.color)}}(g||(g={})),function(e){e.create=function(e,t,n){return{label:e,textEdit:t,additionalTextEdits:n}},e.is=function(e){var t=e;return me.string(t.label)&&(me.undefined(t.textEdit)||R.is(t))&&(me.undefined(t.additionalTextEdits)||me.typedArray(t.additionalTextEdits,R.is))}}(l||(l={})),function(e){e.Comment="comment",e.Imports="imports",e.Region="region"}(h||(h={})),function(e){e.create=function(e,t,n,r,a){var i={startLine:e,endLine:t};return me.defined(n)&&(i.startCharacter=n),me.defined(r)&&(i.endCharacter=r),me.defined(a)&&(i.kind=a),i},e.is=function(e){var t=e;return me.uinteger(t.startLine)&&me.uinteger(t.startLine)&&(me.undefined(t.startCharacter)||me.uinteger(t.startCharacter))&&(me.undefined(t.endCharacter)||me.uinteger(t.endCharacter))&&(me.undefined(t.kind)||me.string(t.kind))}}(d||(d={})),function(e){e.create=function(e,t){return{location:e,message:t}},e.is=function(e){var t=e;return me.defined(t)&&o.is(t.location)&&me.string(t.message)}}(m||(m={})),function(e){e.Error=1,e.Warning=2,e.Information=3,e.Hint=4}(f||(f={})),function(e){e.Unnecessary=1,e.Deprecated=2}(p||(p={})),function(e){e.is=function(e){var t=e;return null!=t&&me.string(t.href)}}(_||(_={})),function(e){e.create=function(e,t,n,r,a,i){var s={range:e,message:t};return me.defined(n)&&(s.severity=n),me.defined(r)&&(s.code=r),me.defined(a)&&(s.source=a),me.defined(i)&&(s.relatedInformation=i),s},e.is=function(e){var t,n=e;return me.defined(n)&&s.is(n.range)&&me.string(n.message)&&(me.number(n.severity)||me.undefined(n.severity))&&(me.integer(n.code)||me.string(n.code)||me.undefined(n.code))&&(me.undefined(n.codeDescription)||me.string(null===(t=n.codeDescription)||void 0===t?void 0:t.href))&&(me.string(n.source)||me.undefined(n.source))&&(me.undefined(n.relatedInformation)||me.typedArray(n.relatedInformation,m.is))}}(v||(v={})),function(e){e.create=function(e,t){for(var n=[],r=2;r<arguments.length;r++)n[r-2]=arguments[r];var a={title:e,command:t};return me.defined(n)&&n.length>0&&(a.arguments=n),a},e.is=function(e){var t=e;return me.defined(t)&&me.string(t.title)&&me.string(t.command)}}(A||(A={})),function(e){e.replace=function(e,t){return{range:e,newText:t}},e.insert=function(e,t){return{range:{start:e,end:e},newText:t}},e.del=function(e){return{range:e,newText:""}},e.is=function(e){var t=e;return me.objectLiteral(t)&&me.string(t.newText)&&s.is(t.range)}}(R||(R={})),function(e){e.create=function(e,t,n){var r={label:e};return void 0!==t&&(r.needsConfirmation=t),void 0!==n&&(r.description=n),r},e.is=function(e){var t=e;return void 0!==t&&me.objectLiteral(t)&&me.string(t.label)&&(me.boolean(t.needsConfirmation)||void 0===t.needsConfirmation)&&(me.string(t.description)||void 0===t.description)}}(S||(S={})),function(e){e.is=function(e){return"string"==typeof e}}(k||(k={})),function(e){e.replace=function(e,t,n){return{range:e,newText:t,annotationId:n}},e.insert=function(e,t,n){return{range:{start:e,end:e},newText:t,annotationId:n}},e.del=function(e,t){return{range:e,newText:"",annotationId:t}},e.is=function(e){var t=e;return R.is(t)&&(S.is(t.annotationId)||k.is(t.annotationId))}}(b||(b={})),function(e){e.create=function(e,t){return{textDocument:e,edits:t}},e.is=function(e){var t=e;return me.defined(t)&&y.is(t.textDocument)&&Array.isArray(t.edits)}}(E||(E={})),function(e){e.create=function(e,t,n){var r={kind:"create",uri:e};return void 0===t||void 0===t.overwrite&&void 0===t.ignoreIfExists||(r.options=t),void 0!==n&&(r.annotationId=n),r},e.is=function(e){var t=e;return t&&"create"===t.kind&&me.string(t.uri)&&(void 0===t.options||(void 0===t.options.overwrite||me.boolean(t.options.overwrite))&&(void 0===t.options.ignoreIfExists||me.boolean(t.options.ignoreIfExists)))&&(void 0===t.annotationId||k.is(t.annotationId))}}(I||(I={})),function(e){e.create=function(e,t,n,r){var a={kind:"rename",oldUri:e,newUri:t};return void 0===n||void 0===n.overwrite&&void 0===n.ignoreIfExists||(a.options=n),void 0!==r&&(a.annotationId=r),a},e.is=function(e){var t=e;return t&&"rename"===t.kind&&me.string(t.oldUri)&&me.string(t.newUri)&&(void 0===t.options||(void 0===t.options.overwrite||me.boolean(t.options.overwrite))&&(void 0===t.options.ignoreIfExists||me.boolean(t.options.ignoreIfExists)))&&(void 0===t.annotationId||k.is(t.annotationId))}}(C||(C={})),function(e){e.create=function(e,t,n){var r={kind:"delete",uri:e};return void 0===t||void 0===t.recursive&&void 0===t.ignoreIfNotExists||(r.options=t),void 0!==n&&(r.annotationId=n),r},e.is=function(e){var t=e;return t&&"delete"===t.kind&&me.string(t.uri)&&(void 0===t.options||(void 0===t.options.recursive||me.boolean(t.options.recursive))&&(void 0===t.options.ignoreIfNotExists||me.boolean(t.options.ignoreIfNotExists)))&&(void 0===t.annotationId||k.is(t.annotationId))}}(D||(D={})),function(e){e.is=function(e){var t=e;return t&&(void 0!==t.changes||void 0!==t.documentChanges)&&(void 0===t.documentChanges||t.documentChanges.every((function(e){return me.string(e.kind)?I.is(e)||C.is(e)||D.is(e):E.is(e)})))}}(T||(T={}));var N,P,y,O,M,L,F,w,H,x,U,V,K,G,B,W,Y,j,$,q,J,Q,X,z,Z,ee,te,ne,re,ae,ie,se,oe,ce,ue=function(){function e(e,t){this.edits=e,this.changeAnnotations=t}return e.prototype.insert=function(e,t,n){var r,a;if(void 0===n?r=R.insert(e,t):k.is(n)?(a=n,r=b.insert(e,t,n)):(this.assertChangeAnnotations(this.changeAnnotations),a=this.changeAnnotations.manage(n),r=b.insert(e,t,a)),this.edits.push(r),void 0!==a)return a},e.prototype.replace=function(e,t,n){var r,a;if(void 0===n?r=R.replace(e,t):k.is(n)?(a=n,r=b.replace(e,t,n)):(this.assertChangeAnnotations(this.changeAnnotations),a=this.changeAnnotations.manage(n),r=b.replace(e,t,a)),this.edits.push(r),void 0!==a)return a},e.prototype.delete=function(e,t){var n,r;if(void 0===t?n=R.del(e):k.is(t)?(r=t,n=b.del(e,t)):(this.assertChangeAnnotations(this.changeAnnotations),r=this.changeAnnotations.manage(t),n=b.del(e,r)),this.edits.push(n),void 0!==r)return r},e.prototype.add=function(e){this.edits.push(e)},e.prototype.all=function(){return this.edits},e.prototype.clear=function(){this.edits.splice(0,this.edits.length)},e.prototype.assertChangeAnnotations=function(e){if(void 0===e)throw new Error("Text edit change is not configured to manage change annotations.")},e}(),ge=function(){function e(e){this._annotations=void 0===e?Object.create(null):e,this._counter=0,this._size=0}return e.prototype.all=function(){return this._annotations},Object.defineProperty(e.prototype,"size",{get:function(){return this._size},enumerable:!1,configurable:!0}),e.prototype.manage=function(e,t){var n;if(k.is(e)?n=e:(n=this.nextId(),t=e),void 0!==this._annotations[n])throw new Error("Id "+n+" is already in use.");if(void 0===t)throw new Error("No annotation provided for id "+n);return this._annotations[n]=t,this._size++,n},e.prototype.nextId=function(){return this._counter++,this._counter.toString()},e}(),le=function(){function e(e){var t=this;this._textEditChanges=Object.create(null),void 0!==e?(this._workspaceEdit=e,e.documentChanges?(this._changeAnnotations=new ge(e.changeAnnotations),e.changeAnnotations=this._changeAnnotations.all(),e.documentChanges.forEach((function(e){if(E.is(e)){var n=new ue(e.edits,t._changeAnnotations);t._textEditChanges[e.textDocument.uri]=n}}))):e.changes&&Object.keys(e.changes).forEach((function(n){var r=new ue(e.changes[n]);t._textEditChanges[n]=r}))):this._workspaceEdit={}}return Object.defineProperty(e.prototype,"edit",{get:function(){return this.initDocumentChanges(),void 0!==this._changeAnnotations&&(0===this._changeAnnotations.size?this._workspaceEdit.changeAnnotations=void 0:this._workspaceEdit.changeAnnotations=this._changeAnnotations.all()),this._workspaceEdit},enumerable:!1,configurable:!0}),e.prototype.getTextEditChange=function(e){if(y.is(e)){if(this.initDocumentChanges(),void 0===this._workspaceEdit.documentChanges)throw new Error("Workspace edit is not configured for document changes.");var t={uri:e.uri,version:e.version};if(!(r=this._textEditChanges[t.uri])){var n={textDocument:t,edits:a=[]};this._workspaceEdit.documentChanges.push(n),r=new ue(a,this._changeAnnotations),this._textEditChanges[t.uri]=r}return r}if(this.initChanges(),void 0===this._workspaceEdit.changes)throw new Error("Workspace edit is not configured for normal text edit changes.");var r;if(!(r=this._textEditChanges[e])){var a=[];this._workspaceEdit.changes[e]=a,r=new ue(a),this._textEditChanges[e]=r}return r},e.prototype.initDocumentChanges=function(){void 0===this._workspaceEdit.documentChanges&&void 0===this._workspaceEdit.changes&&(this._changeAnnotations=new ge,this._workspaceEdit.documentChanges=[],this._workspaceEdit.changeAnnotations=this._changeAnnotations.all())},e.prototype.initChanges=function(){void 0===this._workspaceEdit.documentChanges&&void 0===this._workspaceEdit.changes&&(this._workspaceEdit.changes=Object.create(null))},e.prototype.createFile=function(e,t,n){if(this.initDocumentChanges(),void 0===this._workspaceEdit.documentChanges)throw new Error("Workspace edit is not configured for document changes.");var r,a,i;if(S.is(t)||k.is(t)?r=t:n=t,void 0===r?a=I.create(e,n):(i=k.is(r)?r:this._changeAnnotations.manage(r),a=I.create(e,n,i)),this._workspaceEdit.documentChanges.push(a),void 0!==i)return i},e.prototype.renameFile=function(e,t,n,r){if(this.initDocumentChanges(),void 0===this._workspaceEdit.documentChanges)throw new Error("Workspace edit is not configured for document changes.");var a,i,s;if(S.is(n)||k.is(n)?a=n:r=n,void 0===a?i=C.create(e,t,r):(s=k.is(a)?a:this._changeAnnotations.manage(a),i=C.create(e,t,r,s)),this._workspaceEdit.documentChanges.push(i),void 0!==s)return s},e.prototype.deleteFile=function(e,t,n){if(this.initDocumentChanges(),void 0===this._workspaceEdit.documentChanges)throw new Error("Workspace edit is not configured for document changes.");var r,a,i;if(S.is(t)||k.is(t)?r=t:n=t,void 0===r?a=D.create(e,n):(i=k.is(r)?r:this._changeAnnotations.manage(r),a=D.create(e,n,i)),this._workspaceEdit.documentChanges.push(a),void 0!==i)return i},e}();!function(e){e.create=function(e){return{uri:e}},e.is=function(e){var t=e;return me.defined(t)&&me.string(t.uri)}}(N||(N={})),function(e){e.create=function(e,t){return{uri:e,version:t}},e.is=function(e){var t=e;return me.defined(t)&&me.string(t.uri)&&me.integer(t.version)}}(P||(P={})),function(e){e.create=function(e,t){return{uri:e,version:t}},e.is=function(e){var t=e;return me.defined(t)&&me.string(t.uri)&&(null===t.version||me.integer(t.version))}}(y||(y={})),function(e){e.create=function(e,t,n,r){return{uri:e,languageId:t,version:n,text:r}},e.is=function(e){var t=e;return me.defined(t)&&me.string(t.uri)&&me.string(t.languageId)&&me.integer(t.version)&&me.string(t.text)}}(O||(O={})),function(e){e.PlainText="plaintext",e.Markdown="markdown"}(M||(M={})),function(e){e.is=function(t){var n=t;return n===e.PlainText||n===e.Markdown}}(M||(M={})),function(e){e.is=function(e){var t=e;return me.objectLiteral(e)&&M.is(t.kind)&&me.string(t.value)}}(L||(L={})),function(e){e.Text=1,e.Method=2,e.Function=3,e.Constructor=4,e.Field=5,e.Variable=6,e.Class=7,e.Interface=8,e.Module=9,e.Property=10,e.Unit=11,e.Value=12,e.Enum=13,e.Keyword=14,e.Snippet=15,e.Color=16,e.File=17,e.Reference=18,e.Folder=19,e.EnumMember=20,e.Constant=21,e.Struct=22,e.Event=23,e.Operator=24,e.TypeParameter=25}(F||(F={})),function(e){e.PlainText=1,e.Snippet=2}(w||(w={})),function(e){e.Deprecated=1}(H||(H={})),function(e){e.create=function(e,t,n){return{newText:e,insert:t,replace:n}},e.is=function(e){var t=e;return t&&me.string(t.newText)&&s.is(t.insert)&&s.is(t.replace)}}(x||(x={})),function(e){e.asIs=1,e.adjustIndentation=2}(U||(U={})),function(e){e.is=function(e){var t=e;return t&&(me.string(t.detail)||void 0===t.detail)&&(me.string(t.description)||void 0===t.description)}}(V||(V={})),function(e){e.create=function(e){return{label:e}}}(K||(K={})),function(e){e.create=function(e,t){return{items:e||[],isIncomplete:!!t}}}(G||(G={})),function(e){e.fromPlainText=function(e){return e.replace(/[\\`*_{}[\]()#+\-.!]/g,"\\$&")},e.is=function(e){var t=e;return me.string(t)||me.objectLiteral(t)&&me.string(t.language)&&me.string(t.value)}}(B||(B={})),function(e){e.is=function(e){var t=e;return!!t&&me.objectLiteral(t)&&(L.is(t.contents)||B.is(t.contents)||me.typedArray(t.contents,B.is))&&(void 0===e.range||s.is(e.range))}}(W||(W={})),function(e){e.create=function(e,t){return t?{label:e,documentation:t}:{label:e}}}(Y||(Y={})),function(e){e.create=function(e,t){for(var n=[],r=2;r<arguments.length;r++)n[r-2]=arguments[r];var a={label:e};return me.defined(t)&&(a.documentation=t),me.defined(n)?a.parameters=n:a.parameters=[],a}}(j||(j={})),function(e){e.Text=1,e.Read=2,e.Write=3}($||($={})),function(e){e.create=function(e,t){var n={range:e};return me.number(t)&&(n.kind=t),n}}(q||(q={})),function(e){e.File=1,e.Module=2,e.Namespace=3,e.Package=4,e.Class=5,e.Method=6,e.Property=7,e.Field=8,e.Constructor=9,e.Enum=10,e.Interface=11,e.Function=12,e.Variable=13,e.Constant=14,e.String=15,e.Number=16,e.Boolean=17,e.Array=18,e.Object=19,e.Key=20,e.Null=21,e.EnumMember=22,e.Struct=23,e.Event=24,e.Operator=25,e.TypeParameter=26}(J||(J={})),function(e){e.Deprecated=1}(Q||(Q={})),function(e){e.create=function(e,t,n,r,a){var i={name:e,kind:t,location:{uri:r,range:n}};return a&&(i.containerName=a),i}}(X||(X={})),function(e){e.create=function(e,t,n,r,a,i){var s={name:e,detail:t,kind:n,range:r,selectionRange:a};return void 0!==i&&(s.children=i),s},e.is=function(e){var t=e;return t&&me.string(t.name)&&me.number(t.kind)&&s.is(t.range)&&s.is(t.selectionRange)&&(void 0===t.detail||me.string(t.detail))&&(void 0===t.deprecated||me.boolean(t.deprecated))&&(void 0===t.children||Array.isArray(t.children))&&(void 0===t.tags||Array.isArray(t.tags))}}(z||(z={})),function(e){e.Empty="",e.QuickFix="quickfix",e.Refactor="refactor",e.RefactorExtract="refactor.extract",e.RefactorInline="refactor.inline",e.RefactorRewrite="refactor.rewrite",e.Source="source",e.SourceOrganizeImports="source.organizeImports",e.SourceFixAll="source.fixAll"}(Z||(Z={})),function(e){e.create=function(e,t){var n={diagnostics:e};return null!=t&&(n.only=t),n},e.is=function(e){var t=e;return me.defined(t)&&me.typedArray(t.diagnostics,v.is)&&(void 0===t.only||me.typedArray(t.only,me.string))}}(ee||(ee={})),function(e){e.create=function(e,t,n){var r={title:e},a=!0;return"string"==typeof t?(a=!1,r.kind=t):A.is(t)?r.command=t:r.edit=t,a&&void 0!==n&&(r.kind=n),r},e.is=function(e){var t=e;return t&&me.string(t.title)&&(void 0===t.diagnostics||me.typedArray(t.diagnostics,v.is))&&(void 0===t.kind||me.string(t.kind))&&(void 0!==t.edit||void 0!==t.command)&&(void 0===t.command||A.is(t.command))&&(void 0===t.isPreferred||me.boolean(t.isPreferred))&&(void 0===t.edit||T.is(t.edit))}}(te||(te={})),function(e){e.create=function(e,t){var n={range:e};return me.defined(t)&&(n.data=t),n},e.is=function(e){var t=e;return me.defined(t)&&s.is(t.range)&&(me.undefined(t.command)||A.is(t.command))}}(ne||(ne={})),function(e){e.create=function(e,t){return{tabSize:e,insertSpaces:t}},e.is=function(e){var t=e;return me.defined(t)&&me.uinteger(t.tabSize)&&me.boolean(t.insertSpaces)}}(re||(re={})),function(e){e.create=function(e,t,n){return{range:e,target:t,data:n}},e.is=function(e){var t=e;return me.defined(t)&&s.is(t.range)&&(me.undefined(t.target)||me.string(t.target))}}(ae||(ae={})),function(e){e.create=function(e,t){return{range:e,parent:t}},e.is=function(t){var n=t;return void 0!==n&&s.is(n.range)&&(void 0===n.parent||e.is(n.parent))}}(ie||(ie={})),function(e){e.namespace="namespace",e.type="type",e.class="class",e.enum="enum",e.interface="interface",e.struct="struct",e.typeParameter="typeParameter",e.parameter="parameter",e.variable="variable",e.property="property",e.enumMember="enumMember",e.event="event",e.function="function",e.method="method",e.macro="macro",e.keyword="keyword",e.modifier="modifier",e.comment="comment",e.string="string",e.number="number",e.regexp="regexp",e.operator="operator"}(se||(se={})),function(e){e.declaration="declaration",e.definition="definition",e.readonly="readonly",e.static="static",e.deprecated="deprecated",e.abstract="abstract",e.async="async",e.modification="modification",e.documentation="documentation",e.defaultLibrary="defaultLibrary"}(oe||(oe={})),function(e){e.is=function(e){var t=e;return void 0!==t&&(void 0===t.resultId||"string"==typeof t.resultId)&&Array.isArray(t.data)&&(0===t.data.length||"number"==typeof t.data[0])}}(ce||(ce={}));var he,de=["\n","\r\n","\r"];!function(e){function t(e,n){if(e.length<=1)return e;var r=e.length/2|0,a=e.slice(0,r),i=e.slice(r);t(a,n),t(i,n);for(var s=0,o=0,c=0;s<a.length&&o<i.length;){var u=n(a[s],i[o]);e[c++]=u<=0?a[s++]:i[o++]}for(;s<a.length;)e[c++]=a[s++];for(;o<i.length;)e[c++]=i[o++];return e}e.create=function(e,t,n,r){return new fe(e,t,n,r)},e.is=function(e){var t=e;return!!(me.defined(t)&&me.string(t.uri)&&(me.undefined(t.languageId)||me.string(t.languageId))&&me.uinteger(t.lineCount)&&me.func(t.getText)&&me.func(t.positionAt)&&me.func(t.offsetAt))},e.applyEdits=function(e,n){for(var r=e.getText(),a=t(n,(function(e,t){var n=e.range.start.line-t.range.start.line;return 0===n?e.range.start.character-t.range.start.character:n})),i=r.length,s=a.length-1;s>=0;s--){var o=a[s],c=e.offsetAt(o.range.start),u=e.offsetAt(o.range.end);if(!(u<=i))throw new Error("Overlapping edit");r=r.substring(0,c)+o.newText+r.substring(u,r.length),i=c}return r}}(he||(he={}));var me,fe=function(){function e(e,t,n,r){this._uri=e,this._languageId=t,this._version=n,this._content=r,this._lineOffsets=void 0}return Object.defineProperty(e.prototype,"uri",{get:function(){return this._uri},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"languageId",{get:function(){return this._languageId},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"version",{get:function(){return this._version},enumerable:!1,configurable:!0}),e.prototype.getText=function(e){if(e){var t=this.offsetAt(e.start),n=this.offsetAt(e.end);return this._content.substring(t,n)}return this._content},e.prototype.update=function(e,t){this._content=e.text,this._version=t,this._lineOffsets=void 0},e.prototype.getLineOffsets=function(){if(void 0===this._lineOffsets){for(var e=[],t=this._content,n=!0,r=0;r<t.length;r++){n&&(e.push(r),n=!1);var a=t.charAt(r);n="\r"===a||"\n"===a,"\r"===a&&r+1<t.length&&"\n"===t.charAt(r+1)&&r++}n&&t.length>0&&e.push(t.length),this._lineOffsets=e}return this._lineOffsets},e.prototype.positionAt=function(e){e=Math.max(Math.min(e,this._content.length),0);var t=this.getLineOffsets(),n=0,r=t.length;if(0===r)return i.create(0,e);for(;n<r;){var a=Math.floor((n+r)/2);t[a]>e?r=a:n=a+1}var s=n-1;return i.create(s,e-t[s])},e.prototype.offsetAt=function(e){var t=this.getLineOffsets();if(e.line>=t.length)return this._content.length;if(e.line<0)return 0;var n=t[e.line],r=e.line+1<t.length?t[e.line+1]:this._content.length;return Math.max(Math.min(n+e.character,r),n)},Object.defineProperty(e.prototype,"lineCount",{get:function(){return this.getLineOffsets().length},enumerable:!1,configurable:!0}),e}();!function(e){var t=Object.prototype.toString;e.defined=function(e){return void 0!==e},e.undefined=function(e){return void 0===e},e.boolean=function(e){return!0===e||!1===e},e.string=function(e){return"[object String]"===t.call(e)},e.number=function(e){return"[object Number]"===t.call(e)},e.numberRange=function(e,n,r){return"[object Number]"===t.call(e)&&n<=e&&e<=r},e.integer=function(e){return"[object Number]"===t.call(e)&&-2147483648<=e&&e<=2147483647},e.uinteger=function(e){return"[object Number]"===t.call(e)&&0<=e&&e<=2147483647},e.func=function(e){return"[object Function]"===t.call(e)},e.objectLiteral=function(e){return null!==e&&"object"==typeof e},e.typedArray=function(e,t){return Array.isArray(e)&&e.every(t)}}(me||(me={}))},6813:(e,t,n)=>{"use strict";n.r(t),n.d(t,{TextDocument:()=>a});class r{constructor(e,t,n,r){this._uri=e,this._languageId=t,this._version=n,this._content=r,this._lineOffsets=void 0}get uri(){return this._uri}get languageId(){return this._languageId}get version(){return this._version}getText(e){if(e){const t=this.offsetAt(e.start),n=this.offsetAt(e.end);return this._content.substring(t,n)}return this._content}update(e,t){for(let t of e)if(r.isIncremental(t)){const e=o(t.range),n=this.offsetAt(e.start),r=this.offsetAt(e.end);this._content=this._content.substring(0,n)+t.text+this._content.substring(r,this._content.length);const a=Math.max(e.start.line,0),i=Math.max(e.end.line,0);let c=this._lineOffsets;const u=s(t.text,!1,n);if(i-a===u.length)for(let e=0,t=u.length;e<t;e++)c[e+a+1]=u[e];else u.length<1e4?c.splice(a+1,i-a,...u):this._lineOffsets=c=c.slice(0,a+1).concat(u,c.slice(i+1));const g=t.text.length-(r-n);if(0!==g)for(let e=a+1+u.length,t=c.length;e<t;e++)c[e]=c[e]+g}else{if(!r.isFull(t))throw new Error("Unknown change event received");this._content=t.text,this._lineOffsets=void 0}this._version=t}getLineOffsets(){return void 0===this._lineOffsets&&(this._lineOffsets=s(this._content,!0)),this._lineOffsets}positionAt(e){e=Math.max(Math.min(e,this._content.length),0);let t=this.getLineOffsets(),n=0,r=t.length;if(0===r)return{line:0,character:e};for(;n<r;){let a=Math.floor((n+r)/2);t[a]>e?r=a:n=a+1}let a=n-1;return{line:a,character:e-t[a]}}offsetAt(e){let t=this.getLineOffsets();if(e.line>=t.length)return this._content.length;if(e.line<0)return 0;let n=t[e.line],r=e.line+1<t.length?t[e.line+1]:this._content.length;return Math.max(Math.min(n+e.character,r),n)}get lineCount(){return this.getLineOffsets().length}static isIncremental(e){let t=e;return null!=t&&"string"==typeof t.text&&void 0!==t.range&&(void 0===t.rangeLength||"number"==typeof t.rangeLength)}static isFull(e){let t=e;return null!=t&&"string"==typeof t.text&&void 0===t.range&&void 0===t.rangeLength}}var a;function i(e,t){if(e.length<=1)return e;const n=e.length/2|0,r=e.slice(0,n),a=e.slice(n);i(r,t),i(a,t);let s=0,o=0,c=0;for(;s<r.length&&o<a.length;){let n=t(r[s],a[o]);e[c++]=n<=0?r[s++]:a[o++]}for(;s<r.length;)e[c++]=r[s++];for(;o<a.length;)e[c++]=a[o++];return e}function s(e,t,n=0){const r=t?[n]:[];for(let t=0;t<e.length;t++){let a=e.charCodeAt(t);13!==a&&10!==a||(13===a&&t+1<e.length&&10===e.charCodeAt(t+1)&&t++,r.push(n+t+1))}return r}function o(e){const t=e.start,n=e.end;return t.line>n.line||t.line===n.line&&t.character>n.character?{start:n,end:t}:e}function c(e){const t=o(e.range);return t!==e.range?{newText:e.newText,range:t}:e}!function(e){e.create=function(e,t,n,a){return new r(e,t,n,a)},e.update=function(e,t,n){if(e instanceof r)return e.update(t,n),e;throw new Error("TextDocument.update: document must be created by TextDocument.create")},e.applyEdits=function(e,t){let n=e.getText(),r=i(t.map(c),((e,t)=>{let n=e.range.start.line-t.range.start.line;return 0===n?e.range.start.character-t.range.start.character:n})),a=0;const s=[];for(const t of r){let r=e.offsetAt(t.range.start);if(r<a)throw new Error("Overlapping edit");r>a&&s.push(n.substring(a,r)),t.newText.length&&s.push(t.newText),a=e.offsetAt(t.range.end)}return s.push(n.substr(a)),s.join("")}}(a||(a={}))},1657:()=>{}},t={};function n(r){var a=t[r];if(void 0!==a)return a.exports;var i=t[r]={exports:{}};return e[r].call(i.exports,i,i.exports,n),i.exports}n.d=(e,t)=>{for(var r in t)n.o(t,r)&&!n.o(e,r)&&Object.defineProperty(e,r,{enumerable:!0,get:t[r]})},n.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),n.r=e=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},window.onload=function(){window.require(["vs/editor/editor.main"],(function(){n(1026)}))}})();
//# sourceMappingURL=bundle.js.map